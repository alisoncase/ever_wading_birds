"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[13938,40663,63044,95644],{2925:(e,n,t)=>{t.d(n,{$:()=>z,IB:()=>u,Iy:()=>C,KV:()=>J,N2:()=>x,QP:()=>q,RH:()=>k,Vl:()=>$,Ws:()=>T,ZD:()=>M,_L:()=>R,bJ:()=>V,e$:()=>L,f6:()=>P,hw:()=>D,pW:()=>E,pf:()=>O,rs:()=>B,sn:()=>_,we:()=>N});var r=t(88102),a=t(62631),i=t(82301),s=t(64682),l=t(60548),o=t(24646);function u(e){return"r"in e&&"g"in e&&"b"in e}function c(e){return"h"in e&&"s"in e&&"v"in e}function f(e){return"l"in e&&"a"in e&&"b"in e}function p(e){return"l"in e&&"c"in e&&"h"in e}const h=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],d=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function m(e,n){const t=[];let r,a;if(e[0].length!==n.length)throw new Error("dimensions do not match");const i=e.length,s=e[0].length;let l=0;for(r=0;r<i;r++){for(l=0,a=0;a<s;a++)l+=e[r][a]*n[a];t.push(l)}return t}function g(e){const n=[e.r/255,e.g/255,e.b/255].map((e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4)),t=m(h,n);return{x:100*t[0],y:100*t[1],z:100*t[2]}}function v(e){const n=m(d,[e.x/100,e.y/100,e.z/100]).map((e=>{const n=e<=.0031308?12.92*e:1.055*e**(1/2.4)-.055;return Math.min(1,Math.max(n,0))}));return{r:Math.round(255*n[0]),g:Math.round(255*n[1]),b:Math.round(255*n[2])}}function w(e){const n=[e.x/95.047,e.y/100,e.z/108.883].map((e=>e>(6/29)**3?e**(1/3):1/3*(29/6)**2*e+4/29));return{l:116*n[1]-16,a:500*(n[0]-n[1]),b:200*(n[1]-n[2])}}function y(e){const n=e.l,t=[(n+16)/116+e.a/500,(n+16)/116,(n+16)/116-e.b/200].map((e=>e>6/29?e**3:3*(6/29)**2*(e-4/29)));return{x:95.047*t[0],y:100*t[1],z:108.883*t[2]}}function b(e){return function(e){const n=e.l,t=e.a,r=e.b,a=Math.sqrt(t*t+r*r);let i=Math.atan2(r,t);return i=i>0?i:i+2*Math.PI,{l:n,c:a,h:i}}(w(g(e)))}function S(e){return v(y(function(e){const n=e.l,t=e.c,r=e.h;return{l:n,a:t*Math.cos(r),b:t*Math.sin(r)}}(e)))}function z(e){return u(e)?e:p(e)?S(e):f(e)?function(e){return v(y(e))}(e):function(e){return"x"in e&&"y"in e&&"z"in e}(e)?v(e):c(e)?function(e){const n=(e.h+360)%360/60,t=e.s/100,r=e.v/100*255,a=r*t,i=a*(1-Math.abs(n%2-1));let s;switch(Math.floor(n)){case 0:s={r:a,g:i,b:0};break;case 1:s={r:i,g:a,b:0};break;case 2:s={r:0,g:a,b:i};break;case 3:s={r:0,g:i,b:a};break;case 4:s={r:i,g:0,b:a};break;case 5:case 6:s={r:a,g:0,b:i};break;default:s={r:0,g:0,b:0}}return s.r=Math.round(s.r+r-a),s.g=Math.round(s.g+r-a),s.b=Math.round(s.b+r-a),s}(e):e}function x(e){return c(e)?e:function(e){const n=e.r,t=e.g,r=e.b,a=Math.max(n,t,r),i=a-Math.min(n,t,r);let s=a,l=0===i?0:a===n?(t-r)/i%6:a===t?(r-n)/i+2:(n-t)/i+4,o=0===i?0:i/s;return l<0&&(l+=6),l*=60,o*=100,s*=100/255,{h:l,s:o,v:s}}(z(e))}function M(e){return f(e)?e:function(e){return w(g(e))}(z(e))}function k(e){return p(e)?e:b(z(e))}function B(e){return A(e).isBright?"light":"dark"}function A(e){let{r:n,g:t,b:a,a:i}=e;return i<1&&(n=Math.round(i*n+255*(1-i)),t=Math.round(i*t+255*(1-i)),a=Math.round(i*a+255*(1-i))),new r.default({r:n,g:t,b:a})}function T(e,n){const{r:t,g:r,b:a}=n?.ignoreAlpha?e:A(e);return.2126*t+.7152*r+.0722*a}var E,I;function V(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E.High;return T(e,{ignoreAlpha:!0})>n?new r.default([0,0,0,e.a]):new r.default([255,255,255,e.a])}function L(e,n){const t=M(e);t.l*=1-n;const r=z(t),a=e.clone();return a.setColor(r),a.a=e.a,a}function R(e,n){const t=e.clone();return t.a*=n,t}function $(e,n){const t=x(e);t.s*=n;const r=z(t),a=e.clone();return a.setColor(r),a.a=e.a,a}function q(e){return r.default.toUnitRGBA(e)}function D(e,n){return e===n||null!=e&&e.equals(n)}function N(e,n){return e===n||null!=e&&null!=n&&(0,l.e)(e,n)}function O(e){return(0,o.fA)(e[0],e[1],e[2],e.length>3?e[3]:1)}function J(e){return e[0]??=0,e[1]??=0,e[2]??=0,e}function _(e){return e.length=4,J(e),e[3]??=1,(0,s.qE)(e[3],0,1),e}function P(e,n){const t=r.default.toUnitRGBA(e);return t[3]*=n,t}function C(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(0===e.length||n<=0)return[];if(1===(e=e.map((e=>"string"==typeof e?new r.default(e):e))).length||1===n){const t=[],r=e[0];for(let e=0;e<n;e++)t.push(r.clone());return t}if(t.shuffle&&(e=(0,a.k4)((0,i.clone)(e),t.seed)),e.length>=n){const t=[],r=(e.length-1)/(n-1);for(let a=0;a<n;a++){const n=Math.round(a*r);t.push(e[n].clone())}return t}return function(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=[],i=e.length-1,s=Math.ceil((n-e.length)/i);e:for(let a=0;a<i;a++){const i=e[a],l=e[a+1];for(let a=1;a<=s;a++){const o=a/(s+1);if(r.push(H(i,l,o,t)),r.length+e.length===n)break e}}return[...e.map((e=>e.clone())),...(0,a.k4)(r,t.seed??1)]}(e,n,t)}(I=E||(E={}))[I.Low=160]="Low",I[I.High=225]="High";const G=(e,n)=>{const t=Math.floor(10*n())-5;return Math.min(255,Math.max(0,e+t))};function H(e,n,t){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const s=e.r,l=e.g,o=e.b,u=n.r,c=n.g,f=n.b,p=Math.round(s+(u-s)*t),h=Math.round(l+(c-l)*t),d=Math.round(o+(f-o)*t);if(!i.offset)return new r.default([p,h,d]);const m=(0,a.Mo)(i.seed);return new r.default([G(p,m),G(h,m),G(d,m)])}},28245:(e,n,t)=>{t.d(n,{bG:()=>s,Ty:()=>o,YJ:()=>u,Fq:()=>c,vt:()=>l});var r=t(82301),a=t(79538);class i{constructor(e){const{name:n,label:t,description:r,schemes:i}=e;this.name=n,this.label=t,this.description=r,this.schemes=i;const s=e.basemapGroups||a.Np;let l=[];Object.keys(s).forEach((e=>{l=l.concat(s[e])})),this.supportedBasemaps=l,this.basemapGroups=s}isBasemapSupported(e){const n=(0,a.T1)(e,this.supportedBasemaps);return!(!n||!this.supportedBasemaps.includes(n))}getRawSchemes(e){const{basemapId:n,basemapTheme:t}=function(e,n,t){let r=null,i=null;if(n&&(r=(0,a.T1)(n,e,!1),r)){const e=(0,a.BV)(r);null!=e&&(i=e)}return!r&&t&&(r="dark"===t?"dark-gray":"gray",i=t),r||i||(r="gray",i="light"),{basemapId:r,basemapTheme:i}}(this.supportedBasemaps,e.basemap,e.basemapTheme);let i=t;if(n){const e=(0,a.BV)(n,this.basemapGroups);null!=e&&(i=e)}let s=e.geometryType;"multipoint"===s?s="point":"mesh"===s&&(s="polygon");const l=this.schemes[s]||this.schemes.default;return{schemesInfo:(0,r.clone)(l[i]),basemapId:n,basemapTheme:t}}}function s(e){const n=e.themeDictionary,t=new Map;for(const r in n){const e=n[r];t.set(r,new i(e))}return t}function l(e,n){const t=[];return e.forEach((e=>{e.isBasemapSupported(n)&&t.push({name:e.name,label:e.label,description:e.description,basemaps:[...e.supportedBasemaps]})})),t}function o(e,n){if(!e)return;if(!n)return;let t=null;const r=[n.primaryScheme,...n.secondarySchemes];for(const a of r)if(a.name?.toLowerCase()===e.toLowerCase()){t=a;break}return t}function u(e,n,t){if(!e&&!n)return[];if(!t)return[];const r=!e?.length,a=!n?.length,i=[t.primaryScheme,...t.secondarySchemes],s=[];for(const l of i){const t=!!r||e.some((e=>l.tags.includes(e))),i=!a&&n.some((e=>l.tags.includes(e)));t&&!i&&s.push(l)}return s}function c(e){const n=e.theme;if(n)return n.getRawSchemes({basemap:e.basemap,geometryType:e.geometryType,basemapTheme:e.basemapTheme})}},30178:(e,n,t)=>{t.r(n),t.d(n,{default:()=>w});var r=t(74719),a=t(11099),i=t(46176),s=t(85151),l=t(2938);const o=500,u=1e8,c=1280,f=12,p=30,h=15;async function d(e){const{view:n,sampleSize:t}=e;if(!e||!e.layer)throw new r.default("scale-range:missing-parameters","'layer' parameter is required");if(e.snapToLOD&&!n)throw new r.default("scale-range:missing-parameters","'view' parameter is required when 'snapToLOD' is true");e.forBinning&&(0,s.p)(e,"scale-range");const{layer:a,...i}=e,u=e.forBinning?l.Mi:l.J4,c=(0,l.Jg)(a,u,e.forBinning);if(!c)throw new r.default("scale-range:invalid-parameters","'layer' must be one of these types: "+(0,l.Ho)(u).join(", "));const f={layerAdapter:c,...i};f.sampleSize=t||o,await(n?.when());const p=null!=f.signal?{signal:f.signal}:null;return await c.load(p),f}function m(e,n,t){const r=function(e,n){const t=f,r=c/4,a=p,i=c/4,s=h,l=c/2;let o=0,u=0,d=0,m=0;switch(e){case"point":case"multipoint":{const e=n;o=e.avgMinDistance??0,u=t,d=e.minDistance??0,m=r;break}case"polyline":{const e=n;o=e.avgLength??0,u=a,d=e.minLength??0,m=i;break}case"polygon":{const e=n;o=e.avgSize??0,u=s,d=e.minSize??0,m=l;break}}return{resolutionForMinScale:o>0?o/u:null,resolutionForMaxScale:d>0?d/m:null}}(e.geometryType,n),i=t?.spatialReference||e.layer.spatialReference;return{minScale:(0,a.gB)(r.resolutionForMinScale??0,i),maxScale:(0,a.gB)(r.resolutionForMaxScale??0,i)}}function g(e,n){let t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e.constraints&&"effectiveLODs"in e.constraints){const r=e.constraints.effectiveLODs,a=t?r:r.slice().reverse();let i=null;for(const e of a)if(!(t?e.scale>n:e.scale<n)){i=e;break}return i}}function v(e,n,t,a){const{view:i,snapToLOD:s,layerAdapter:l}=e;if(s&&i){const e=g(i,n),r=g(i,t,!1);n=e?e.scale:n,t=r?r.scale:t}if(n<t)throw new r.default("scale-range:invalid","calculated minScale is less than maxScale.");return t>n/2&&(t=Math.floor(t/2)),n>u&&(n=0),"polygon"!==l.geometryType&&(t=0),{minScale:Math.ceil(n),maxScale:Math.floor(t),spatialStatistics:a}}async function w(e){const n=await d(e),{view:t,sampleSize:a,layerAdapter:s,signal:l,filter:o}=n,u=await s.getSampleFeatures({view:t,sampleSize:a,returnGeometry:!0,filter:o,signal:l},"json");if(!u?.length)throw new r.default("scale-range:insufficient-info","No features are available to calculate statistics");const c=await(0,i.A)({features:u,geometryType:s.geometryType}),{minScale:f,maxScale:p}=m(s,c,t);return v(n,f,p,c)}},40663:(e,n,t)=>{t.d(n,{AC:()=>a,DW:()=>o,Hj:()=>S,Ih:()=>m,Jy:()=>f,OW:()=>v,Rv:()=>u,UJ:()=>l,_i:()=>c,d8:()=>h,fs:()=>p,kc:()=>d,ke:()=>b,mE:()=>i,wx:()=>s});var r=t(74719);async function a(e,n){const{layer:t,view:a,forBinning:i,filter:s}=e;if(!t||!a)throw new r.default(`${n}:missing-parameters`,"'layer' and 'view' parameters are required");await t.load();const l="featureReduction"in t?t.featureReduction:null;if(i){if("binning"!==l?.type)throw new r.default(`${n}:invalid-parameters`,"'layer' must have 'featureReduction' property defined with 'binning' type when 'forBinning' parameter is true");if(s)throw new r.default(`${n}:invalid-parameters`,"'filter' parameter is not supported when 'forBinning' parameter is true")}return e}async function i(e){const{layer:n,forBinning:t,renderer:a}=e;await n.load();const i="featureReduction"in n?n.featureReduction:null,s=a?.clone()??(t&&"binning"===i?.type?i?.renderer?.clone():"renderer"in n?n.renderer?.clone():null);if(!s)throw new r.default("get-renderer-to-update:invalid-parameters","renderer not available");return s}function s(e,n,t){const r=e?.authoringInfo?.visualVariables;return r?.find((e=>"reference-size"===t?e.type===n&&"reference-size"===e.theme:e.type===n))}function l(e){if(!e)return null;const n=e.type,t="visualVariables"in e?e.visualVariables:null,r=t?.find(m),a=t?.find(v),i=e.authoringInfo,l=s(e,"color"),o=s(e,"size"),u=s(e,"size","reference-size");if("class-breaks"===n){if("univariate-color-size"===i?.type)return"univariate-color-size";if(r)return a?o?.units?"color-size-age":l?.units?"color-age-size":"color-size":l?.units?"color-age":u?"color-size":"color-continuous";if(a)return o?.units?"size-age":"size-continuous";if(e.classBreakInfos.length>1)return"class-breaks-color"===i?.type?"color-class-breaks":"class-breaks-size"===i?.type?"size-class-breaks":null;if(u)return"size-continuous"}return"unique-value"===n?e.valueExpression?"predominance"===i?.type?"predominance":"relationship"===i?.type?a||u?"relationship-size":"relationship":a||u?"type-size":"type":a?o?.units?"type-size-age":"type-size":u?"type-size":"type":"pie-chart"===n?"pie-chart":"dot-density"===n?"dot-density":null}function o(e){return!!e.visualVariables?.some(w)}function u(e){return!!e.visualVariables?.some(y)}function c(e){return e?.findIndex(w)??-1}function f(e){return e?.findIndex(v)??-1}function p(e){return e?.findIndex(m)??-1}function h(e){return e?.findIndex(g)??-1}function d(e){return e?.findIndex(y)??-1}function m(e){return"color"===e.type}function g(e){return"opacity"===e.type}function v(e){return"size"===e.type&&"outline"!==e.target&&"$view.scale"!==e.valueExpression}function w(e){return"size"===e.type&&"outline"===e.target}function y(e){return"size"===e.type&&"$view.scale"===e.valueExpression&&"outline"!==e.target&&Array.isArray(e.stops)}function b(e,n,t){const r=e.visualVariables,a=t(r);if(!n||Array.isArray(n)&&!n.length)return;Array.isArray(n)||(n=[n]);const i=n.map((e=>e.clone()));r?a>-1?r.splice(a,1,...i):r.push(...i):e.visualVariables=i}function S(e,n,t){const r=n?.visualVariables.find((e=>e.type===t)),a=s(e,t);a&&r&&(a.minSliderValue=r.minSliderValue,a.maxSliderValue=r.maxSliderValue,"size"===t&&"reference-size"===a.theme&&(a.sizeStops=r.sizeStops?.map((e=>e.clone())),a.referenceSizeScale=r.referenceSizeScale))}},42648:(e,n,t)=>{t.d(n,{_J:()=>u,_t:()=>o});var r=t(16804),a=t(79538);const i=a.Np.light,s=a.Np.dark;function l(e,n){return e.r===n.r&&e.g===n.g&&e.b===n.b}function o(e,n){let t=0;if(e.length===n.length){let r=e.every(((e,t)=>l(e,n[t])));r?t=1:(r=e.slice().reverse().every(((e,t)=>l(e,n[t]))),r&&(t=-1))}return t}function u(e,n){return Math.ceil(function(e){const n=e.width,t=e.height;let a=e.pixelSizeAt(e.toMap((0,r.tc)(.5*n,.5*t),{exclude:[]}));if(a<=0&&(a=e.pixelSizeAt(e.toMap((0,r.tc)(.5*n,.95*t),{exclude:[]})),a<=0&&"camera"in e)){const n=e.camera.position.clone();n.z=0,a=2*e.pixelSizeAt(n)}return a}(n)*(0,r.Lz)((0,r.cr)(e)))}},66787:(e,n,t)=>{t.r(n),t.d(n,{default:()=>z});t(21265);var r=t(74719),a=t(16804),i=t(11099),s=t(56563),l=t(81467),o=t(30178),u=t(85151),c=t(2938);const f=1e8,p=1128.497176,h=591657527.591555,d=[10,8,4,2],m=[100,100,60,30],g=[2,1,.75,.5],v=[32,18,12,6],w=[{level:0,resolution:156543.03392800014,scale:591657527.591555},{level:1,resolution:78271.51696399994,scale:295828763.795777},{level:2,resolution:39135.75848200009,scale:147914381.897889},{level:3,resolution:19567.87924099992,scale:73957190.948944},{level:4,resolution:9783.93962049996,scale:36978595.474472},{level:5,resolution:4891.96981024998,scale:18489297.737236},{level:6,resolution:2445.98490512499,scale:9244648.868618},{level:7,resolution:1222.992452562495,scale:4622324.434309},{level:8,resolution:611.4962262813797,scale:2311162.217155},{level:9,resolution:305.74811314055756,scale:1155581.108577},{level:10,resolution:152.87405657041106,scale:577790.554289},{level:11,resolution:76.43702828507324,scale:288895.277144},{level:12,resolution:38.21851414253662,scale:144447.638572},{level:13,resolution:19.10925707126831,scale:72223.819286},{level:14,resolution:9.554628535634155,scale:36111.909643},{level:15,resolution:4.77731426794937,scale:18055.954822},{level:16,resolution:2.388657133974685,scale:9027.977411},{level:17,resolution:1.1943285668550503,scale:4513.988705},{level:18,resolution:.5971642835598172,scale:2256.994353},{level:19,resolution:.29858214164761665,scale:1128.497176}];function y(e,n){const{view:t}=e;if(!t)throw new r.default("scale-range:invalid-parameters","'view' is required");const a=n.minScale||f,i=t.constraints&&"effectiveLODs"in t.constraints&&t.constraints.effectiveLODs||w,s=[];for(let r=0;r<i.length;r++){if(i[r].scale>a)continue;const e=Number(r),n=[e-3,e,e+3,e+6];for(const t of n)t>-1&&t<i.length&&s.push(i[t].scale);break}return s.sort(((e,n)=>e-n))}function b(e,n){const{view:t,layerAdapter:a}=e;if(!t)throw new r.default("scale-range:invalid-parameters","'view' is required");const s=a.fullExtent,l=a.minScale||p,o=a.maxScale||h,u=n.minScale||0,c=n.maxScale||0;let f=null!=s?(0,i.X_)(t,s):0;return f=f<l&&f>o?f:0,{scales:[l,o,u,c,f].map(Math.round).sort(((e,n)=>e-n)).filter(((e,n,t)=>!!e&&t.indexOf(e)===n)).filter(((e,n,t)=>!n||Math.abs(e-t[n-1])>5)),fullExtentScale:f}}function S(e,n){const{spatialStatistics:t,minScale:i,maxScale:o}=n;if(!("avgSize"in t)||!t.avgSize)throw new r.default("size-range:insufficient-info","average polygon size is invalid");const u=t.avgSize,{view:c}=e;if(!c)throw new r.default("scale-range:invalid-parameters","'view' is required");const{resolution:f,scale:p}=c,h=f/p,{scales:d,fullExtentScale:m}=b(e,{minScale:i,maxScale:o}),g=[],v=[];return d.forEach(((e,n)=>{const{min:t,max:r}=function(e,n){const t=Math.ceil(e/n);let r=Math.ceil(t/4);r<4?r=4:r>16&&(r=16);const a=5*r;return{min:r,max:a<50?50:a}}(u,h*e),i=d.indexOf(m),s=i>-1&&n>i?2:1;g.push(new l.default({value:e,size:(0,a.PN)(t/s)})),v.push(new l.default({value:e,size:(0,a.PN)(r/s)}))})),{minSize:new s.default({valueExpression:"$view.scale",stops:g}),maxSize:new s.default({valueExpression:"$view.scale",stops:v})}}async function z(e){const n=await async function(e){const{view:n}=e;if(!(e&&n&&e.layer))throw new r.default("size-range:missing-parameters","'view' and 'layer' parameters are required");e.forBinning&&(0,u.p)(e,"size-range");const{layer:t,...a}=e,i=e.forBinning?c.Mi:c.J4,s=(0,c.Jg)(t,i,e.forBinning);if(!s)throw new r.default("size-range:invalid-parameters","'layer' must be one of these types: "+(0,c.Ho)(i).join(", "));const l={layerAdapter:s,...a,view:n};await n.when();const o=null!=l.signal?{signal:l.signal}:null;await s.load(o);const f=s.geometryType;if("point"!==f&&"multipoint"!==f&&"polyline"!==f&&"polygon"!==f)throw new r.default("size-range:not-supported",`sizeRange is not supported for geometryType: ${f}`);return l}(e),{view:t,layerAdapter:i,signal:f,filter:p}=n,h=await(0,o.default)({layer:i,view:t,signal:f,filter:p});switch(i.geometryType){case"point":case"multipoint":return function(e,n){const{minScale:t,maxScale:i}=n,o=y(e,{minScale:t,maxScale:i});if(!o.length)throw new r.default("scale-range:insufficient-info","not enough scale values");return{minSize:new s.default({valueExpression:"$view.scale",stops:o.map(((e,n)=>new l.default({value:e,size:(0,a.PN)(d[n])})))}),maxSize:new s.default({valueExpression:"$view.scale",stops:o.map(((e,n)=>new l.default({value:e,size:(0,a.PN)(m[n])})))})}}(n,h);case"polyline":return function(e,n){const{minScale:t,maxScale:i}=n,o=y(e,{minScale:t,maxScale:i});if(!o.length)throw new r.default("scale-range:insufficient-info","not enough scale values");return{minSize:new s.default({valueExpression:"$view.scale",stops:o.map(((e,n)=>new l.default({value:e,size:(0,a.PN)(g[n])})))}),maxSize:new s.default({valueExpression:"$view.scale",stops:o.map(((e,n)=>new l.default({value:e,size:(0,a.PN)(v[n])})))})}}(n,h);case"polygon":return S(n,h);case"mesh":case"multipatch":return null}return null}}}]);