"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[64667,79538,81060],{28245:(e,t,r)=>{r.d(t,{bG:()=>s,Ty:()=>l,YJ:()=>p,Fq:()=>u,vt:()=>i});var a=r(82301),o=r(79538);class n{constructor(e){const{name:t,label:r,description:a,schemes:n}=e;this.name=t,this.label=r,this.description=a,this.schemes=n;const s=e.basemapGroups||o.Np;let i=[];Object.keys(s).forEach((e=>{i=i.concat(s[e])})),this.supportedBasemaps=i,this.basemapGroups=s}isBasemapSupported(e){const t=(0,o.T1)(e,this.supportedBasemaps);return!(!t||!this.supportedBasemaps.includes(t))}getRawSchemes(e){const{basemapId:t,basemapTheme:r}=function(e,t,r){let a=null,n=null;if(t&&(a=(0,o.T1)(t,e,!1),a)){const e=(0,o.BV)(a);null!=e&&(n=e)}return!a&&r&&(a="dark"===r?"dark-gray":"gray",n=r),a||n||(a="gray",n="light"),{basemapId:a,basemapTheme:n}}(this.supportedBasemaps,e.basemap,e.basemapTheme);let n=r;if(t){const e=(0,o.BV)(t,this.basemapGroups);null!=e&&(n=e)}let s=e.geometryType;"multipoint"===s?s="point":"mesh"===s&&(s="polygon");const i=this.schemes[s]||this.schemes.default;return{schemesInfo:(0,a.clone)(i[n]),basemapId:t,basemapTheme:r}}}function s(e){const t=e.themeDictionary,r=new Map;for(const a in t){const e=t[a];r.set(a,new n(e))}return r}function i(e,t){const r=[];return e.forEach((e=>{e.isBasemapSupported(t)&&r.push({name:e.name,label:e.label,description:e.description,basemaps:[...e.supportedBasemaps]})})),r}function l(e,t){if(!e)return;if(!t)return;let r=null;const a=[t.primaryScheme,...t.secondarySchemes];for(const o of a)if(o.name?.toLowerCase()===e.toLowerCase()){r=o;break}return r}function p(e,t,r){if(!e&&!t)return[];if(!r)return[];const a=!e?.length,o=!t?.length,n=[r.primaryScheme,...r.secondarySchemes],s=[];for(const i of n){const r=!!a||e.some((e=>i.tags.includes(e))),n=!o&&t.some((e=>i.tags.includes(e)));r&&!n&&s.push(i)}return s}function u(e){const t=e.theme;if(t)return t.getRawSchemes({basemap:e.basemap,geometryType:e.geometryType,basemapTheme:e.basemapTheme})}},42648:(e,t,r)=>{r.d(t,{_J:()=>p,_t:()=>l});var a=r(16804),o=r(79538);const n=o.Np.light,s=o.Np.dark;function i(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b}function l(e,t){let r=0;if(e.length===t.length){let a=e.every(((e,r)=>i(e,t[r])));a?r=1:(a=e.slice().reverse().every(((e,r)=>i(e,t[r]))),a&&(r=-1))}return r}function p(e,t){return Math.ceil(function(e){const t=e.width,r=e.height;let o=e.pixelSizeAt(e.toMap((0,a.tc)(.5*t,.5*r),{exclude:[]}));if(o<=0&&(o=e.pixelSizeAt(e.toMap((0,a.tc)(.5*t,.95*r),{exclude:[]})),o<=0&&"camera"in e)){const t=e.camera.position.clone();t.z=0,o=2*e.pixelSizeAt(t)}return o}(t)*(0,a.Lz)((0,a.cr)(e)))}},79538:(e,t,r)=>{r.d(t,{BV:()=>D,EG:()=>w,Lk:()=>B,Ll:()=>z,Np:()=>u,R3:()=>F,SO:()=>d,T1:()=>S,UH:()=>p,Wy:()=>k,XR:()=>h,aM:()=>T,fs:()=>b,i0:()=>x,i3:()=>y});var a=r(66845),o=r(95011),n=r(96247),s=r(76983),i=r(73210),l=r(40731);const p=",",u={light:["streets","gray","topo","terrain","oceans","osm","gray-vector","streets-vector","topo-vector","streets-relief-vector","streets-navigation-vector","topo-3d","navigation-3d","streets-3d","osm-3d","gray-3d"],dark:["satellite","hybrid","dark-gray","dark-gray-vector","streets-night-vector","navigation-dark-3d","streets-dark-3d","dark-gray-3d"]},c="percent-of-total",m="field",h={exclude:["median"]},d={years:365,months:30,days:1,hours:1/24,minutes:1/1440,seconds:1/86400,milliseconds:1/864e5},g=new Set(["integer","small-integer"]);let f=null;const y=["date","date-only","timestamp-offset"];function b(e){return(0,o.isDateField)(e)||(0,o.isDateOnlyField)(e)||(0,o.isTimestampOffsetField)(e)}async function w(e){const{field:t,field2:r,field3:a,normalizationField:o,valueExpression:s}=e;let i=[];if(s){if(!f){const{arcadeUtils:e}=await(0,n.lw)();f=e}i=f.extractFieldNames(s)}return t&&i.push(t),r&&i.push(r),a&&i.push(a),o&&i.push(o),i}function k(e){let t=e.normalizationType;return t||(e.normalizationField?t=m:null!=e.normalizationTotal&&(t=c)),t??void 0}function C(e){return String(e).padStart(2,"0")}function v(e,t,r){let a;return"date"===t||"number"===t?("number"===t&&(e=new Date(e)),a=`TIMESTAMP'${r?e.getFullYear():e.getUTCFullYear()}-${C((r?e.getMonth():e.getUTCMonth())+1)}-${C(r?e.getDate():e.getUTCDate())} ${C(r?e.getHours():e.getUTCHours())}:${C(r?e.getMinutes():e.getUTCMinutes())}:${C(r?e.getSeconds():e.getUTCSeconds())}'`):a=e,a}function T(e,t,r,a){const{hasQueryEngine:o}=e,n=`(${v(r,B(e,r),o)} - ${v(t,B(e,t),o)})`;let s=d[a],i="/";return s<1&&(s=1/s,i="*"),{sqlExpression:1===s?n:`(${n} ${i} ${s})`,sqlWhere:null}}function B(e,t){if(t instanceof Date)return"date";if("number"==typeof t)return"number";if("string"==typeof t){const r=e.getField(t);if("<now>"===t.toLowerCase())return;if((0,o.isDateField)(r))return"field"}}function D(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;for(const r in t)if(t[r].includes(e))return r}function S(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=null;return e&&("string"==typeof e?t.includes(e)&&(a=e):a=(0,s.q3)(e)),r?a||"gray":a}function F(e,t){const r=t&&e.getField(t);return!!r&&g.has(r.type)}function z(e){return`cast(${e} as float)`}function x(e,t){const{format:r,timeZoneOptions:o,fieldType:n}=t??{};let s,p;if(o&&({timeZone:s,timeZoneName:p}=(0,l.hv)(o.layerTimeZone,o.datesInUnknownTimezone,o.viewTimeZone,(0,a.J2)(r||"short-date-short-time"),n)),"string"==typeof e&&isNaN(Date.parse("time-only"===n?`1970-01-01T${e}Z`:e)))return e;switch(n){case"date-only":{const t=(0,a.J2)(r||"short-date");return"string"==typeof e?(0,a.iS)(e,{...t}):(0,a.Yq)(e,{...t,timeZone:i.n$})}case"time-only":{const t=(0,a.J2)(r||"short-time");return"string"==typeof e?(0,a.F8)(e,t):(0,a.Yq)(e,{...t,timeZone:i.n$})}case"timestamp-offset":{if(!s&&"string"==typeof e&&new Date(e).toISOString()!==e)return e;const t=r||o?(0,a.J2)(r||"short-date-short-time"):void 0,n=t?{...t,timeZone:s,timeZoneName:p}:void 0;return"string"==typeof e?(0,a.Ey)(e,n):(0,a.Yq)(e,n)}default:{const t=r||o?(0,a.J2)(r||"short-date-short-time"):void 0;return(0,a.Yq)("string"==typeof e?new Date(e):e,t?{...t,timeZone:s,timeZoneName:p}:void 0)}}}},87048:(e,t,r)=>{r.r(t),r.d(t,{cloneScheme:()=>y,flatten2DArray:()=>b,flipColors:()=>k,getColors:()=>w,getMatchingSchemes:()=>C,getSchemeByName:()=>g,getSchemes:()=>d,getSchemesByTag:()=>f,getThemes:()=>h});var a=r(88102),o=r(62631),n=r(82301),s=r(43073),i=r(28245),l=r(42648);const p={light:{color:[153,153,153,.25],width:"1px"},dark:{color:[153,153,153,.25],width:"1px"},darker:{color:[26,26,26,.25],width:"1px"}},u={lightBasemaps:{primary:"relationship-blue-orange-brown",secondary:["relationship-brewer-yellow-blue-black","relationship-brewer-pink-blue-purple","relationship-purple-green-blue","relationship-blue-green-purple","relationship-blue-orange-green","relationship-mustard-blue-wine","relationship-pink-blue-purple","relationship-olive-blue-green","relationship-yellow-cyan-blue","relationship-blue-pink-purple","relationship-purple-green-wine","relationship-blue-peach-purple","relationship-mint-mustard-green","relationship-purple-mustard-darkpurple","relationship-blue-orange-purple","relationship-pink-periwinkle-violet","relationship-blue-tan-green","relationship-blue-red-pink","relationship-blue-green-brightgreen","relationship-blue-orange-lavender","relationship-pink-purple-peach","relationship-purple-mustard-eggshell","relationship-blue-brick-green","relationship-orange-purple-lavender","relationship-brown-purple-lilac","relationship-teal-yellow-lightteal"]},darkBasemaps:{primary:"relationship-blue-green-brightgreen",secondary:["relationship-blue-red-pink","relationship-blue-orange-lavender","relationship-pink-purple-peach","relationship-purple-mustard-eggshell","relationship-blue-brick-green","relationship-orange-purple-lavender","relationship-brown-purple-lilac","relationship-teal-yellow-lightteal","relationship-blue-orange-brown","relationship-brewer-yellow-blue-black","relationship-brewer-pink-blue-purple","relationship-purple-green-blue","relationship-blue-green-purple","relationship-blue-orange-green","relationship-mustard-blue-wine","relationship-pink-blue-purple","relationship-olive-blue-green","relationship-yellow-cyan-blue","relationship-blue-pink-purple","relationship-purple-green-wine","relationship-blue-peach-purple","relationship-mint-mustard-green","relationship-purple-mustard-darkpurple","relationship-blue-orange-purple","relationship-pink-periwinkle-violet","relationship-blue-tan-green"]}},c="#aaaaaa",m=(0,i.bG)({themeDictionary:{default:{name:"default",label:"Default",description:"Default theme for visualizing features based on relationship between two attributes.",schemes:{point:{light:{common:{noDataColor:c,outline:p.light,size:"8px"},primary:u.lightBasemaps.primary,secondary:u.lightBasemaps.secondary},dark:{common:{noDataColor:c,outline:p.darker,size:"8px"},primary:u.darkBasemaps.primary,secondary:u.darkBasemaps.secondary}},polyline:{light:{common:{noDataColor:c,width:"2px"},primary:u.lightBasemaps.primary,secondary:u.lightBasemaps.secondary},dark:{common:{noDataColor:c,width:"2px"},primary:u.darkBasemaps.primary,secondary:u.darkBasemaps.secondary}},polygon:{light:{common:{noDataColor:c,outline:p.light,fillOpacity:.8},primary:u.lightBasemaps.primary,secondary:u.lightBasemaps.secondary},dark:{common:{noDataColor:c,outline:p.dark,fillOpacity:.8},primary:u.darkBasemaps.primary,secondary:u.darkBasemaps.secondary}}}}}});function h(e){return(0,i.vt)(m,e)}function d(e){const t=(0,i.Fq)({basemap:e.basemap,geometryType:e.geometryType,basemapTheme:e.basemapTheme,theme:m.get("default")});if(!t)return;const{schemesInfo:r,basemapId:a,basemapTheme:n}=t,s={...e,basemap:a};return{primaryScheme:D(s,r.primary,r.common),secondarySchemes:r.secondary.map((e=>D(s,e,r.common))).filter(o.Ru),basemapId:a,basemapTheme:n}}function g(e){return(0,i.Ty)(e.name,d(e))}function f(e){return(0,i.YJ)(e.includedTags,e.excludedTags,d(e))}function y(e){if(!e)return;const t={...e};return t.colorsForClassBreaks=t.colorsForClassBreaks.map((e=>({numClasses:e.numClasses,colors:e.colors.map((e=>e.map((e=>new a.default(e)))))}))),t.tags=[...t.tags],t.noDataColor&&(t.noDataColor=new a.default(t.noDataColor)),"outline"in t&&t.outline&&(t.outline={color:t.outline.color&&new a.default(t.outline.color),width:t.outline.width}),t}function b(e,t){e=(0,n.clone)(e);let r=[];const a=(t||"HH").split(""),o=a[0],s=a[1];"L"===o&&e.reverse();const i="H"===s;return e.forEach((e=>{i&&e.reverse(),r=r.concat(e)})),r}function w(e,t,r){let o;return e.colorsForClassBreaks.some((e=>(e.numClasses===t&&(o=e.colors),!!o))),o=o?.map((e=>e.map((e=>new a.default(e))))),o?b(o,r):null}function k(e,t){const r=t?e:y(e);return r.colorsForClassBreaks.forEach((e=>{const t=e.colors.reverse(),r=[];for(let a=0;a<e.numClasses;a++){const e=[];t.forEach((t=>{e.push(t[a])})),r.push(e)}e.colors=r})),r}function C(e){const t=e.theme||"default",r=e.geometryType,a=e.colors,o=e.numClasses,n=m.get(t);if(!n)return[];const s=n.supportedBasemaps,i=[];return s.forEach((e=>{const n=d({theme:t,basemap:e,geometryType:r});if(n){let e=B(n.primaryScheme,a,o);e&&i.push(e),n.secondarySchemes.forEach((t=>{e=B(t,a,o),e&&i.push(e)}))}})),i}function v(e,t,r,a){let o;const n=w(e,r,a);return n&&1===(0,l._t)(t,n)&&(o=e),o}function T(e,t,r,a){let o,n=1;do{o=v(e,t,r,a),o||(e=k(e),n++)}while(!o&&n<=4);return o}function B(e,t,r){return T(e,t,r,"HH")||T(e,t,r,"HL")||T(e,t,r,"LH")||T(e,t,r,"LL")}function D(e,t,r){const o="mesh"!==e.geometryType&&e.worldScale?e.view:null,n=s.A[t],i=e.theme||"default";if(!n)return;const p=i+"/"+e.basemap+"/"+t,u=[];for(const a in n)if("stops"!==a&&"name"!==a&&"tags"!==a){const e=+a,t=n[a];u.push({numClasses:e,colors:t})}switch(e.geometryType){case"point":case"multipoint":{const e=r;return function(e,t){return{id:e.id,name:e.name,tags:[...e.tags],colorsForClassBreaks:S(e.colorsForClassBreaks),noDataColor:new a.default(e.noDataColor),outline:{color:new a.default(e.outline.color),width:e.outline.width},size:t?(0,l._J)(e.size,t):e.size,opacity:e.opacity}}({id:p,name:n.name,tags:n.tags,colorsForClassBreaks:u,noDataColor:e.noDataColor,opacity:1,outline:e.outline,size:e.size},o)}case"polyline":{const e=r;return function(e,t){return{id:e.id,name:e.name,tags:[...e.tags],colorsForClassBreaks:S(e.colorsForClassBreaks),noDataColor:new a.default(e.noDataColor),opacity:e.opacity,width:t?(0,l._J)(e.width,t):e.width}}({id:p,name:n.name,tags:n.tags,colorsForClassBreaks:u,noDataColor:e.noDataColor,opacity:1,width:e.width},o)}case"polygon":{const e=r;return function(e){return{id:e.id,name:e.name,tags:[...e.tags],colorsForClassBreaks:S(e.colorsForClassBreaks),noDataColor:new a.default(e.noDataColor),outline:{color:new a.default(e.outline.color),width:e.outline.width},opacity:e.opacity}}({id:p,name:n.name,tags:n.tags,colorsForClassBreaks:u,noDataColor:e.noDataColor,opacity:e.fillOpacity,outline:e.outline})}case"mesh":{const e=r;return function(e){return{id:e.id,name:e.name,tags:[...e.tags],colorsForClassBreaks:S(e.colorsForClassBreaks),noDataColor:new a.default(e.noDataColor),opacity:e.opacity}}({id:p,name:n.name,tags:n.tags,colorsForClassBreaks:u,noDataColor:e.noDataColor,opacity:e.fillOpacity})}}}function S(e){return e.map((e=>({numClasses:e.numClasses,colors:e.colors.map((e=>e.map((e=>new a.default(e)))))})))}}}]);