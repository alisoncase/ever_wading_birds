/*! For license information please see 74557.a8326853.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[8474,22736,72595,74557,84091],{8474:(e,t,i)=>{i.r(t),i.d(t,{TabTitle:()=>A});i(92439);var a=i(57688),n=i(65386),l=i(20443),o=i(41487),s=i(25697),r=i(7176),c=i(33171),h=i(56528),d=i(2547),u=i(36791),b=i(94948),p=i(69842);const v="close-button",g="container",m="container--bottom",f="content",C="content--has-text",x="icon-end",y="icon-present",w="icon-start",T="calcite-tab-title--icon",S=e=>`scale-${e}`,k="selected-indicator",I="x",$=p.AH`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block;outline:2px solid transparent;outline-offset:2px;margin-inline-start:0px}:host([layout=inline]){flex:0 1 auto}:host([layout=center]){flex:1 1 auto}.content{position:relative;margin-block-end:.125rem;box-sizing:border-box;display:flex;block-size:100%;align-items:center;justify-content:center}.scale-s .content{padding-block:.25rem;font-size:var(--calcite-font-size--2);line-height:1rem}.scale-s .close-button{inline-size:1.25rem}.scale-m .content{padding-block:.5rem;font-size:var(--calcite-font-size--1);line-height:1rem}.scale-m .close-button{inline-size:1.75rem}.scale-l .content{padding-block:.625rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}.scale-l .close-button{inline-size:2rem}:host([closable]) .content{border-block-end-color:transparent}:host([layout=inline]) .content,:host([layout=center]) .content{padding-inline:.25rem}:host([layout=center]) .scale-s,:host([layout=center]) .scale-m,:host([layout=center]) .scale-l{margin-block:0px;justify-content:center;text-align:center}:host([layout=center]) .scale-s .content,:host([layout=center]) .scale-m .content,:host([layout=center]) .scale-l .content{flex:1 1 auto;flex-grow:1}.container{position:relative;box-sizing:border-box;display:flex;block-size:100%;inline-size:100%;cursor:pointer;align-content:center;justify-content:space-between;padding-inline:0px;font-size:var(--calcite-font-size--1);line-height:1rem;color:var(--calcite-color-text-3);outline-color:transparent;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}.selected-indicator{position:absolute;display:block;block-size:.125rem;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;inset-block-end:0;inset-inline-start:0;inset-inline-end:0;inline-size:100%}.container--bottom .selected-indicator{inset-block-end:unset;inset-block-start:0}:host([bordered]) .selected-indicator{inset-block-start:0;inset-block-end:unset;inset-inline-start:-1px;inset-inline-end:0;inline-size:calc(100% + var(--calcite-spacing-base))}:host([bordered]) .container:not(.container--bottom){border-block-end:1px solid transparent}:host(:not([bordered])) .container:hover,:host(:not([bordered])) .container:active{color:var(--calcite-color-text-1)}:host([bordered]:not([selected]):hover) .container:not(.container--bottom){border-block-end:1px solid var(--calcite-color-border-1)}:host([bordered]:not([selected]):hover:not(:focus)) .selected-indicator{background-color:var(--calcite-color-foreground-2)}:host([bordered]:not([selected]):hover:not(:focus)) .container:not(.container--bottom) .selected-indicator{box-shadow:inset 0 1px var(--calcite-color-border-1)}:host([bordered]:not([selected]):hover:not(:focus)) .container.container--bottom .selected-indicator{box-shadow:inset 0 -1px var(--calcite-color-border-1)}:host([bordered][selected]) .container:after{position:absolute;display:block;block-size:.125rem;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;inset-block-end:-1px;inset-inline-start:0;inset-inline-end:0;inline-size:100%;background:var(--calcite-color-foreground-1);content:""}:host([bordered][selected]) .container.container--bottom:after{inset-block-start:-1px}:host([bordered][selected]:focus) .container:after{background:transparent}:host([bordered]) .container--bottom .selected-indicator{inset-block-start:unset;inset-block-end:0}:host([selected]) .selected-indicator,:host([selected]:hover) .selected-indicator{background-color:var(--calcite-color-brand)}:host(:hover) .selected-indicator{background-color:var(--calcite-color-border-3)}:host(:focus) .selected-indicator,:host(:active) .selected-indicator{background-color:var(--calcite-color-brand)}:host([selected]:focus) .selected-indicator{block-size:4px}@media (forced-colors: active){.selected-indicator{background-color:highlight}}:host([closed]){display:none}:host([selected]) .container{border-color:transparent;color:var(--calcite-color-text-1)}:host(:focus) .container{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host(:focus) .container:focus-within{outline-color:transparent}:host(:active) a,:host(:focus) a,:host(:hover) a{border-color:var(--calcite-color-border-2);color:var(--calcite-color-text-1);text-decoration-line:none}:host([disabled]) .container{pointer-events:none;opacity:.5}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.calcite-tab-title--icon{position:relative;margin:0;display:inline-flex;align-self:center}.calcite-tab-title--icon svg{transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}.content--has-text{padding:.25rem}.content--has-text .calcite-tab-title--icon.icon-start{margin-inline-end:var(--calcite-spacing-sm);color:var(--calcite-tab-icon-color-start, var(--calcite-icon-color))}.content--has-text .calcite-tab-title--icon.icon-end{margin-inline-start:var(--calcite-spacing-sm);color:var(--calcite-tab-icon-color-end, var(--calcite-icon-color))}.close-button{display:flex;block-size:100%;cursor:pointer;appearance:none;align-content:center;align-items:center;justify-content:center;align-self:center;border-style:none;background-color:transparent;color:var(--calcite-color-text-3);outline-color:transparent;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;margin-inline-start:var(--calcite-spacing-sm);margin-inline-end:var(--calcite-spacing-px);block-size:calc(100% - var(--calcite-spacing-xxs))}.close-button:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)))}.close-button:focus,.close-button:hover{color:var(--calcite-color-text-1);background-color:var(--calcite-color-foreground-3)}.close-button:active{color:var(--calcite-color-text-1);background-color:var(--calcite-color-foreground-3)}.close-button calcite-icon{color:inherit}:host([icon-start][icon-end]) .calcite-tab-title--icon:first-child{margin-inline-end:var(--calcite-spacing-sm)}:host([bordered]) .container:hover,:host([bordered]) .container:active{color:var(--calcite-color-text-1)}:host([bordered]) .container:not(.container--bottom) .close-button{block-size:calc(100% - var(--calcite-spacing-px));margin-block-start:-1px}:host([bordered]) .container .close-button calcite-icon{margin-block-start:var(--calcite-spacing-px)}:host([bordered]) .container .close-button:focus,:host([bordered]) .container .close-button:hover,:host([bordered]) .container .close-button:active{box-shadow:0 2px 0 0 var(--calcite-color-foreground-3)}:host([bordered]) .container.container--bottom .close-button{box-shadow:0 -2px 0 0 transparent}:host([bordered]) .container.container--bottom .close-button calcite-icon{margin-block-end:var(--calcite-spacing-px)}:host([bordered]) .container.container--bottom .close-button:focus,:host([bordered]) .container.container--bottom .close-button:hover,:host([bordered]) .container.container--bottom .close-button:active{box-shadow:0 -2px 0 0 var(--calcite-color-foreground-3)}:host([bordered][selected]){box-shadow:inset 0 -1px var(--calcite-color-foreground-1)}:host([bordered]:not([selected])) .container .close-button{box-shadow:0 2px 0 0 transparent}:host([bordered]:hover) .container{background-color:var(--calcite-color-foreground-2)}:host([bordered]) .container{border-inline:var(--calcite-spacing-px) solid transparent}:host([selected][bordered]) .container{border-inline-color:var(--calcite-color-border-1)}:host([selected][bordered]) .container:hover,:host([selected][bordered]) .container:active{background:transparent}:host([layout=inline][bordered]) .scale-m .content,:host([layout=center][bordered]) .scale-m .content{padding-inline:.75rem}:host([layout=inline][bordered]) .scale-s .content,:host([layout=center][bordered]) .scale-s .content{padding-inline:.5rem}:host([layout=inline][bordered]) .scale-l .content,:host([layout=center][bordered]) .scale-l .content{padding-inline:1rem}:host([layout=inline][closable]) .scale-s .content,:host([layout=inline][closable]) .scale-m .content,:host([layout=inline][closable]) .scale-l .content{padding-inline-end:0}@media (forced-colors: active){:host{outline-width:0;outline-offset:0}:host(:focus) .container{outline-color:highlight}:host([bordered]) .container{border-block-end-style:solid}:host([bordered]) .container--bottom{border-block-start-style:solid}:host([bordered][selected]) .container{border-block-end-style:none}:host([bordered][selected]) .container--bottom{border-block-start-style:none}.close-button{z-index:var(--calcite-z-index)}}:host([hidden]){display:none}[hidden]{display:none}`;class A extends s.WF{constructor(){super(),this.closeButtonEl=(0,o._)(),this.guid=`calcite-tab-title-${(0,c.g)()}`,this.mutationObserver=(0,d.c)("mutation",(()=>this.updateHasText())),this.resizeObserver=(0,d.c)("resize",(()=>{this.calciteInternalTabIconChanged.emit()})),this.hasText=!1,this.bordered=!1,this.closable=!1,this.closed=!1,this.disabled=!1,this.messages=(0,b.u)(),this.position="top",this.scale="m",this.selected=!1,this.calciteInternalTabIconChanged=(0,s.lh)({cancelable:!1}),this.calciteInternalTabTitleRegister=(0,s.lh)({cancelable:!1}),this.calciteInternalTabsActivate=(0,s.lh)({cancelable:!1}),this.calciteInternalTabsClose=(0,s.lh)({cancelable:!1}),this.calciteInternalTabsFocusFirst=(0,s.lh)({cancelable:!1}),this.calciteInternalTabsFocusLast=(0,s.lh)({cancelable:!1}),this.calciteInternalTabsFocusNext=(0,s.lh)({cancelable:!1}),this.calciteInternalTabsFocusPrevious=(0,s.lh)({cancelable:!1}),this.calciteTabsActivate=(0,s.lh)({cancelable:!1}),this.calciteTabsClose=(0,s.lh)({cancelable:!1}),this.listenOn(document.body,"calciteInternalTabChange",this.internalTabChangeHandler),this.listen("click",this.onClick),this.listen("keydown",this.keyDownHandler)}static#e=(()=>this.properties={controls:16,hasText:16,bordered:7,closable:7,closed:7,disabled:7,iconEnd:3,iconFlipRtl:3,iconStart:3,layout:3,messageOverrides:0,position:1,scale:1,selected:7,tab:3})();static#t=(()=>this.styles=$)();async activateTab(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.disabled||this.closed)return;const t={tab:this.tab};this.calciteInternalTabsActivate.emit(t),e&&requestAnimationFrame((()=>this.calciteTabsActivate.emit()))}async getTabIdentifier(){return this.tab?this.tab:this.getTabIndex()}async getTabIndex(){return Array.prototype.indexOf.call((0,r.n)(this.el.parentElement.children).filter((e=>e.matches("calcite-tab-title"))),this.el)}_updateAriaInfo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.controls=e[t.indexOf(this.el.id)]||null}connectedCallback(){super.connectedCallback(),this.setupTextContentObserver(),this.parentTabsEl=this.el.closest("calcite-tabs")}async load(){(0,a.i)()&&this.updateHasText(),this.tab&&this.selected&&this.activateTab(!1)}willUpdate(e){e.has("selected")&&(this.hasUpdated||!1!==this.selected)&&this.selectedHandler(),this.parentTabsEl&&(this.layout=this.parentTabsEl.layout,this.bordered=this.parentTabsEl.bordered)}updated(){(0,h.u)(this)}async loaded(){this.calciteInternalTabTitleRegister.emit(await this.getTabIdentifier())}disconnectedCallback(){super.disconnectedCallback(),this.mutationObserver?.disconnect(),document.body?.dispatchEvent(new CustomEvent("calciteTabTitleUnregister",{detail:this.el})),this.resizeObserver?.disconnect()}selectedHandler(){this.selected&&this.activateTab(!1)}internalTabChangeHandler(e){e.composedPath().find((e=>"CALCITE-TABS"===e.tagName))===this.parentTabsEl&&(this.tab?this.selected=this.tab===e.detail.tab:this.getTabIndex().then((t=>{this.selected=t===e.detail.tab})),e.stopPropagation())}onClick(){this.activateTab()}keyDownHandler(e){switch(e.key){case" ":case"Enter":e.composedPath().includes(this.closeButtonEl.value)||(this.activateTab(),e.preventDefault());break;case"ArrowRight":e.preventDefault(),"ltr"===(0,r.g)(this.el)?this.calciteInternalTabsFocusNext.emit():this.calciteInternalTabsFocusPrevious.emit();break;case"ArrowLeft":e.preventDefault(),"ltr"===(0,r.g)(this.el)?this.calciteInternalTabsFocusPrevious.emit():this.calciteInternalTabsFocusNext.emit();break;case"Home":e.preventDefault(),this.calciteInternalTabsFocusFirst.emit();break;case"End":e.preventDefault(),this.calciteInternalTabsFocusLast.emit()}}closeClickHandler(){this.closeTabTitleAndNotify()}updateHasText(){this.hasText=this.el.textContent.trim().length>0}setupTextContentObserver(){this.mutationObserver?.observe(this.el,{childList:!0,subtree:!0})}closeTabTitleAndNotify(){this.closed=!0,this.calciteInternalTabsClose.emit({tab:this.tab}),this.calciteTabsClose.emit()}render(){const{el:e,closed:t}=this,i=e.id||this.guid,a=l.qy`<calcite-icon class=${(0,s.CP)({[T]:!0,[w]:!0})} .flipRtl=${"start"===this.iconFlipRtl||"both"===this.iconFlipRtl} .icon=${this.iconStart} .scale=${(0,u.g)(this.scale)}></calcite-icon>`,n=l.qy`<calcite-icon class=${(0,s.CP)({[T]:!0,[x]:!0})} .flipRtl=${"end"===this.iconFlipRtl||"both"===this.iconFlipRtl} .icon=${this.iconEnd} .scale=${(0,u.g)(this.scale)}></calcite-icon>`;return(0,s.Bq)(this.el,"aria-controls",this.controls),this.el.ariaSelected=(0,r.t)(this.selected),(0,s.Bq)(this.el,"id",i),this.el.role="tab",(0,s.Bq)(this.el,"tabIndex",this.selected&&!this.disabled?0:-1),(0,h.I)({disabled:this.disabled,children:l.qy`<div class=${(0,s.CP)({[g]:!0,[m]:"bottom"===this.position,[y]:!!this.iconStart||!!this.iconEnd,[S(this.scale)]:!0})} .hidden=${t} ${(0,o.K)((e=>e?this.resizeObserver?.observe(e):null))}><div class=${(0,s.CP)({[f]:!0,[C]:this.hasText})}>${this.iconStart?a:null}<slot></slot>${this.iconEnd?n:null}</div>${this.renderCloseButton()}<div class=${(0,s.CP)(k)}></div></div>`})}renderCloseButton(){const{closable:e,messages:t}=this;return e?(0,n.D)(v,l.qy`<button .ariaLabel=${t.close} class=${(0,s.CP)(v)} @click=${this.closeClickHandler} title=${t.close??l.s6} type=button ${(0,o.K)(this.closeButtonEl)}><calcite-icon .icon=${I} .scale=${(0,u.g)(this.scale)}></calcite-icon></button>`):null}}(0,a.c)("calcite-tab-title",A)},22736:(e,t,i)=>{i.r(t),i.d(t,{Tabs:()=>d});var a=i(57688),n=i(41487),l=i(20443),o=i(25697),s=i(7176),r=i(69842);const c="title-group",h=r.AH`:host{display:flex;flex-direction:column}:host([bordered]){box-shadow:inset 0 1px 0 var(--calcite-color-border-1);background-color:var(--calcite-color-foreground-1)}:host([bordered]) section{border-width:1px;border-style:solid;border-color:var(--calcite-color-border-1)}:host([bordered][position=bottom]){box-shadow:inset 0 1px 0 var(--calcite-color-border-1),inset 0 -1px 0 var(--calcite-color-border-1)}:host([bordered]:not([position=bottom])) ::slotted(calcite-tab-nav){margin-block-end:-1px}:host([bordered][scale=s]) section{padding:.75rem}:host([bordered][scale=m]) section{padding:.5rem}:host([bordered][scale=l]) section{padding:1rem}:host([position=bottom]){flex-direction:column-reverse}section{display:flex;flex-grow:1;overflow:hidden;border-block-start-width:1px;border-block-start-color:var(--calcite-color-border-1);border-block-start-style:solid}:host([position=bottom]) section{flex-direction:column-reverse;border-block-start-width:0px;border-block-end-width:1px;border-block-end-color:var(--calcite-color-border-1)}:host([position=bottom]:not([bordered])) section{border-block-end-style:solid}@media (forced-colors: active){:host([bordered]) section{border-block-start-width:0px;border-block-end-width:1px}:host([position=bottom][bordered]) section{border-block-start-width:1px;border-block-end-width:0px}}:host([hidden]){display:none}[hidden]{display:none}`;class d extends o.WF{constructor(){super(),this.tabs=[],this.titles=[],this.bordered=!1,this.layout="inline",this.position="top",this.scale="m",this.listen("calciteInternalTabNavSlotChange",this.calciteInternalTabNavSlotChangeHandler)}static#e=(()=>this.properties={tabs:16,titles:16,bordered:5,layout:3,position:3,scale:3})();static#t=(()=>this.styles=h)();connectedCallback(){super.connectedCallback(),this.updateItems()}load(){this.updateItems()}willUpdate(e){(e.has("position")&&(this.hasUpdated||"top"!==this.position)||e.has("scale")&&(this.hasUpdated||"m"!==this.scale))&&this.updateItems(),(e.has("titles")||e.has("tabs"))&&this.hasUpdated&&this.titles?.length>0&&this.tabs?.length>0&&(this.updateAriaSettings(),this.updateItems())}calciteInternalTabNavSlotChangeHandler(e){e.stopPropagation(),e.detail.length!==this.titles.length&&(this.titles=e.detail)}defaultSlotChangeHandler(e){this.tabs=(0,s.s)(e,"calcite-tab")}async updateAriaSettings(){let e,t;await this.componentOnReady();const i=(0,s.e)(this.slotEl,"calcite-tab");if(i.some((e=>e.tab))||this.titles.some((e=>e.tab)))e=i.sort(((e,t)=>e.tab.localeCompare(t.tab))).map((e=>e.id)),t=this.titles.sort(((e,t)=>e.tab.localeCompare(t.tab))).map((e=>e.id));else{const a=await Promise.all(i.map((e=>e.getTabIndex()))),n=await Promise.all(this.titles.map((e=>e.getTabIndex())));e=a.reduce(((e,t,a)=>(e[t]=i[a].id,e)),[]),t=n.reduce(((e,t,i)=>(e[t]=this.titles[i].id,e)),[])}i.forEach((i=>i._updateAriaInfo(e,t))),this.titles.forEach((i=>i._updateAriaInfo(e,t)))}updateItems(){const{position:e,scale:t}=this,i=this.el.querySelector("calcite-tab-nav");i&&(i.position=e,i.scale=t),Array.from(this.el.querySelectorAll("calcite-tab")).forEach((e=>{e.parentElement===this.el&&(e.scale=t)})),Array.from(this.el.querySelectorAll("calcite-tab-nav > calcite-tab-title")).forEach((i=>{i.position=e,i.scale=t}))}setDefaultSlotRef(e){this.slotEl=e}render(){return l.qy`<slot name=${c}></slot><section><slot @slotchange=${this.defaultSlotChangeHandler} ${(0,n.K)(this.setDefaultSlotRef)}></slot></section>`}}(0,a.c)("calcite-tabs",d)},43094:(e,t,i)=>{i.d(t,{A:()=>l});var a=i(77458),n=i(69981);const l=function(e,t,i){var l=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return(0,n.A)(i)&&(l="leading"in i?!!i.leading:l,o="trailing"in i?!!i.trailing:o),(0,a.A)(e,t,{leading:l,maxWait:t,trailing:o})}},44932:(e,t,i)=>{i.d(t,{a:()=>r,c:()=>a,d:()=>l,g:()=>o,r:()=>s});const a=(e,t,i)=>Math.max(t,Math.min(e,i)),n=new RegExp(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/),l=e=>{const t=(""+e).match(n);return t&&0!==parseInt(t[1])?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0};function o(e){return l(e)>0&&e>0?parseFloat(`0.${e.toString().split(".")[1]}`):e}function s(e,t,i,a,n){return(e-t)*(n-a)/(i-t)+a}function r(e,t,i){return e<i?-1:e>t-i?1:0}},46361:(e,t,i)=>{i.d(t,{u:()=>s});var a=i(22912),n=i(46700),l=i(88504);const o=(e,t,i)=>{const a=new Map;for(let n=t;n<=i;n++)a.set(e[n],n);return a},s=(0,n.u$)(class extends n.WL{constructor(e){if(super(e),e.type!==n.OA.CHILD)throw Error("repeat() can only be used in text expressions")}dt(e,t,i){let a;void 0===i?i=t:void 0!==t&&(a=t);const n=[],l=[];let o=0;for(const s of e)n[o]=a?a(s,o):o,l[o]=i(s,o),o++;return{values:l,keys:n}}render(e,t,i){return this.dt(e,t,i).values}update(e,t){let[i,n,s]=t;const r=(0,l.cN)(e),{values:c,keys:h}=this.dt(i,n,s);if(!Array.isArray(r))return this.ut=h,c;const d=this.ut??=[],u=[];let b,p,v=0,g=r.length-1,m=0,f=c.length-1;for(;v<=g&&m<=f;)if(null===r[v])v++;else if(null===r[g])g--;else if(d[v]===h[m])u[m]=(0,l.lx)(r[v],c[m]),v++,m++;else if(d[g]===h[f])u[f]=(0,l.lx)(r[g],c[f]),g--,f--;else if(d[v]===h[f])u[f]=(0,l.lx)(r[v],c[f]),(0,l.Dx)(e,u[f+1],r[v]),v++,f--;else if(d[g]===h[m])u[m]=(0,l.lx)(r[g],c[m]),(0,l.Dx)(e,r[v],r[g]),g--,m++;else if(void 0===b&&(b=o(h,m,f),p=o(d,v,g)),b.has(d[v]))if(b.has(d[g])){const t=p.get(h[m]),i=void 0!==t?r[t]:null;if(null===i){const t=(0,l.Dx)(e,r[v]);(0,l.lx)(t,c[m]),u[m]=t}else u[m]=(0,l.lx)(i,c[m]),(0,l.Dx)(e,r[v],i),r[t]=null;m++}else(0,l.KO)(r[g]),g--;else(0,l.KO)(r[v]),v++;for(;m<=f;){const t=(0,l.Dx)(e,u[f+1]);(0,l.lx)(t,c[m]),u[m++]=t}for(;v<=g;){const e=r[v++];null!==e&&(0,l.KO)(e)}return this.ut=h,(0,l.mY)(e,u),a.c0}})},52673:(e,t,i)=>{i.d(t,{a:()=>n,b:()=>l,c:()=>a,d:()=>o});const a="24px",n="32px",l="44px",o="48px"},72595:(e,t,i)=>{i.r(t),i.d(t,{Tab:()=>u});var a=i(57688),n=i(22912),l=i(25697),o=i(7176),s=i(33171),r=i(69842);const c="container",h="content",d=r.AH`:host([selected]) section,:host([selected]) .container{display:block}:host{display:none;block-size:100%;inline-size:100%}:host([selected]){display:block;block-size:100%;inline-size:100%;overflow:auto}.content{box-sizing:border-box;padding-block:var(--calcite-internal-tab-content-block-padding)}.scale-s{--calcite-internal-tab-content-block-padding: var(--calcite-tab-content-block-padding, .25rem);font-size:var(--calcite-font-size--2);line-height:1rem}.scale-m{--calcite-internal-tab-content-block-padding: var(--calcite-tab-content-block-padding, .5rem);font-size:var(--calcite-font-size--1);line-height:1rem}.scale-l{--calcite-internal-tab-content-block-padding: var(--calcite-tab-content-block-padding, .625rem);font-size:var(--calcite-font-size-0);line-height:1.25rem}section,.container{display:none;block-size:100%;inline-size:100%}.container{outline-color:transparent}.container:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([hidden]){display:none}[hidden]{display:none}`;class u extends l.WF{constructor(){super(),this.guid=`calcite-tab-title-${(0,s.g)()}`,this.scale="m",this.selected=!1,this.listenOn(document.body,"calciteInternalTabChange",this.internalTabChangeHandler)}static#e=(()=>this.properties={labeledBy:16,scale:1,selected:7,tab:3})();static#t=(()=>this.styles=d)();async getTabIndex(){return Array.prototype.indexOf.call((0,o.n)(this.el.parentElement.children).filter((e=>e.matches("calcite-tab"))),this.el)}_updateAriaInfo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.labeledBy=t[e.indexOf(this.el.id)]||null}connectedCallback(){super.connectedCallback(),this.parentTabsEl=this.el.closest("calcite-tabs")}disconnectedCallback(){super.disconnectedCallback(),document.body?.dispatchEvent(new CustomEvent("calciteTabUnregister",{detail:this.el}))}internalTabChangeHandler(e){e.composedPath().find((e=>"CALCITE-TABS"===e.tagName))===this.parentTabsEl&&(this.tab?this.selected=this.tab===e.detail.tab:this.getTabIndex().then((t=>{this.selected=t===e.detail.tab})),e.stopPropagation())}render(){const e=this.el.id||this.guid;return(0,l.Bq)(this.el,"aria-labelledby",this.labeledBy),(0,l.Bq)(this.el,"id",e),n.qy`<div class=${(0,l.CP)({[c]:!0,[`scale-${this.scale}`]:!0})} role=tabpanel .tabIndex=${this.selected?0:-1}><section class=${(0,l.CP)(h)}><slot></slot></section></div>`}}(0,a.c)("calcite-tab",u)},74557:(e,t,i)=>{i.r(t),i.d(t,{ColorPicker:()=>$});i(80747),i(63276),i(9982);var a=i(57688),n=i(41487),l=i(65386),o=i(35730),s=i(20443),r=i(25697),c=i(24273),h=i(7176),d=i(36791),u=i(69842);const b="container",p="hex-input",v="opacity-input",g=u.AH`:host{display:block}.container{display:flex;inline-size:100%;flex-wrap:nowrap;align-items:center}.hex-input{flex-grow:1;text-transform:uppercase}.opacity-input{inline-size:100px;margin-inline-start:-1px}:host([hidden]){display:none}[hidden]{display:none}`,m=(0,o.A)();class f extends r.WF{constructor(){super(...arguments),this.internalColor=m,this.alphaChannel=!1,this.allowEmpty=!1,this.hexLabel="Hex",this.scale="m",this.value=(0,c.n)((0,c.h)(m,this.alphaChannel),this.alphaChannel,!0),this.calciteColorPickerHexInputChange=(0,r.lh)({cancelable:!1})}static#e=(()=>this.properties={internalColor:16,alphaChannel:5,allowEmpty:5,hexLabel:1,messages:0,numberingSystem:1,scale:3,value:3})();static#t=(()=>this.styles=g)();async setFocus(){return await(0,d.c)(this),(0,h.b)(this.hexInputNode)}connectedCallback(){super.connectedCallback(),this.previousNonNullValue=this.value;const{allowEmpty:e,alphaChannel:t,value:i}=this;if(i){const e=(0,c.n)(i,t);(0,c.i)(e,t)&&this.internalSetValue(e,e,!1)}else e&&this.internalSetValue(void 0,void 0,!1)}willUpdate(e){e.has("value")&&(this.hasUpdated||this.value!==(0,c.n)((0,c.h)(m,this.alphaChannel),this.alphaChannel,!0))&&this.internalSetValue(this.value,e.get("value"),!1)}onHexInputBlur(){const e=this.hexInputNode,t=e.value,i=`#${t}`,{allowEmpty:a,internalColor:n}=this,l=a&&!t,o=(0,c.a)(i);((0,c.b)(i,!0)||(0,c.b)(i,!1))&&this.onHexInputChange(),!(l||(0,c.i)(i)&&o)&&(e.value=a&&!n?"":this.formatHexForInternalInput((0,c.r)(n.object())))}onOpacityInputBlur(){const e=this.opacityInputNode,t=e.value,{allowEmpty:i,internalColor:a}=this;i&&!t||(e.value=i&&!a?"":this.formatOpacityForInternalInput(a))}onOpacityInputInput(){this.onOpacityInputChange()}onHexInputChange(){let e=this.hexInputNode.value;if(e){const t=(0,c.n)(e,!1);if((0,c.i)(t)&&this.alphaChannel&&this.internalColor){e=`${t+(0,c.n)(this.internalColor.hexa(),!0).slice(-2)}`}}this.internalSetValue(e,this.value)}onOpacityInputChange(){const e=this.opacityInputNode;let t;if(e.value){const i=(0,c.o)(Number(e.value));t=this.internalColor?.alpha(i).hexa()}else t=e.value;this.internalSetValue(t,this.value)}onInputFocus(e){"calciteInternalInputTextFocus"===e.type?this.hexInputNode.selectText():this.opacityInputNode.selectText()}onHexInputInput(){const e=`#${this.hexInputNode.value}`,t=this.value;(0,c.i)(e,this.alphaChannel)&&(0,c.a)(e,this.alphaChannel)&&this.internalSetValue(e,t)}onInputKeyDown(e){const{altKey:t,ctrlKey:i,metaKey:a,shiftKey:n}=e,{alphaChannel:l,hexInputNode:o,internalColor:s,value:r}=this,{key:h}=e,d=e.composedPath();if("Tab"===h&&(0,c.b)(r,this.alphaChannel)||"Enter"===h)return d.includes(o)?this.onHexInputChange():this.onOpacityInputChange(),void("Enter"===h&&e.preventDefault());const u="ArrowDown"===h||"ArrowUp"===h,b=this.value;if(u){if(!r)return this.internalSetValue(this.previousNonNullValue,b),void e.preventDefault();const t="ArrowUp"===h?1:-1,i=n?10:1;return this.internalSetValue((0,c.h)(this.nudgeRGBChannels(s,i*t,d.includes(o)?"rgb":"a"),l),b),void e.preventDefault()}const p=t||i||a,v=1===h.length,g=c.d.test(h);v&&!p&&!g&&e.preventDefault()}onHexInputPaste(e){const t=e.clipboardData.getData("text");(0,c.i)(t,this.alphaChannel)&&(0,c.a)(t,this.alphaChannel)&&(e.preventDefault(),this.hexInputNode.value=t.slice(1),this.internalSetValue(t,this.value))}internalSetValue(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e){const{alphaChannel:t}=this,a=(0,c.n)(e,t,t);if((0,c.i)(a,t)){const{internalColor:e}=this,n=(0,o.A)(a),l=(0,c.n)((0,c.h)(n,t),t),s=!e||l!==(0,c.n)((0,c.h)(e,t),t);return this.internalColor=n,this.previousNonNullValue=l,this.value=l,void(s&&i&&this.calciteColorPickerHexInputChange.emit())}}else if(this.allowEmpty)return this.internalColor=void 0,this.value=void 0,void(i&&this.calciteColorPickerHexInputChange.emit());this.value=t}storeHexInputRef(e){this.hexInputNode=e}storeOpacityInputRef(e){this.opacityInputNode=e}formatHexForInternalInput(e){return e?e.replace("#","").slice(0,6):""}formatOpacityForInternalInput(e){return e?`${(0,c.c)(e.alpha())}`:""}nudgeRGBChannels(e,t,i){let a;const n=e.array(),l=n.slice(0,3);if("rgb"===i)a=[...l.map((e=>e+t)),this.alphaChannel?n[3]:void 0];else{const i=(0,c.o)((0,c.c)(e.alpha())+t);a=[...l,i]}return(0,o.A)(a)}render(){const{alphaChannel:e,hexLabel:t,internalColor:i,messages:a,scale:o,value:h}=this,d=this.formatHexForInternalInput(h),u=this.formatOpacityForInternalInput(i),g="l"===o?"m":"s";return s.qy`<div class=${(0,r.CP)(b)}><calcite-input-text class=${(0,r.CP)(p)} .label=${a?.hex||t} .maxLength=${this.alphaChannel?8:6} @keydown=${this.onInputKeyDown} @paste=${this.onHexInputPaste} @calciteInputTextChange=${this.onHexInputChange} @calciteInputTextInput=${this.onHexInputInput} @calciteInternalInputTextBlur=${this.onHexInputBlur} @calciteInternalInputTextFocus=${this.onInputFocus} prefix-text=# .scale=${g} .value=${d} ${(0,n.K)(this.storeHexInputRef)}></calcite-input-text>${e?(0,l.D)("opacity-input",s.qy`<calcite-input-number class=${(0,r.CP)(v)} .label=${a?.opacity} .max=${c.O.max} max-length=3 .min=${c.O.min} number-button-type=none .numberingSystem=${this.numberingSystem} @keydown=${this.onInputKeyDown} @calciteInputNumberInput=${this.onOpacityInputInput} @calciteInternalInputNumberBlur=${this.onOpacityInputBlur} @calciteInternalInputNumberFocus=${this.onInputFocus} .scale=${g} suffix-text=% .value=${u} ${(0,n.K)(this.storeOpacityInputRef)}></calcite-input-number>`):null}</div>`}}(0,a.c)("calcite-color-picker-hex-input",f);i(22736),i(84091),i(20423),i(8474),i(72595);var C=i(46361),x=i(43094),y=i(56528),w=i(92571),T=i(44932),S=i(94948),k=i(2547);const I=u.AH`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline-block;font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-normal);inline-size:var(--calcite-internal-color-picker-min-width);min-inline-size:var(--calcite-internal-color-picker-min-width)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([scale=s]){--calcite-internal-color-picker-min-width: 200px;--calcite-color-picker-spacing: 8px}:host([scale=s]) .saved-colors{gap:.25rem;grid-template-columns:repeat(auto-fill,20px)}:host([scale=m]){--calcite-internal-color-picker-min-width: 240px;--calcite-color-picker-spacing: 12px}:host([scale=l]){--calcite-internal-color-picker-min-width: 304px;--calcite-color-picker-spacing: 16px;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]) .section:first-of-type{padding-block-start:var(--calcite-color-picker-spacing)}:host([scale=l]) .saved-colors{grid-template-columns:repeat(auto-fill,32px)}:host([scale=l]) .control-section{display:flex;flex-direction:column;flex-wrap:wrap;align-items:baseline}:host([scale=l]) .color-hex-options{inline-size:100%;display:flex;flex-shrink:1;flex-direction:column;justify-content:space-around}:host([scale=l]) .color-mode-container{flex-shrink:3}.container{background-color:var(--calcite-color-foreground-1);display:flex;flex-direction:column;block-size:min-content;border:1px solid var(--calcite-color-border-1)}.control-and-scope{position:relative;display:flex;cursor:pointer;touch-action:none}.color-field,.control-and-scope{-webkit-user-select:none;user-select:none}.scope{pointer-events:none;position:absolute;z-index:var(--calcite-z-index);block-size:1px;inline-size:1px;border-radius:9999px;background-color:transparent;font-size:var(--calcite-font-size--1);outline-color:transparent}.scope:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))));outline-offset:6px}.hex-and-channels-group{display:flex;inline-size:100%;flex-direction:column;flex-wrap:wrap}.section{padding-block:0 var(--calcite-color-picker-spacing);padding-inline:var(--calcite-color-picker-spacing)}.section:first-of-type{padding-block-start:var(--calcite-color-picker-spacing)}.sliders{display:flex;flex-direction:column;justify-content:space-between;margin-inline-start:var(--calcite-color-picker-spacing);gap:var(--calcite-spacing-xxs)}.preview-and-sliders{display:flex;align-items:center;padding:var(--calcite-color-picker-spacing)}.color-hex-options,.section--split{flex-grow:1}.header{display:flex;align-items:center;justify-content:space-between;color:var(--calcite-color-text-1)}.color-mode-container{padding-block-start:var(--calcite-color-picker-spacing)}.channels{display:flex}.channel{flex-grow:1}.channel[data-channel-index="3"]{margin-inline-start:-1px;min-inline-size:81px}:host([scale=s]) .channel[data-channel-index="3"]{min-inline-size:68px}:host([scale=l]) .channel[data-channel-index="3"]{min-inline-size:88px}.saved-colors{display:grid;gap:.5rem;padding-block-start:var(--calcite-color-picker-spacing);grid-template-columns:repeat(auto-fill,24px)}.saved-colors-buttons{display:flex}.saved-color{outline-offset:0;outline-color:transparent;cursor:pointer}.saved-color:focus{outline:2px solid var(--calcite-color-brand);outline-offset:2px}.saved-color:hover{transition:outline-color var(--calcite-internal-animation-timing-fast) ease-in-out;outline:2px solid var(--calcite-color-border-2);outline-offset:2px}:host([hidden]){display:none}[hidden]{display:none}`;class $ extends r.WF{constructor(){var e;super(),e=this,this._color=c.D,this.internalColorUpdateContext=null,this.isActiveChannelInputEmpty=!1,this.mode=c.C.HEX,this.resizeObserver=(0,k.c)("resize",(e=>this.resizeCanvas(e))),this.shiftKeyChannelAdjustment=0,this.upOrDownArrowKeyTracker=null,this._valueWasSet=!1,this.channelMode="rgb",this.channels=this.toChannels(c.D),this.staticDimensions=c.S.m,this.savedColors=[],this.allowEmpty=!1,this.alphaChannel=!1,this.channelsDisabled=!1,this.clearable=!1,this.disabled=!1,this.format="auto",this.hexDisabled=!1,this.messages=(0,S.u)({blocking:!0}),this.savedDisabled=!1,this.scale="m",this.calciteColorPickerChange=(0,r.lh)({cancelable:!1}),this.calciteColorPickerInput=(0,r.lh)({cancelable:!1}),this.captureColorFieldColor=function(t,i){let a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const{width:n,height:l}=e.dynamicDimensions.colorField,o=Math.round(c.H.s/n*t),s=Math.round(c.H.v/l*(l-i));e.internalColorSet(e.baseColorFieldColor.hsv().saturationv(o).value(s),a)},this.drawColorControls=(0,x.A)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";("all"===t||"color-field"===t)&&e.colorFieldRenderingContext&&e.drawColorField(),("all"===t||"hue-slider"===t)&&e.hueSliderRenderingContext&&e.drawHueSlider(),e.alphaChannel&&("all"===t||"opacity-slider"===t)&&e.opacitySliderRenderingContext&&e.drawOpacitySlider()}),16),this.globalPointerMoveHandler=e=>{const{activeCanvasInfo:t,el:i}=this;if(!i.isConnected||!t)return;const{context:a,bounds:n}=t;let l,o;const{clientX:s,clientY:r}=e;a.canvas.matches(":hover")?(l=s-n.x,o=r-n.y):(l=s<n.x+n.width&&s>n.x?s-n.x:s<n.x?0:n.width,o=r<n.y+n.height&&r>n.y?r-n.y:r<n.y?0:n.height),a===this.colorFieldRenderingContext?this.captureColorFieldColor(l,o,!1):a===this.hueSliderRenderingContext?this.captureHueSliderColor(l):a===this.opacitySliderRenderingContext&&this.captureOpacitySliderValue(l)},this.globalPointerUpHandler=e=>{if(!(0,h.i)(e))return;const t=this.activeCanvasInfo;this.activeCanvasInfo=null,this.drawColorControls(),t&&this.calciteColorPickerChange.emit()},this.resizeCanvas=(0,x.A)((e=>{if(!this.hasUpdated)return;const[t]=e,i=Math.floor(t.contentBoxSize[0].inlineSize);this.dynamicDimensions.colorField.width!==i&&(this.updateDynamicDimensions(i),this.updateCanvasSize(),this.drawColorControls())}),16),this.updateDynamicDimensions=e=>{const t={width:(0,c.g)(e,this.staticDimensions,this.alphaChannel),height:this.staticDimensions.slider.height};this.dynamicDimensions={colorField:(0,c.e)(e),slider:t}},this.listen("keydown",this.handleChannelKeyUpOrDown,{capture:!0}),this.listen("keyup",this.handleChannelKeyUpOrDown,{capture:!0})}static#e=(()=>this.properties={channelMode:16,channels:16,colorFieldScopeLeft:16,colorFieldScopeTop:16,staticDimensions:16,hueScopeLeft:16,opacityScopeLeft:16,savedColors:16,scopeOrientation:16,allowEmpty:7,alphaChannel:5,channelsDisabled:5,clearable:7,color:0,disabled:7,format:3,hexDisabled:5,messageOverrides:0,numberingSystem:3,savedDisabled:7,scale:3,storageId:3,value:1})();static#t=(()=>this.styles=I)();get baseColorFieldColor(){return this.color||this.previousColor||c.D}get effectiveSliderWidth(){return this.dynamicDimensions.slider.width}get color(){return this._color}set color(e){const t=this._color;this._color=e,this.handleColorChange(e,t)}get value(){return this._value}set value(e){const t=this._value;this._value=e,this.handleValueChange(e,t),this._valueWasSet=!0}async setFocus(){await(0,d.c)(this),(0,h.h)(this.el)}connectedCallback(){super.connectedCallback(),this.observeResize()}async load(){this._valueWasSet||(this._value??=(0,c.n)((0,c.h)(c.D,this.alphaChannel))),this.handleAllowEmptyOrClearableChange();const{isClearable:e,color:t,format:i,value:a}=this,n=e&&!a,l=(0,c.p)(a),s=n||"auto"===i&&l||i===l,r=n?null:s?(0,o.A)(a):t;s||this.showIncompatibleColorWarning(a,i),this.setMode(i,!1),this.internalColorSet(r,!1,"initial"),this.updateStaticDimensions(this.scale),this.updateDynamicDimensions(c.S[this.scale].minWidth);const h=`${c.f}${this.storageId}`;this.storageId&&localStorage.getItem(h)&&(this.savedColors=JSON.parse(localStorage.getItem(h)))}willUpdate(e){(e.has("allowEmpty")&&(this.hasUpdated||!1!==this.allowEmpty)||e.has("clearable")&&(this.hasUpdated||!1!==this.clearable))&&this.handleAllowEmptyOrClearableChange(),e.has("alphaChannel")&&(this.hasUpdated||!1!==this.alphaChannel)&&this.handleAlphaChannelChange(this.alphaChannel),this.hasUpdated&&(e.has("alphaChannel")&&!1!==this.alphaChannel||e.has("staticDimensions")&&this.staticDimensions!==c.S.m)&&this.handleAlphaChannelDimensionsChange(),(e.has("alphaChannel")&&(this.hasUpdated||!1!==this.alphaChannel)||e.has("format")&&(this.hasUpdated||"auto"!==this.format))&&this.handleFormatOrAlphaChannelChange(),e.has("scale")&&(this.hasUpdated||"m"!==this.scale)&&this.handleScaleChange(this.scale)}updated(){(0,y.u)(this)}loaded(){this.handleAlphaChannelDimensionsChange()}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("pointermove",this.globalPointerMoveHandler),window.removeEventListener("pointerup",this.globalPointerUpHandler),this.resizeObserver?.disconnect()}observeResize(){this.resizeObserver?.observe(this.el)}handleAllowEmptyOrClearableChange(){this.isClearable=this.clearable||this.allowEmpty}handleAlphaChannelChange(e){const{format:t}=this;e&&"auto"!==t&&!(0,c.j)(t)&&(console.warn(`ignoring alphaChannel as the current format (${t}) does not support alpha`),this.alphaChannel=!1)}handleAlphaChannelDimensionsChange(){this.drawColorControls()}handleColorChange(e,t){this.drawColorControls(),this.updateChannelsFromColor(e),this.previousColor=t}handleFormatOrAlphaChannelChange(){this.setMode(this.format),this.internalColorSet(this.color,!1,"internal")}handleScaleChange(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"m";this.updateStaticDimensions(e),this.updateCanvasSize(),this.drawColorControls()}handleValueChange(e,t){const{isClearable:i,format:a}=this;let n=!1;if(!i||e){const i=(0,c.p)(e);if(!i||"auto"!==a&&i!==a)return this.showIncompatibleColorWarning(e,a),void(this._value=t);n=this.mode!==i,this.setMode(i,null===this.internalColorUpdateContext)}const l=this.activeCanvasInfo;if("initial"===this.internalColorUpdateContext)return;if("user-interaction"===this.internalColorUpdateContext)return this.calciteColorPickerInput.emit(),void(l||this.calciteColorPickerChange.emit());const s=i&&!e?null:(0,o.A)(null!=e&&"object"==typeof e&&(0,c.j)(this.mode)?(0,c.k)(e):e),r=!(0,c.l)(s,this.color);(n||r)&&this.internalColorSet(s,this.alphaChannel&&!(this.mode.endsWith("a")||this.mode.endsWith("a-css"))||"internal"===this.internalColorUpdateContext,"internal")}handleTabActivate(e){this.channelMode=e.currentTarget.getAttribute("data-color-mode"),this.updateChannelsFromColor(this.color)}handleColorFieldScopeKeyDown(e){const{key:t}=e,i={ArrowUp:{x:0,y:-10},ArrowRight:{x:10,y:0},ArrowDown:{x:0,y:10},ArrowLeft:{x:-10,y:0}};i[t]&&(e.preventDefault(),this.scopeOrientation="ArrowDown"===t||"ArrowUp"===t?"vertical":"horizontal",this.captureColorFieldColor(this.colorFieldScopeLeft+i[t].x||0,this.colorFieldScopeTop+i[t].y||0,!1))}handleHueScopeKeyDown(e){const t=e.shiftKey?10:1,{key:i}=e,a={ArrowUp:1,ArrowRight:1,ArrowDown:-1,ArrowLeft:-1};if(a[i]){e.preventDefault();const n=a[i]*t,l=this.baseColorFieldColor.hue(),o=this.baseColorFieldColor.hue(l+n);this.internalColorSet(o,!1)}}handleHexInputChange(e){e.stopPropagation();const{isClearable:t,color:i}=this,a=e.target.value;if(t&&!a)return void this.internalColorSet(null);a!==(i&&(0,c.n)((0,c.h)(i,(0,c.j)(this.mode))))&&this.internalColorSet((0,o.A)(a))}handleSavedColorSelect(e){const t=e.currentTarget;this.internalColorSet((0,o.A)(t.color))}handleChannelInput(e){const t=e.currentTarget,i=Number(t.getAttribute("data-channel-index")),a=3===i?c.O.max:"rgb"===this.channelMode?c.R[Object.keys(c.R)[i]]:c.H[Object.keys(c.H)[i]];let n;if(t.value){const e=Number(t.value)+this.shiftKeyChannelAdjustment;n=(0,T.c)(e,0,a).toString()}else n="",this.isActiveChannelInputEmpty=!0,this.upOrDownArrowKeyTracker=null;t.value=n,(""!==n&&0!==this.shiftKeyChannelAdjustment||""!==n)&&this.handleChannelChange(e)}handleChannelBlur(e){const t=e.currentTarget,i=Number(t.getAttribute("data-channel-index")),a=[...this.channels];!t.value&&!this.isClearable&&(t.value=a[i]?.toString())}handleChannelFocus(e){e.currentTarget.selectText()}handleChannelKeyUpOrDown(e){this.shiftKeyChannelAdjustment=0;const{key:t}=e;if("ArrowUp"!==t&&"ArrowDown"!==t||!e.composedPath().some((e=>e.classList?.contains(c.m.channel))))return;const{shiftKey:i}=e;if(e.preventDefault(),!this.color)return this.internalColorSet(this.previousColor),void e.stopPropagation();this.shiftKeyChannelAdjustment="ArrowUp"===t&&i?9:"ArrowDown"===t&&i?-9:0,"ArrowUp"===t&&(this.upOrDownArrowKeyTracker="up"),"ArrowDown"===t&&(this.upOrDownArrowKeyTracker="down")}getChannelInputLimit(e){return"rgb"===this.channelMode?c.R[Object.keys(c.R)[e]]:c.H[Object.keys(c.H)[e]]}handleChannelChange(e){const t=e.currentTarget,i=Number(t.getAttribute("data-channel-index")),a=[...this.channels];if(this.isClearable&&!t.value)return this.channels=[null,null,null,null],void this.internalColorSet(null);const n=3===i;this.isActiveChannelInputEmpty&&this.upOrDownArrowKeyTracker&&(t.value="up"===this.upOrDownArrowKeyTracker?(a[i]+1<=this.getChannelInputLimit(i)?a[i]+1:this.getChannelInputLimit(i)).toString():(a[i]-1>=0?a[i]-1:0).toString(),this.isActiveChannelInputEmpty=!1,this.upOrDownArrowKeyTracker=null);const l=t.value?Number(t.value):a[i];a[i]=n?(0,c.o)(l):l,this.updateColorFromChannels(a)}handleSavedColorKeyDown(e){(0,w.i)(e.key)&&(e.preventDefault(),this.handleSavedColorSelect(e))}handleColorFieldPointerDown(e){this.handleCanvasControlPointerDown(e,this.colorFieldRenderingContext,this.captureColorFieldColor,this.colorFieldScopeNode)}focusScope(e){requestAnimationFrame((()=>{e.focus()}))}handleHueSliderPointerDown(e){this.handleCanvasControlPointerDown(e,this.hueSliderRenderingContext,this.captureHueSliderColor,this.hueScopeNode)}handleOpacitySliderPointerDown(e){this.handleCanvasControlPointerDown(e,this.opacitySliderRenderingContext,this.captureOpacitySliderValue,this.opacityScopeNode)}handleCanvasControlPointerDown(e,t,i,a){(0,h.i)(e)&&(window.addEventListener("pointermove",this.globalPointerMoveHandler),window.addEventListener("pointerup",this.globalPointerUpHandler,{once:!0}),this.activeCanvasInfo={context:t,bounds:t.canvas.getBoundingClientRect()},i.call(this,e.offsetX,e.offsetY),this.focusScope(a))}storeColorFieldScope(e){this.colorFieldScopeNode=e}storeHueScope(e){this.hueScopeNode=e}handleKeyDown(e){"Enter"===e.key&&e.preventDefault()}showIncompatibleColorWarning(e,t){console.warn(`ignoring color value (${e}) as it is not compatible with the current format (${t})`)}setMode(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i="auto"===e?this.mode:e;this.mode=this.ensureCompatibleMode(i,t)}ensureCompatibleMode(e,t){const{alphaChannel:i}=this,a=(0,c.j)(e);if(i&&!a){const i=(0,c.t)(e);return t&&console.warn(`setting format to (${i}) as the provided one (${e}) does not support alpha`),i}if(!i&&a){const i=(0,c.q)(e);return t&&console.warn(`setting format to (${i}) as the provided one (${e}) does not support alpha`),i}return e}captureHueSliderColor(e){const t=c.s/this.effectiveSliderWidth*e;this.internalColorSet(this.baseColorFieldColor.hue(t),!1)}captureOpacitySliderValue(e){const t=(0,c.o)(c.O.max/this.effectiveSliderWidth*e);this.internalColorSet(this.baseColorFieldColor.alpha(t),!1)}internalColorSet(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"user-interaction";(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(0,c.l)(e,this.color)||(this.internalColorUpdateContext=t,this.color=e,this.value=this.toValue(e),this.internalColorUpdateContext=null)}toValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.mode;if(!e)return null;if(t.includes("hex")){const i=t===c.C.HEXA;return(0,c.n)((0,c.h)(e.round(),i),i)}if(t.includes("-css")){const i=e[t.replace("-css","").replace("a","")]().round().string();if((t.endsWith("a")||t.endsWith("a-css"))&&1===e.alpha()){return`${i.slice(0,3)}a(${i.slice(4,-1)}, ${e.alpha()})`}return i}const i=e[(0,c.q)(t)]().round().object();return t.endsWith("a")?(0,c.u)(i):i}getSliderCapSpacing(){const{staticDimensions:{slider:{height:e},thumb:{radius:t}}}=this;return 2*t-e}updateStaticDimensions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"m";this.staticDimensions=c.S[e]}deleteColor(){const e=(0,c.h)(this.color,this.alphaChannel);if(!(this.savedColors.indexOf(e)>-1))return;const t=this.savedColors.filter((t=>t!==e));this.savedColors=t;const i=`${c.f}${this.storageId}`;this.storageId&&localStorage.setItem(i,JSON.stringify(t))}saveColor(){const e=(0,c.h)(this.color,this.alphaChannel);if(this.savedColors.indexOf(e)>-1)return;const t=[...this.savedColors,e];this.savedColors=t;const i=`${c.f}${this.storageId}`;this.storageId&&localStorage.setItem(i,JSON.stringify(t))}drawColorField(){const e=this.colorFieldRenderingContext,{width:t,height:i}=this.dynamicDimensions.colorField;e.fillStyle=this.baseColorFieldColor.hsv().saturationv(100).value(100).alpha(1).string(),e.fillRect(0,0,t,i);const a=e.createLinearGradient(0,0,t,0);a.addColorStop(0,"rgba(255,255,255,1)"),a.addColorStop(1,"rgba(255,255,255,0)"),e.fillStyle=a,e.fillRect(0,0,t,i);const n=e.createLinearGradient(0,0,0,i);n.addColorStop(0,"rgba(0,0,0,0)"),n.addColorStop(1,"rgba(0,0,0,1)"),e.fillStyle=n,e.fillRect(0,0,t,i),this.drawActiveColorFieldColor()}setCanvasContextSize(e,t){let{height:i,width:a}=t;if(!e)return;const n=window.devicePixelRatio||1;e.width=a*n,e.height=i*n,e.style.height=`${i}px`,e.style.width=`${a}px`,e.getContext("2d").scale(n,n)}initColorField(e){e&&(this.colorFieldRenderingContext=e.getContext("2d"),this.updateCanvasSize("color-field"),this.drawColorControls())}initHueSlider(e){e&&(this.hueSliderRenderingContext=e.getContext("2d"),this.updateCanvasSize("hue-slider"),this.drawHueSlider())}initOpacitySlider(e){e&&(this.opacitySliderRenderingContext=e.getContext("2d"),this.updateCanvasSize("opacity-slider"),this.drawOpacitySlider())}updateCanvasSize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";const{dynamicDimensions:t,staticDimensions:i}=this;("all"===e||"color-field"===e)&&this.setCanvasContextSize(this.colorFieldRenderingContext?.canvas,t.colorField);const a={width:this.effectiveSliderWidth,height:i.slider.height+2*(i.thumb.radius-t.slider.height/2)};("all"===e||"hue-slider"===e)&&this.setCanvasContextSize(this.hueSliderRenderingContext?.canvas,a),("all"===e||"opacity-slider"===e)&&this.setCanvasContextSize(this.opacitySliderRenderingContext?.canvas,a)}drawActiveColorFieldColor(){const{color:e}=this;if(!e)return;const t=e.hsv(),{staticDimensions:{thumb:{radius:i}}}=this,{width:a,height:n}=this.dynamicDimensions.colorField,l=t.saturationv()/(c.H.s/a),o=n-t.value()/(c.H.v/n);requestAnimationFrame((()=>{this.colorFieldScopeLeft=l,this.colorFieldScopeTop=o})),this.drawThumb(this.colorFieldRenderingContext,i,l,o,t,!1)}drawThumb(e,t,i,a,n,l){const o=2*Math.PI;if(e.beginPath(),e.arc(i,a,t,0,o),e.fillStyle="#fff",e.fill(),e.strokeStyle="rgba(0,0,0,0.3)",e.lineWidth=1,e.stroke(),l&&n.alpha()<1){const n=e.createPattern(this.getCheckeredBackgroundPattern(),"repeat");e.beginPath(),e.arc(i,a,t-3,0,o),e.fillStyle=n,e.fill()}e.globalCompositeOperation="source-atop",e.beginPath(),e.arc(i,a,t-3,0,o);const s=l?n.alpha():1;e.fillStyle=n.rgb().alpha(s).string(),e.fill(),e.globalCompositeOperation="source-over"}drawActiveHueSliderColor(){const{color:e}=this;if(!e)return;const t=e.hsv().saturationv(100).value(100),{staticDimensions:{thumb:{radius:i}}}=this,a=this.effectiveSliderWidth,n=t.hue()/(c.s/a),l=i,o=this.getSliderBoundX(n,a,i);requestAnimationFrame((()=>{this.hueScopeLeft=o})),this.drawThumb(this.hueSliderRenderingContext,i,o,l,t,!1)}drawHueSlider(){const e=this.hueSliderRenderingContext,{staticDimensions:{slider:{height:t},thumb:{radius:i}}}=this,a=i-t/2,n=this.effectiveSliderWidth,l=e.createLinearGradient(0,0,n,0),s=["red","yellow","lime","cyan","blue","magenta","#ff0004"],r=1/(s.length-1);let c=0;s.forEach((e=>{l.addColorStop(c,(0,o.A)(e).string()),c+=r})),e.clearRect(0,0,n,t+2*this.getSliderCapSpacing()),this.drawSliderPath(e,t,n,0,a),e.fillStyle=l,e.fill(),e.strokeStyle="rgba(0,0,0,0.3)",e.lineWidth=1,e.stroke(),this.drawActiveHueSliderColor()}drawOpacitySlider(){const e=this.opacitySliderRenderingContext,{baseColorFieldColor:t,staticDimensions:{slider:{height:i},thumb:{radius:a}}}=this,n=a-i/2,l=this.effectiveSliderWidth;e.clearRect(0,0,l,i+2*this.getSliderCapSpacing());const o=e.createLinearGradient(0,n,l,0),s=t.rgb().alpha(0),r=t.rgb().alpha(.5),c=t.rgb().alpha(1);o.addColorStop(0,s.string()),o.addColorStop(.5,r.string()),o.addColorStop(1,c.string()),this.drawSliderPath(e,i,l,0,n);const h=e.createPattern(this.getCheckeredBackgroundPattern(),"repeat");e.fillStyle=h,e.fill(),e.fillStyle=o,e.fill(),e.strokeStyle="rgba(0,0,0,0.3)",e.lineWidth=1,e.stroke(),this.drawActiveOpacitySliderColor()}drawSliderPath(e,t,i,a,n){const l=t/2+1;e.beginPath(),e.moveTo(a+l,n),e.lineTo(a+i-l,n),e.quadraticCurveTo(a+i,n,a+i,n+l),e.lineTo(a+i,n+t-l),e.quadraticCurveTo(a+i,n+t,a+i-l,n+t),e.lineTo(a+l,n+t),e.quadraticCurveTo(a,n+t,a,n+t-l),e.lineTo(a,n+l),e.quadraticCurveTo(a,n,a+l,n),e.closePath()}getCheckeredBackgroundPattern(){if(this.checkerPattern)return this.checkerPattern;const e=document.createElement("canvas");e.width=10,e.height=10;const t=e.getContext("2d");return t.fillStyle="#ccc",t.fillRect(0,0,10,10),t.fillStyle="#fff",t.fillRect(0,0,5,5),t.fillRect(5,5,5,5),this.checkerPattern=e,e}drawActiveOpacitySliderColor(){const{color:e}=this;if(!e)return;const t=e,{staticDimensions:{thumb:{radius:i}}}=this,a=this.effectiveSliderWidth,n=(0,c.c)(t.alpha())/(c.O.max/a),l=i,o=this.getSliderBoundX(n,a,i);requestAnimationFrame((()=>{this.opacityScopeLeft=o})),this.drawThumb(this.opacitySliderRenderingContext,i,o,l,t,!0)}getSliderBoundX(e,t,i){const a=(0,T.a)(e,t,i);return 0===a?e:-1===a?(0,T.r)(e,0,t,i,2*i):(0,T.r)(e,0,t,t-2*i,t-i)}storeOpacityScope(e){this.opacityScopeNode=e}handleOpacityScopeKeyDown(e){const t=e.shiftKey?10:1,{key:i}=e,a={ArrowUp:.01,ArrowRight:.01,ArrowDown:-.01,ArrowLeft:-.01};if(a[i]){e.preventDefault();const n=a[i]*t,l=this.baseColorFieldColor.alpha(),o=this.baseColorFieldColor.alpha(l+n);this.internalColorSet(o,!1)}}updateColorFromChannels(e){this.internalColorSet((0,o.A)(e,this.channelMode))}updateChannelsFromColor(e){this.channels=e?this.toChannels(e):[null,null,null,null]}toChannels(e){const{channelMode:t}=this,i=e[t]().array().map(((e,t)=>3===t?e:Math.floor(e)));return 3===i.length&&i.push(1),i}getAdjustedScopePosition(e,t){return[e-c.v/2,t-c.v/2]}render(){const{channelsDisabled:e,color:t,colorFieldScopeLeft:i,colorFieldScopeTop:a,staticDimensions:{thumb:{radius:l}},hexDisabled:o,hueScopeLeft:h,messages:d,alphaChannel:u,opacityScopeLeft:b,savedColors:p,savedDisabled:v,scale:g,scopeOrientation:m}=this,f=this.effectiveSliderWidth,x=t?(0,c.h)(t,u):null,w=l,T=h??f*c.D.hue()/c.H.h,S=l,k=b??f*(0,c.c)(c.D.alpha())/c.O.max,I=void 0===t,$="vertical"===m,[A,D]=this.getAdjustedScopePosition(i,a),[F,P]=this.getAdjustedScopePosition(T,w),[O,z]=this.getAdjustedScopePosition(k,S);return(0,y.I)({disabled:this.disabled,children:s.qy`<div class=${(0,r.CP)(c.m.container)}><div class=${(0,r.CP)(c.m.controlAndScope)}><canvas class=${(0,r.CP)(c.m.colorField)} @pointerdown=${this.handleColorFieldPointerDown} ${(0,n.K)(this.initColorField)}></canvas><div .ariaLabel=${$?d.value:d.saturation} .ariaValueMax=${$?c.H.v:c.H.s} aria-valuemin=0 .ariaValueNow=${($?t?.saturationv():t?.value())||"0"} class=${(0,r.CP)({[c.m.scope]:!0,[c.m.colorFieldScope]:!0})} @keydown=${this.handleColorFieldScopeKeyDown} role=slider style=${(0,r.zl)({top:`${D||0}px`,left:`${A||0}px`})} tabindex=0 ${(0,n.K)(this.storeColorFieldScope)}></div></div><div class=${(0,r.CP)(c.m.previewAndSliders)}><calcite-color-picker-swatch class=${(0,r.CP)(c.m.preview)} .color=${x} .scale=${this.alphaChannel?"l":this.scale}></calcite-color-picker-swatch><div class=${(0,r.CP)(c.m.sliders)}><div class=${(0,r.CP)(c.m.controlAndScope)}><canvas class=${(0,r.CP)({[c.m.slider]:!0,[c.m.hueSlider]:!0})} @pointerdown=${this.handleHueSliderPointerDown} ${(0,n.K)(this.initHueSlider)}></canvas><div .ariaLabel=${d.hue} .ariaValueMax=${c.H.h} aria-valuemin=0 .ariaValueNow=${t?.round().hue()||c.D.round().hue()} class=${(0,r.CP)({[c.m.scope]:!0,[c.m.hueScope]:!0})} @keydown=${this.handleHueScopeKeyDown} role=slider style=${(0,r.zl)({top:`${P}px`,left:`${F}px`})} tabindex=0 ${(0,n.K)(this.storeHueScope)}></div></div>${u?s.qy`<div class=${(0,r.CP)(c.m.controlAndScope)}><canvas class=${(0,r.CP)({[c.m.slider]:!0,[c.m.opacitySlider]:!0})} @pointerdown=${this.handleOpacitySliderPointerDown} ${(0,n.K)(this.initOpacitySlider)}></canvas><div .ariaLabel=${d.opacity} .ariaValueMax=${c.O.max} .ariaValueMin=${c.O.min} .ariaValueNow=${(t||c.D).round().alpha()} class=${(0,r.CP)({[c.m.scope]:!0,[c.m.opacityScope]:!0})} @keydown=${this.handleOpacityScopeKeyDown} role=slider style=${(0,r.zl)({top:`${z}px`,left:`${O}px`})} tabindex=0 ${(0,n.K)(this.storeOpacityScope)}></div></div>`:null}</div></div>${o&&e?null:s.qy`<div class=${(0,r.CP)({[c.m.controlSection]:!0,[c.m.section]:!0})}><div class=${(0,r.CP)(c.m.hexAndChannelsGroup)}>${o?null:s.qy`<div class=${(0,r.CP)(c.m.hexOptions)}><calcite-color-picker-hex-input .allowEmpty=${this.isClearable} .alphaChannel=${u} class=${(0,r.CP)(c.m.control)} .messages=${d} .numberingSystem=${this.numberingSystem} @calciteColorPickerHexInputChange=${this.handleHexInputChange} .scale=${g} .value=${x}></calcite-color-picker-hex-input></div>`}${e?null:s.qy`<calcite-tabs class=${(0,r.CP)({[c.m.colorModeContainer]:!0,[c.m.splitSection]:!0})} .scale=${"l"===g?"m":"s"}><calcite-tab-nav slot=title-group>${this.renderChannelsTabTitle("rgb")}${this.renderChannelsTabTitle("hsv")}</calcite-tab-nav>${this.renderChannelsTab("rgb")}${this.renderChannelsTab("hsv")}</calcite-tabs>`}</div></div>`}${v?null:s.qy`<div class=${(0,r.CP)({[c.m.savedColorsSection]:!0,[c.m.section]:!0})}><div class=${(0,r.CP)(c.m.header)}><label>${d.saved}</label><div class=${(0,r.CP)(c.m.savedColorsButtons)}><calcite-button appearance=transparent class=${(0,r.CP)(c.m.deleteColor)} .disabled=${I} icon-start=minus kind=neutral .label=${d.deleteColor} @click=${this.deleteColor} .scale=${g} type=button></calcite-button><calcite-button appearance=transparent class=${(0,r.CP)(c.m.saveColor)} .disabled=${I} icon-start=plus kind=neutral .label=${d.saveColor} @click=${this.saveColor} .scale=${g} type=button></calcite-button></div></div>${p.length>0?s.qy`<div class=${(0,r.CP)(c.m.savedColors)}>${(0,C.u)(p,(e=>e),(e=>s.qy`<calcite-color-picker-swatch class=${(0,r.CP)(c.m.savedColor)} .color=${e} @click=${this.handleSavedColorSelect} @keydown=${this.handleSavedColorKeyDown} .scale=${g} tabindex=0></calcite-color-picker-swatch>`))}</div>`:null}</div>`}</div>`})}renderChannelsTabTitle(e){const{channelMode:t,messages:i}=this,a=e===t,n="rgb"===e?i.rgb:i.hsv;return(0,l.D)(e,s.qy`<calcite-tab-title class=${(0,r.CP)(c.m.colorMode)} data-color-mode=${e??s.s6} @calciteTabsActivate=${this.handleTabActivate} .selected=${a}>${n}</calcite-tab-title>`)}renderChannelsTab(e){const{isClearable:t,channelMode:i,channels:a,messages:n,alphaChannel:o}=this,d=e===i,u="rgb"===e?[n.red,n.green,n.blue]:[n.hue,n.saturation,n.value],b=(0,h.g)(this.el),p=o?a:a.slice(0,3);return(0,l.D)(e,s.qy`<calcite-tab class=${(0,r.CP)(c.m.control)} .selected=${d}><div class=${(0,r.CP)(c.m.channels)} dir=ltr>${p.map(((e,i)=>{const a=3===i;return a&&(e=t&&!e?e:(0,c.c)(e)),this.renderChannel(e,i,u[i],b,a?"%":"")}))}</div></calcite-tab>`)}renderChannel(e,t,i,a,n){return(0,l.D)(t,s.qy`<calcite-input-number class=${(0,r.CP)(c.m.channel)} data-channel-index=${t??s.s6} dir=${a??s.s6} .label=${i} lang=${this.messages._lang??s.s6} number-button-type=none .numberingSystem=${this.numberingSystem} @keydown=${this.handleKeyDown} @calciteInputNumberChange=${this.handleChannelChange} @calciteInputNumberInput=${this.handleChannelInput} @calciteInternalInputNumberBlur=${this.handleChannelBlur} @calciteInternalInputNumberFocus=${this.handleChannelFocus} .scale=${"l"===this.scale?"m":"s"} style=${(0,r.zl)({marginLeft:t>0&&("s"!==this.scale||!this.alphaChannel||3!==t)?"-1px":""})} .suffixText=${n} .value=${e?.toString()}></calcite-input-number>`)}}(0,a.c)("calcite-color-picker",$)},84091:(e,t,i)=>{i.r(t),i.d(t,{TabNav:()=>S});i(20423);var a=i(57688),n=i(41487),l=i(65386),o=i(52673),s=i(20443),r=i(25697),c=i(7176),h=i(2547),d=i(94948),u=i(69842);const b="chevron-right",p="chevron-left",v="tab-nav",g="tab-nav--end-overflow",m="tab-nav--start-overflow",f="scroll-button",C="scroll-button-container",x="scroll-button-container--backward",y="scroll-button-container--forward",w="tab-titles-slot-wrapper",T=u.AH`:host{--calcite-internal-tab-nav-gradient-start-side: left;--calcite-internal-tab-nav-gradient-end-side: right;position:relative;display:flex}.scale-s{--calcite-internal-tab-nav-scroller-button-width: 24px;min-block-size:1.5rem}.scale-m{--calcite-internal-tab-nav-scroller-button-width: 32px;min-block-size:2rem}.scale-l{--calcite-internal-tab-nav-scroller-button-width: 44px;min-block-size:2.75rem}.calcite--rtl{--calcite-internal-tab-nav-gradient-start-side: right;--calcite-internal-tab-nav-gradient-end-side: left}.tab-nav--start-overflow .tab-titles-slot-wrapper{mask-image:linear-gradient(to var(--calcite-internal-tab-nav-gradient-end-side),transparent,transparent var(--calcite-internal-tab-nav-scroller-button-width),white var(--calcite-internal-tab-nav-scroller-button-width),white 51%)}.tab-nav--end-overflow .tab-titles-slot-wrapper{mask-image:linear-gradient(to var(--calcite-internal-tab-nav-gradient-start-side),transparent,transparent var(--calcite-internal-tab-nav-scroller-button-width),white var(--calcite-internal-tab-nav-scroller-button-width),white 51%)}.tab-nav--start-overflow.tab-nav--end-overflow .tab-titles-slot-wrapper{mask-image:linear-gradient(to var(--calcite-internal-tab-nav-gradient-end-side),transparent,transparent var(--calcite-internal-tab-nav-scroller-button-width),white var(--calcite-internal-tab-nav-scroller-button-width),white 51%,transparent 51%),linear-gradient(to var(--calcite-internal-tab-nav-gradient-start-side),transparent,transparent var(--calcite-internal-tab-nav-scroller-button-width),white var(--calcite-internal-tab-nav-scroller-button-width),white 51%,transparent 51%)}.tab-nav::-webkit-scrollbar{display:none;-ms-overflow-style:none;scrollbar-width:none}:host([layout=center]) ::slotted(calcite-tab-title){display:flex;flex-grow:1;flex-shrink:0;min-inline-size:auto;white-space:nowrap}:host([layout=center]) ::slotted(calcite-tab-title[selected]){overflow:unset}:host(:not([bordered])) .scale-l{--calcite-internal-tab-nav-gap: var(--calcite-spacing-xxl)}:host(:not([bordered])) .scale-m{--calcite-internal-tab-nav-gap: var(--calcite-spacing-xl)}:host(:not([bordered])) .scale-s{--calcite-internal-tab-nav-gap: var(--calcite-spacing-lg)}:host(:not([bordered])) .tab-titles-slot-wrapper{gap:var(--calcite-internal-tab-nav-gap)}:host([layout=center]:not([bordered])) .tab-titles-slot-wrapper{padding-inline:var(--calcite-spacing-xl)}.tab-nav,.tab-titles-slot-wrapper{display:flex;inline-size:100%;justify-content:flex-start;overflow:hidden;white-space:nowrap}.scroll-button-container{position:absolute;inset-block:0px}.scroll-button-container calcite-button{--calcite-offset-invert-focus: 1;--calcite-color-text-1: var(--calcite-color-text-3);block-size:100%}.scroll-button-container calcite-button:hover{--calcite-color-text-1: unset;--calcite-color-foreground-1: var(--calcite-color-transparent-hover);--calcite-color-foreground-3: var(--calcite-color-transparent)}.scroll-button-container--forward{inset-inline-end:0;z-index:var(--calcite-z-index)}.scroll-button-container--backward{inset-inline-start:0;z-index:var(--calcite-z-index)}:host(:not([bordered])) .scroll-button-container--backward:before,:host(:not([bordered])) .scroll-button-container--forward:before{background-color:var(--calcite-color-border-3);content:"";inline-size:var(--calcite-border-width-sm);inset-block-start:var(--calcite-border-width-md);inset-block-end:var(--calcite-border-width-md);position:absolute}:host(:not([bordered])) .scroll-button-container--backward:before{inset-inline-end:0}:host(:not([bordered])) .scroll-button-container--forward:before{inset-inline-start:0}:host([hidden]){display:none}[hidden]{display:none}`;class S extends r.WF{constructor(){super(),this.effectiveDir="ltr",this.lastScrollWheelAxis="x",this.resizeObserver=(0,h.c)("resize",(()=>{this.updateScrollingState()})),this.makeFirstVisibleTabClosable=!1,this.hasOverflowingEndTabTitle=!1,this.hasOverflowingStartTabTitle=!1,this.bordered=!1,this.layout="inline",this.messages=(0,d.u)(),this.position="bottom",this.scale="m",this.selectedTitle=null,this.calciteInternalTabChange=(0,r.lh)({cancelable:!1}),this.calciteInternalTabNavSlotChange=(0,r.lh)(),this.calciteTabChange=(0,r.lh)({cancelable:!1}),this.listen("calciteInternalTabsFocusPrevious",this.focusPreviousTabHandler),this.listen("calciteInternalTabsFocusNext",this.focusNextTabHandler),this.listen("calciteInternalTabsFocusFirst",this.focusFirstTabHandler),this.listen("calciteInternalTabsFocusLast",this.focusLastTabHandler),this.listen("calciteInternalTabsActivate",this.internalActivateTabHandler),this.listen("calciteTabsActivate",this.activateTabHandler),this.listen("calciteInternalTabsClose",this.internalCloseTabHandler),this.listen("calciteInternalTabTitleRegister",this.updateTabTitles),this.listenOn(document.body,"calciteInternalTabChange",this.globalInternalTabChangeHandler)}static#e=(()=>this.properties={hasOverflowingEndTabTitle:16,hasOverflowingStartTabTitle:16,selectedTabId:16,bordered:7,layout:3,messageOverrides:0,position:1,scale:1,selectedTitle:0,storageId:3,syncId:3})();static#t=(()=>this.styles=T)();get enabledTabTitles(){return(0,c.f)(this.el,"calcite-tab-title:not([disabled])").filter((e=>!e.closed))}get scrollerButtonWidth(){const{scale:e}=this;return parseInt("s"===e?o.c:"m"===e?o.a:o.b)}get tabTitles(){return(0,c.f)(this.el,"calcite-tab-title")}connectedCallback(){super.connectedCallback(),this.parentTabsEl=this.el.closest("calcite-tabs"),this.resizeObserver?.observe(this.el)}async load(){const e=`calcite-tab-nav-${this.storageId}`;if(localStorage&&this.storageId&&localStorage.getItem(e)){const t=JSON.parse(localStorage.getItem(e));this.selectedTabId=t}}willUpdate(e){e.has("selectedTitle")&&(this.hasUpdated||null!==this.selectedTitle)&&this.calciteInternalTabChange.emit({tab:this.selectedTabId}),e.has("selectedTabId")&&this.selectedTabIdChanged();const{parentTabsEl:t}=this;this.layout=t?.layout,this.bordered=t?.bordered,this.effectiveDir=(0,c.g)(this.el)}loaded(){this.scrollTabTitleIntoView(this.selectedTitle,"instant"),this.tabTitles.length&&this.tabTitles.every((e=>!e.selected))&&!this.selectedTabId&&this.tabTitles[0].getTabIdentifier().then((e=>{this.calciteInternalTabChange.emit({tab:e})}))}disconnectedCallback(){super.disconnectedCallback(),this.resizeObserver?.disconnect()}focusPreviousTabHandler(e){this.handleTabFocus(e,e.target,"previous")}focusNextTabHandler(e){this.handleTabFocus(e,e.target,"next")}focusFirstTabHandler(e){this.handleTabFocus(e,e.target,"first")}focusLastTabHandler(e){this.handleTabFocus(e,e.target,"last")}internalActivateTabHandler(e){const t=e.target;this.selectedTabId=e.detail.tab?e.detail.tab:this.getIndexOfTabTitle(t),e.stopPropagation(),this.selectedTitle=t,this.scrollTabTitleIntoView(t)}scrollTabTitleIntoView(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"smooth";e&&requestAnimationFrame((()=>{const i="ltr"===this.effectiveDir,a=this.tabTitleContainerEl,n=a.getBoundingClientRect(),l=e.getBoundingClientRect(),o=a.scrollLeft,s=i?this.hasOverflowingStartTabTitle:this.hasOverflowingEndTabTitle,r=i?this.hasOverflowingEndTabTitle:this.hasOverflowingStartTabTitle;if(l.left<n.left+(s?this.scrollerButtonWidth:0)){const e=o+(l.left-n.left)-this.scrollerButtonWidth;a.scrollTo({left:e,behavior:t})}else if(l.right>n.right-(r?this.scrollerButtonWidth:0)){const e=o+(l.right-n.right)+this.scrollerButtonWidth;a.scrollTo({left:e,behavior:t})}}))}activateTabHandler(e){this.calciteTabChange.emit(),e.stopPropagation()}internalCloseTabHandler(e){const t=e.target;this.handleTabTitleClose(t),e.stopPropagation()}async updateTabTitles(e){e.target.selected&&(this.selectedTabId=e.detail,this.selectedTitle=await this.getTabTitleById(this.selectedTabId))}globalInternalTabChangeHandler(e){this.syncId&&e.target!==this.el&&e.target.syncId===this.syncId&&this.selectedTabId!==e.detail.tab&&(this.selectedTabId=e.detail.tab),e.stopPropagation()}async selectedTabIdChanged(){await this.componentOnReady(),localStorage&&this.storageId&&void 0!==this.selectedTabId&&null!==this.selectedTabId&&localStorage.setItem(`calcite-tab-nav-${this.storageId}`,JSON.stringify(this.selectedTabId)),this.calciteInternalTabChange.emit({tab:this.selectedTabId})}onTabTitleWheel(e){e.preventDefault();const{deltaX:t,deltaY:i}=e,a=Math.abs(t),n=Math.abs(i);let l;a===n?l="x"===this.lastScrollWheelAxis?t:i:a>n?(l=t,this.lastScrollWheelAxis="x"):(l=i,this.lastScrollWheelAxis="y");const o=("rtl"===this.effectiveDir?-1:1)*l;e.currentTarget.scrollBy(o,0)}onSlotChange(){this.intersectionObserver?.disconnect();const e=this.tabTitles;e.forEach((e=>{this.intersectionObserver?.observe(e)}));const t=this.getVisibleTabTitlesIndices(e);t.length>1&&this.makeFirstVisibleTabClosable&&(e[t[0]].closable=!0,this.makeFirstVisibleTabClosable=!1),this.calciteInternalTabNavSlotChange.emit(e)}storeTabTitleWrapperRef(e){e&&(this.tabTitleContainerEl=e,this.intersectionObserver=(0,h.c)("intersection",(()=>this.updateScrollingState()),{root:e,threshold:[0,.5,1]}))}updateScrollingState(){const e=this.tabTitleContainerEl;if(!e)return;let t,i;const a=e.scrollLeft,n=e.clientWidth,l=e.scrollWidth;"ltr"===this.effectiveDir?(t=a>0,i=a+n<l):(t=a<0,i=a!==-(l-n)),this.hasOverflowingStartTabTitle=t,this.hasOverflowingEndTabTitle=i}scrollToTabTitles(e){requestAnimationFrame((()=>{const t=this.tabTitleContainerEl,i=t.getBoundingClientRect(),a=Array.from(this.el.querySelectorAll("calcite-tab-title")),{effectiveDir:n}=this;"forward"===e&&a.reverse();let l=null;if(a.forEach((t=>{const a=t.getBoundingClientRect(),o=i.x+i.width,s=a.x+a.width;"forward"===e&&"ltr"===n||"backward"===e&&"rtl"===n?(a.x>o||s>o&&a.x>i.x)&&(l=t):(s<i.x||s<o&&a.x<i.x)&&(l=t)})),l){const{scrollerButtonWidth:i}=this,a="forward"===e&&"ltr"===n||"backward"===e&&"rtl"===n?-i:l.offsetWidth-t.clientWidth+i,o=l.offsetLeft+a;t.scrollTo({left:o,behavior:"smooth"})}}))}scrollToNextTabTitles(){this.scrollToTabTitles("forward")}scrollToPreviousTabTitles(){this.scrollToTabTitles("backward")}handleTabFocus(e,t,i){const a=(0,c.d)(this.enabledTabTitles,t,i);this.scrollTabTitleIntoView(a,"instant"),e.stopPropagation()}getIndexOfTabTitle(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tabTitles).indexOf(e)}onTabTitleScroll(){this.updateScrollingState()}async getTabTitleById(e){return Promise.all(this.tabTitles.map((e=>e.getTabIdentifier()))).then((t=>this.tabTitles[t.indexOf(e)]))}getVisibleTabTitlesIndices(e){return e.reduce(((e,t,i)=>t.closed?e:[...e,i]),[])}handleTabTitleClose(e){const{tabTitles:t}=this,i=e.selected,a=this.getVisibleTabTitlesIndices(t),n=a.length;if(1===n&&t[a[0]].closable)this.makeFirstVisibleTabClosable=!0,t[a[0]].closable=!1,this.selectedTabId=a[0],i&&t[a[0]].activateTab();else if(n>1){const i=t.findIndex((t=>t===e)),l=a.find((e=>e>i));this.selectedTabId===i&&(this.selectedTabId=l||n-1,t[this.selectedTabId].activateTab())}requestAnimationFrame((()=>{t[this.selectedTabId].focus()}))}render(){return this.el.role="tablist",s.qy`<div class=${(0,r.CP)({[v]:!0,[m]:!!this.hasOverflowingStartTabTitle,[g]:!!this.hasOverflowingEndTabTitle,[`scale-${this.scale}`]:!0,[`position-${this.position}`]:!0,[a.C.rtl]:"rtl"===this.effectiveDir})}>${this.renderScrollButton("start")}<div class=${(0,r.CP)({[w]:!0})} @scroll=${this.onTabTitleScroll} @wheel=${this.onTabTitleWheel} ${(0,n.K)(this.storeTabTitleWrapperRef)}><slot @slotchange=${this.onSlotChange}></slot></div>${this.renderScrollButton("end")}</div>`}renderScrollButton(e){const{bordered:t,messages:i,hasOverflowingStartTabTitle:a,hasOverflowingEndTabTitle:n,scale:o}=this,c="end"===e;return(0,l.D)(e,s.qy`<div class=${(0,r.CP)({[C]:!0,[x]:!c,[y]:c})} .hidden=${c&&!n||!c&&!a}><calcite-button .appearance=${t?"outline-fill":"transparent"} .ariaLabel=${c?i.nextTabTitles:i.previousTabTitles} class=${(0,r.CP)({[f]:!0})} icon-flip-rtl=both .iconStart=${c?b:p} kind=neutral @click=${c?this.scrollToNextTabTitles:this.scrollToPreviousTabTitles} .scale=${o} tabindex=-1></calcite-button></div>`)}}(0,a.c)("calcite-tab-nav",S)}}]);