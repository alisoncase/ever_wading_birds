"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[91002],{13473:(e,t,o)=>{function r(){return[1,0,0,0,1,0,0,0,1]}function n(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]}function i(e,t,o,r,n,i,s,l,a){return[e,t,o,r,n,i,s,l,a]}o.d(t,{fA:()=>i,o8:()=>n,vt:()=>r,zK:()=>s});const s=[1,0,0,0,1,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:s,clone:n,create:r,createView:function(e,t){return new Float64Array(e,t,9)},fromValues:i},Symbol.toStringTag,{value:"Module"}))},50543:(e,t,o)=>{o.r(t),o.d(t,{default:()=>w});var r,n=o(93800),i=o(23060),s=o(74719),l=o(63160),a=o(50925),d=o(64682),u=o(79953),c=o(43103),h=o(48602),p=(o(21265),o(14746),o(75269)),v=o(15484),y=o(32395),m=o(19783),g=o(37623),f=o(85042);let _=class extends y.A{constructor(e){super(e),this.autoplay=!0,this.content=null,this.controller=null,this.type="video",this[r]=!0}load(){const e=this.video;return"string"==typeof e?this.addResolvingPromise(Promise.all([this._preProcessVideoUrl(e),o.e(8582).then(o.bind(o,8582))]).then((async e=>{let[t,{default:o}]=e;this.controller=new o,this.controller.playerUrl=t,await(0,u.whenOnce)((()=>this.controller?.element)),this.controller.loop=!0,this.controller.muted=!0,this.controller.playsInline=!0,this.controller.crossOrigin="anonymous",await(0,u.whenOnce)((()=>"can-play"===this.controller?.state)),await this.controller.play(),this.autoplay||this.controller.pause(),this._set("content",this.controller.element)}))):e instanceof HTMLVideoElement?this.addResolvingPromise(this._loadVideo(e).then((()=>{this._set("content",e)}))):this.addResolvingPromise(Promise.reject(new s.default("video-element:invalid-video-type","Invalid video type",{video:e}))),Promise.resolve(this)}get contentWidth(){return this.content?.videoWidth??0}get contentHeight(){return this.content?.videoHeight??0}get currentTime(){return this.controller?.currentTime}set currentTime(e){if(!this.controller)return;const t=(0,d.qE)(e,0,this.controller.duration);this.controller?.setCurrentTime(t)}get duration(){return this.controller?.duration}set video(e){"not-loaded"===this.loadStatus?this._set("video",e):a.A.getLogger(this).error("#video","video cannot be changed after the element is loaded.")}writeVideo(e,t,o,r){if(!e)return void(r?.messages&&r.messages.push(new s.default("video-element:unsupported-video","video source is missing")));const n=function(e){return"string"==typeof e&&!(0,c.isDataProtocol)(e)&&!(0,c.isBlobProtocol)(e)}(e)?e:null;if(!n)return void(r?.messages&&r.messages.push(new s.default("video-element:unsupported-video","video source must be an absolute url")));!(0,c.isAbsolute)(n)&&r?.blockedRelativeUrls&&r.blockedRelativeUrls.push(n);const i=(0,c.makeAbsolute)(n);(0,f.i)(i)?r?.messages&&r.messages.push(new s.default("video-element:unsupported-video","video source cannot be an item resource")):t[o]=i}async _preProcessVideoUrl(e){if((0,c.getProxyRule)(e))return(0,c.addProxy)(e);try{return await(0,i.default)(e,{method:"head"}),e}catch{return(0,c.addProxy)(e,!0)}}_loadVideo(e){return new Promise(((t,o)=>{const r=(0,l.Oo)(e,"canplay",(()=>{this.removeHandles("canplay"),this.autoplay?e.play().then(t,o):t()}));this.addHandles(r,"canplay"),"anonymous"!==e.crossOrigin&&(e.crossOrigin="anonymous",(0,c.isBlobProtocol)(e.src)||(e.src=e.src))}))}};r=g.UR,(0,n._)([(0,h.MZ)()],_.prototype,"autoplay",void 0),(0,n._)([(0,h.MZ)({readOnly:!0})],_.prototype,"content",void 0),(0,n._)([(0,h.MZ)({readOnly:!0})],_.prototype,"contentWidth",null),(0,n._)([(0,h.MZ)({readOnly:!0})],_.prototype,"contentHeight",null),(0,n._)([(0,h.MZ)()],_.prototype,"controller",void 0),(0,n._)([(0,h.MZ)({type:Number})],_.prototype,"currentTime",null),(0,n._)([(0,h.MZ)({type:Number})],_.prototype,"duration",null),(0,n._)([(0,h.MZ)(m.x3)],_.prototype,"video",null),(0,n._)([(0,v.K)("video")],_.prototype,"writeVideo",null),(0,n._)([(0,h.MZ)(m.m$)],_.prototype,"type",void 0),_=(0,n._)([(0,p.$)("esri.layers.support.VideoElement")],_);const w=_},79970:(e,t,o)=>{o.d(t,{O:()=>h,W:()=>c});var r=o(67965),n=o(13473),i=o(32006),s=o(89227);const l=(0,o(28473).vt)(),a=(0,n.vt)(),d=(0,n.vt)(),u=(0,n.vt)();function c(e,t,o){return(0,s.i)(l,t[0],t[1],1),(0,s.q)(l,l,(0,r.mg)(a,o)),0===l[2]?(0,i.hZ)(e,l[0],l[1]):(0,i.hZ)(e,l[0]/l[2],l[1]/l[2])}function h(e,t,o){return p(d,t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]),p(u,o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7]),(0,r.lw)(e,(0,r.KC)(d,d),u),0!==e[8]&&(e[0]/=e[8],e[1]/=e[8],e[2]/=e[8],e[3]/=e[8],e[4]/=e[8],e[5]/=e[8],e[6]/=e[8],e[7]/=e[8],e[8]/=e[8]),e}function p(e,t,o,n,i,d,u,c,h){(0,r.hZ)(e,t,n,d,o,i,u,1,1,1),(0,s.i)(l,c,h,1),(0,r.KC)(a,e);const[p,v,y]=(0,s.q)(l,l,(0,r.mg)(a,a));return(0,r.hZ)(a,p,0,0,0,v,0,0,0,y),(0,r.lw)(e,a,e)}}}]);