"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[14524,30848,47381,69762,92143],{605:(t,e,r)=>{r.d(e,{_:()=>n});class n{constructor(t,e,r,n,i){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;this.name=t,this.count=e,this.type=r,this.offset=n,this.stride=i,this.normalized=o,this.divisor=s}}},769:(t,e,r)=>{r.d(e,{c:()=>o});var n=r(16878),i=r(22131);function o(t,e){e.hasVertexColors?(t.attributes.add(i.r.COLOR,"vec4"),t.varyings.add("vColor","vec4"),t.vertex.code.add(n.H`void forwardVertexColor() { vColor = color; }`),t.vertex.code.add(n.H`void forwardNormalizedVertexColor() { vColor = color * 0.003921568627451; }`)):t.vertex.code.add(n.H`void forwardVertexColor() {}
void forwardNormalizedVertexColor() {}`)}},2925:(t,e,r)=>{r.d(e,{$:()=>M,IB:()=>u,Iy:()=>H,KV:()=>U,N2:()=>w,QP:()=>S,RH:()=>T,Vl:()=>I,Ws:()=>R,ZD:()=>O,_L:()=>V,bJ:()=>B,e$:()=>N,f6:()=>W,hw:()=>D,pW:()=>F,pf:()=>C,rs:()=>E,sn:()=>P,we:()=>z});var n=r(88102),i=r(62631),o=r(82301),s=r(64682),a=r(60548),l=r(24646);function u(t){return"r"in t&&"g"in t&&"b"in t}function h(t){return"h"in t&&"s"in t&&"v"in t}function c(t){return"l"in t&&"a"in t&&"b"in t}function d(t){return"l"in t&&"c"in t&&"h"in t}const f=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],g=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function m(t,e){const r=[];let n,i;if(t[0].length!==e.length)throw new Error("dimensions do not match");const o=t.length,s=t[0].length;let a=0;for(n=0;n<o;n++){for(a=0,i=0;i<s;i++)a+=t[n][i]*e[i];r.push(a)}return r}function v(t){const e=[t.r/255,t.g/255,t.b/255].map((t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4)),r=m(f,e);return{x:100*r[0],y:100*r[1],z:100*r[2]}}function _(t){const e=m(g,[t.x/100,t.y/100,t.z/100]).map((t=>{const e=t<=.0031308?12.92*t:1.055*t**(1/2.4)-.055;return Math.min(1,Math.max(e,0))}));return{r:Math.round(255*e[0]),g:Math.round(255*e[1]),b:Math.round(255*e[2])}}function p(t){const e=[t.x/95.047,t.y/100,t.z/108.883].map((t=>t>(6/29)**3?t**(1/3):1/3*(29/6)**2*t+4/29));return{l:116*e[1]-16,a:500*(e[0]-e[1]),b:200*(e[1]-e[2])}}function b(t){const e=t.l,r=[(e+16)/116+t.a/500,(e+16)/116,(e+16)/116-t.b/200].map((t=>t>6/29?t**3:3*(6/29)**2*(t-4/29)));return{x:95.047*r[0],y:100*r[1],z:108.883*r[2]}}function y(t){return function(t){const e=t.l,r=t.a,n=t.b,i=Math.sqrt(r*r+n*n);let o=Math.atan2(n,r);return o=o>0?o:o+2*Math.PI,{l:e,c:i,h:o}}(p(v(t)))}function x(t){return _(b(function(t){const e=t.l,r=t.c,n=t.h;return{l:e,a:r*Math.cos(n),b:r*Math.sin(n)}}(t)))}function M(t){return u(t)?t:d(t)?x(t):c(t)?function(t){return _(b(t))}(t):function(t){return"x"in t&&"y"in t&&"z"in t}(t)?_(t):h(t)?function(t){const e=(t.h+360)%360/60,r=t.s/100,n=t.v/100*255,i=n*r,o=i*(1-Math.abs(e%2-1));let s;switch(Math.floor(e)){case 0:s={r:i,g:o,b:0};break;case 1:s={r:o,g:i,b:0};break;case 2:s={r:0,g:i,b:o};break;case 3:s={r:0,g:o,b:i};break;case 4:s={r:o,g:0,b:i};break;case 5:case 6:s={r:i,g:0,b:o};break;default:s={r:0,g:0,b:0}}return s.r=Math.round(s.r+n-i),s.g=Math.round(s.g+n-i),s.b=Math.round(s.b+n-i),s}(t):t}function w(t){return h(t)?t:function(t){const e=t.r,r=t.g,n=t.b,i=Math.max(e,r,n),o=i-Math.min(e,r,n);let s=i,a=0===o?0:i===e?(r-n)/o%6:i===r?(n-e)/o+2:(e-r)/o+4,l=0===o?0:o/s;return a<0&&(a+=6),a*=60,l*=100,s*=100/255,{h:a,s:l,v:s}}(M(t))}function O(t){return c(t)?t:function(t){return p(v(t))}(M(t))}function T(t){return d(t)?t:y(M(t))}function E(t){return A(t).isBright?"light":"dark"}function A(t){let{r:e,g:r,b:i,a:o}=t;return o<1&&(e=Math.round(o*e+255*(1-o)),r=Math.round(o*r+255*(1-o)),i=Math.round(o*i+255*(1-o))),new n.default({r:e,g:r,b:i})}function R(t,e){const{r:r,g:n,b:i}=e?.ignoreAlpha?t:A(t);return.2126*r+.7152*n+.0722*i}var F,L;function B(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F.High;return R(t,{ignoreAlpha:!0})>e?new n.default([0,0,0,t.a]):new n.default([255,255,255,t.a])}function N(t,e){const r=O(t);r.l*=1-e;const n=M(r),i=t.clone();return i.setColor(n),i.a=t.a,i}function V(t,e){const r=t.clone();return r.a*=e,r}function I(t,e){const r=w(t);r.s*=e;const n=M(r),i=t.clone();return i.setColor(n),i.a=t.a,i}function S(t){return n.default.toUnitRGBA(t)}function D(t,e){return t===e||null!=t&&t.equals(e)}function z(t,e){return t===e||null!=t&&null!=e&&(0,a.e)(t,e)}function C(t){return(0,l.fA)(t[0],t[1],t[2],t.length>3?t[3]:1)}function U(t){return t[0]??=0,t[1]??=0,t[2]??=0,t}function P(t){return t.length=4,U(t),t[3]??=1,(0,s.qE)(t[3],0,1),t}function W(t,e){const r=n.default.toUnitRGBA(t);return r[3]*=e,r}function H(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(0===t.length||e<=0)return[];if(1===(t=t.map((t=>"string"==typeof t?new n.default(t):t))).length||1===e){const r=[],n=t[0];for(let t=0;t<e;t++)r.push(n.clone());return r}if(r.shuffle&&(t=(0,i.k4)((0,o.clone)(t),r.seed)),t.length>=e){const r=[],n=(t.length-1)/(e-1);for(let i=0;i<e;i++){const e=Math.round(i*n);r.push(t[e].clone())}return r}return function(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=[],o=t.length-1,s=Math.ceil((e-t.length)/o);t:for(let i=0;i<o;i++){const o=t[i],a=t[i+1];for(let i=1;i<=s;i++){const l=i/(s+1);if(n.push(j(o,a,l,r)),n.length+t.length===e)break t}}return[...t.map((t=>t.clone())),...(0,i.k4)(n,r.seed??1)]}(t,e,r)}(L=F||(F={}))[L.Low=160]="Low",L[L.High=225]="High";const Z=(t,e)=>{const r=Math.floor(10*e())-5;return Math.min(255,Math.max(0,t+r))};function j(t,e,r){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const s=t.r,a=t.g,l=t.b,u=e.r,h=e.g,c=e.b,d=Math.round(s+(u-s)*r),f=Math.round(a+(h-a)*r),g=Math.round(l+(c-l)*r);if(!o.offset)return new n.default([d,f,g]);const m=(0,i.Mo)(o.seed);return new n.default([Z(d,m),Z(f,m),Z(g,m)])}},4127:(t,e,r)=>{r.d(e,{EM:()=>_,dO:()=>v,em:()=>m});var n=r(13473),i=r(10382),o=r(28473),s=r(84025),a=r(31500),l=r(8815),u=r(57554),h=r(16878),c=r(91018),d=r(80203),f=r(94320),g=r(20783);function m(t,e){t.include(s.I);const r=t.vertex;r.include(a.u,e),t.varyings.add("vPositionWorldCameraRelative","vec3"),t.varyings.add("vPosition_view","vec3"),r.uniforms.add(new u.t("transformWorldFromViewTH",(t=>t.transformWorldFromViewTH)),new u.t("transformWorldFromViewTL",(t=>t.transformWorldFromViewTL)),new d.k("transformViewFromCameraRelativeRS",(t=>t.transformViewFromCameraRelativeRS)),new f.X("transformProjFromView",(t=>t.transformProjFromView)),new c.h("transformWorldFromModelRS",(t=>t.transformWorldFromModelRS)),new l.W("transformWorldFromModelTH",(t=>t.transformWorldFromModelTH)),new l.W("transformWorldFromModelTL",(t=>t.transformWorldFromModelTL))),r.code.add(h.H`vec3 positionWorldCameraRelative() {
vec3 rotatedModelPosition = transformWorldFromModelRS * positionModel();
vec3 transform_CameraRelativeFromModel = dpAdd(
transformWorldFromModelTL,
transformWorldFromModelTH,
-transformWorldFromViewTL,
-transformWorldFromViewTH
);
return transform_CameraRelativeFromModel + rotatedModelPosition;
}`),r.code.add(h.H`
    void forwardPosition(float fOffset) {
      vPositionWorldCameraRelative = positionWorldCameraRelative();
      if (fOffset != 0.0) {
        vPositionWorldCameraRelative += fOffset * ${e.spherical?h.H`normalize(transformWorldFromViewTL + vPositionWorldCameraRelative)`:h.H`vec3(0.0, 0.0, 1.0)`};
      }

      vPosition_view = transformViewFromCameraRelativeRS * vPositionWorldCameraRelative;
      gl_Position = transformProjFromView * vec4(vPosition_view, 1.0);
    }
  `),t.fragment.uniforms.add(new u.t("transformWorldFromViewTL",(t=>t.transformWorldFromViewTL))),r.code.add(h.H`vec3 positionWorld() {
return transformWorldFromViewTL + vPositionWorldCameraRelative;
}`),t.fragment.code.add(h.H`vec3 positionWorld() {
return transformWorldFromViewTL + vPositionWorldCameraRelative;
}`)}class v extends g.Y{constructor(){super(...arguments),this.transformWorldFromViewTH=(0,o.vt)(),this.transformWorldFromViewTL=(0,o.vt)(),this.transformViewFromCameraRelativeRS=(0,n.vt)(),this.transformProjFromView=(0,i.vt)()}}class _ extends g.Y{constructor(){super(...arguments),this.transformWorldFromModelRS=(0,n.vt)(),this.transformWorldFromModelTH=(0,o.vt)(),this.transformWorldFromModelTL=(0,o.vt)()}}},6579:(t,e,r)=>{r.d(e,{Cq:()=>h,Ee:()=>f,J1:()=>p,LF:()=>y,Me:()=>O,Mm:()=>g,Sz:()=>M,W4:()=>m,e_:()=>v,nD:()=>d,t_:()=>b,tr:()=>_,v7:()=>R,zJ:()=>c,zq:()=>x});var n=r(87436),i=r(5839),o=r(64682),s=r(92143),a=r(56612),l=r(84190),u=r(23224);function h(t,e,r){return t.units[e][r]}function c(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";return`${(0,u.ZV)(e,{minimumFractionDigits:n,maximumFractionDigits:n,signDisplay:e>0?"never":"exceptZero"})} ${h(t,r,i)}`}function d(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";return`${(0,u.ZV)(e,{minimumFractionDigits:n,maximumFractionDigits:n,signDisplay:"exceptZero"})} ${h(t,r,i)}`}function f(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const o=(0,l.x0)(e,r);return c(t,(0,l.oU)(e,r,o),o,n,i)}function g(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const o=(0,l.x0)(e,r);return d(t,(0,l.oU)(e,r,o),o,n,i)}function m(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const o=(0,l.x$)(e,r);return c(t,(0,l.oU)(e,r,o),o,n,i)}function v(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const o=(0,l.x$)(e,r);return d(t,(0,l.oU)(e,r,o),o,n,i)}function _(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const o=(0,l.OU)(e,r);return c(t,(0,l.oU)(e,r,o),o,n,i)}function p(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const o=(0,l.OU)(e,r);return d(t,(0,l.oU)(e,r,o),o,n,i)}function b(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const o=(0,l.y7)(e,r);return c(t,(0,l.oU)(e,r,o),o,n,i)}function y(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const o=(0,l.y7)(e,r);return d(t,(0,l.oU)(e,r,o),o,n,i)}function x(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const o=(0,l.wv)(e,r);return c(t,(0,l.oU)(e,r,o),o,n,i)}function M(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const o=(0,l.TL)(e,r);return c(t,(0,l.oU)(e,r,o),o,n,i)}const w=(t,e)=>({style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:e,minimumFractionDigits:e,signDisplay:t>0?"never":"exceptZero"});function O(t,e,r,n,o){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:i.ie,h=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],c=a.normalize((0,s.g2)((0,l.oU)(t,e,"degrees"),r,n),0,h);const d=w(c,o??2);return c=E(c,d),(0,u.ZV)(c,d)}const T=new Map;function E(t,e){const r=JSON.stringify(e);let n=T.get(r);return n||(n=new Intl.NumberFormat("en-US",e),T.set(r,n)),/^[-+]?360\.?0*\xb0?$/.test(n.format(t))?0:t}const A=["B","kB","MB","GB","TB"];function R(t,e){let r=0===(e=Math.round(e))?0:Math.floor(Math.log(e)/Math.log(n.u.KILOBYTES));r=(0,o.qE)(r,0,A.length-1);const i=(0,u.ZV)(e/n.u.KILOBYTES**r,{maximumFractionDigits:2});return(0,a.HC)(t.units.bytes[A[r]],{fileSize:i})}},8609:(t,e,r)=>{r.d(e,{G7:()=>M,TH:()=>m,hz:()=>p});var n=r(87752),i=r(10382),o=r(89227),s=r(28473),a=r(60548),l=r(24646),u=r(91102),h=r(51064),c=r(92453),d=r(15828),f=r(27464),g=r(64863);const m=1e-5;class v{constructor(t){this.options=new c.H6,this._results=new b,this.transform=new g.dg,this.tolerance=m,this.verticalOffset=null,this._ray=(0,u.vt)(),this._rayEnd=(0,s.vt)(),this._rayBeginTransformed=(0,s.vt)(),this._rayEndTransformed=(0,s.vt)(),this.viewingMode=t??h.RT.Global}get results(){return this._results}get ray(){return this._ray}get rayBegin(){return this._ray.origin}get rayEnd(){return this._rayEnd}reset(t,e,r){this.resetWithRay((0,u.Cr)(t,e,this._ray),r)}resetWithRay(t,e){this.camera=e,t!==this._ray&&(0,u.C)(t,this._ray),0!==this.options.verticalOffset?this.viewingMode===h.RT.Local?this._ray.origin[2]-=this.options.verticalOffset:this.verticalOffset=this.options.verticalOffset:this.verticalOffset=null,(0,o.g)(this._rayEnd,this._ray.origin,this._ray.direction),this._results.init(this._ray)}intersect(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;this.point=e,this.filterPredicate=n,this.tolerance=r??m;const o=(0,g.ou)(this.verticalOffset);if(t&&t.length>0){const e=i?t=>{i(t)&&this.intersectObject(t)}:t=>{this.intersectObject(t)};for(const r of t){const t=r.getSpatialQueryAccelerator?.();null!=t?(null!=o?t.forEachAlongRayWithVerticalOffset(this._ray.origin,this._ray.direction,e,o):t.forEachAlongRay(this._ray.origin,this._ray.direction,e),this.options.selectionMode&&this.options.hud&&t.forEachDegenerateObject(e)):r.objects.forAll((t=>e(t)))}}this.sortResults()}intersectObject(t){const e=t.geometries;if(!e)return;const r=t.effectiveTransformation,n=(0,g.ou)(this.verticalOffset);for(const s of e){if(!s.visible)continue;const{material:e,id:a}=s;if(!e.visible)continue;this.transform.setAndInvalidateLazyTransforms(r,s.transformation),(0,o.t)(this._rayBeginTransformed,this.rayBegin,this.transform.inverse),(0,o.t)(this._rayEndTransformed,this.rayEnd,this.transform.inverse);const l=this.transform.transform;null!=n&&(n.objectTransform=this.transform),e.intersect(s,this.transform.transform,this,this._rayBeginTransformed,this._rayEndTransformed,((e,r,n,o,s,u)=>{if(e>=0){if(null!=this.filterPredicate&&!this.filterPredicate(this._ray.origin,this._rayEnd,e))return;const h=o?this._results.hud:this._results,f=o?o=>{const l=new d.B$(t,a,n,u);o.set(c.dz.HUD,l,e,r,i.zK,s)}:i=>i.set(c.dz.OBJECT,{object:t,geometryId:a,triangleNr:n},e,r,l,s);if((null==h.min.drapedLayerOrder||s>=h.min.drapedLayerOrder)&&(null==h.min.dist||e<h.min.dist)&&f(h.min),this.options.store!==c.oH.MIN&&(null==h.max.drapedLayerOrder||s<h.max.drapedLayerOrder)&&(null==h.max.dist||e>h.max.dist)&&f(h.max),this.options.store===c.oH.ALL)if(o){const t=new x(this._ray);f(t),this._results.hud.all.push(t)}else{const t=new y(this._ray);f(t),this._results.all.push(t)}}}))}}sortResults(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._results.all).sort(((t,e)=>t.dist!==e.dist?(t.dist??0)-(e.dist??0):t.drapedLayerOrder!==e.drapedLayerOrder?_(t.drapedLayerOrder,e.drapedLayerOrder):_(t.drapedLayerGraphicOrder,e.drapedLayerGraphicOrder)))}}function _(t,e){return(e??-Number.MAX_VALUE)-(t??-Number.MAX_VALUE)}function p(t){return new v(t)}class b{constructor(){this.min=new y((0,u.vt)()),this.max=new y((0,u.vt)()),this.hud={min:new x((0,u.vt)()),max:new x((0,u.vt)()),all:new Array},this.ground=new y((0,u.vt)()),this.all=[]}init(t){this.min.init(t),this.max.init(t),this.ground.init(t),this.all.length=0,this.hud.min.init(t),this.hud.max.init(t),this.hud.all.length=0}}class y{get ray(){return this._ray}get distanceInRenderSpace(){return null!=this.dist?((0,o.h)(w,this.ray.direction,this.dist),(0,o.l)(w)):null}withinDistance(t){return!!(0,f.i3)(this)&&this.distanceInRenderSpace<=t}getIntersectionPoint(t){return!!(0,f.i3)(this)&&((0,o.h)(w,this.ray.direction,this.dist),(0,o.g)(t,this.ray.origin,w),!0)}getTransformedNormal(t){return(0,o.c)(O,this.normal),O[3]=0,(0,a.t)(O,O,this.transformation),(0,o.c)(t,O),(0,o.n)(t,t)}constructor(t){this.intersector=c.dz.OBJECT,this.normal=(0,s.vt)(),this.transformation=(0,i.vt)(),this._ray=(0,u.vt)(),this.init(t)}init(t){this.dist=null,this.target=null,this.drapedLayerOrder=null,this.drapedLayerGraphicOrder=null,this.intersector=c.dz.OBJECT,(0,u.C)(t,this._ray)}set(t,e,r,a,l,u,h){this.intersector=t,this.dist=r,(0,o.c)(this.normal,a??s.Cb),(0,n.C)(this.transformation,l??i.zK),this.target=e,this.drapedLayerOrder=u,this.drapedLayerGraphicOrder=h}copy(t){(0,u.C)(t.ray,this._ray),this.intersector=t.intersector,this.dist=t.dist,this.target=t.target,this.drapedLayerOrder=t.drapedLayerOrder,this.drapedLayerGraphicOrder=t.drapedLayerGraphicOrder,(0,o.c)(this.normal,t.normal),(0,n.C)(this.transformation,t.transformation)}}class x extends y{constructor(){super(...arguments),this.intersector=c.dz.HUD}}function M(t){return new y(t)}const w=(0,s.vt)(),O=(0,l.vt)()},13473:(t,e,r)=>{function n(){return[1,0,0,0,1,0,0,0,1]}function i(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]}function o(t,e,r,n,i,o,s,a,l){return[t,e,r,n,i,o,s,a,l]}r.d(e,{fA:()=>o,o8:()=>i,vt:()=>n,zK:()=>s});const s=[1,0,0,0,1,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:s,clone:i,create:n,createView:function(t,e){return new Float64Array(t,e,9)},fromValues:o},Symbol.toStringTag,{value:"Module"}))},14960:(t,e,r)=>{r.d(e,{G:()=>n,Q:()=>i});const n={stableRendering:!1},i={rootOrigin:null}},15828:(t,e,r)=>{r.d(e,{B$:()=>o,HE:()=>s,R6:()=>a});var n=r(28473);class i{constructor(t,e,r){this.object=t,this.geometryId=e,this.triangleNr=r}}class o extends i{constructor(t,e,r,i){super(t,e,r),this.center=null!=i?(0,n.o8)(i):null}}class s{constructor(t){this.layerUid=t}}class a extends s{constructor(t,e){super(t),this.graphicUid=e}}},25874:(t,e,r)=>{r.d(e,{Z:()=>u});var n=r(50925),i=r(17741),o=r(42080),s=r(92156),a=r(44480);const l=()=>n.A.getLogger("esri.views.webgl.VertexArrayObject");let u=class{constructor(t,e,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this._context=t,this._locations=e,this._layout=r,this._buffers=n,this._indexBuffer=i,this._glName=null,this._initialized=!1}get glName(){return this._glName}get context(){return this._context}get vertexBuffers(){return this._buffers}get indexBuffer(){return this._indexBuffer}get byteSize(){return Array.from(this._buffers.values()).reduce(((t,e)=>t+e.usedMemory),null!=this._indexBuffer?this._indexBuffer.usedMemory:0)}get layout(){return this._layout}get locations(){return this._locations}get usedMemory(){return this.byteSize+(this._buffers.size+(this._indexBuffer?1:0))*o.i5}get cachedMemory(){return this.usedMemory}dispose(){this._context?(this._context.getBoundVAO()===this&&this._context.bindVAO(null),this._buffers.forEach((t=>t.dispose())),this._buffers.clear(),this._indexBuffer=(0,i.WD)(this._indexBuffer),this.disposeVAOOnly()):(this._glName||this._buffers.size>0)&&l().warn("Leaked WebGL VAO")}disposeVAOOnly(){this._glName&&(this._context.gl.deleteVertexArray(this._glName),this._glName=null,this._context.instanceCounter.decrement(s.vt.VertexArrayObject,this)),this._context=null}initialize(){if(this._initialized)return;const{gl:t}=this._context,e=t.createVertexArray();t.bindVertexArray(e),this._bindLayout(),t.bindVertexArray(null),this._glName=e,this._context.instanceCounter.increment(s.vt.VertexArrayObject,this),this._initialized=!0}bind(){this.initialize(),this._context.gl.bindVertexArray(this.glName)}_bindLayout(){const{_buffers:t,_layout:e,_indexBuffer:r}=this;t||l().error("Vertex buffer dictionary is empty!");const n=this._context.gl;this._buffers.forEach(((t,r)=>{const n=e.get(r);n?(0,a.yu)(this._context,this._locations,t,n):l().error("Vertex element descriptor is empty!")})),null!=r&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,r.glName)}unbind(){this.initialize(),this._context.gl.bindVertexArray(null)}}},27464:(t,e,r)=>{r.d(e,{$I:()=>u,Q5:()=>l,hH:()=>h,i3:()=>a});var n=r(89227),i=r(28473),o=r(25071),s=r(92453);function a(t){return null!=t?.dist}function l(t){return(e,r,i)=>((0,n.m)(c,e,r,i),!(0,o.e)(t,c))}function u(t){return a(t)&&t.intersector===s.dz.OBJECT&&!!t.target}function h(t){return a(t)&&t.intersector===s.dz.HUD&&!!t.target&&"center"in t.target&&null!=t.target.center}const c=(0,i.vt)()},31500:(t,e,r)=>{r.d(e,{u:()=>i});var n=r(16878);function i(t,e){let{code:r}=t;e.doublePrecisionRequiresObfuscation?r.add(n.H`vec3 dpPlusFrc(vec3 a, vec3 b) {
return mix(a, a + b, vec3(notEqual(b, vec3(0))));
}
vec3 dpMinusFrc(vec3 a, vec3 b) {
return mix(vec3(0), a - b, vec3(notEqual(a, b)));
}
vec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {
vec3 t1 = dpPlusFrc(hiA, hiB);
vec3 e = dpMinusFrc(t1, hiA);
vec3 t2 = dpMinusFrc(hiB, e) + dpMinusFrc(hiA, dpMinusFrc(t1, e)) + loA + loB;
return t1 + t2;
}`):r.add(n.H`vec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {
vec3 t1 = hiA + hiB;
vec3 e = t1 - hiA;
vec3 t2 = ((hiB - e) + (hiA - (t1 - e))) + loA + loB;
return t1 + t2;
}`)}},41317:(t,e,r)=>{r.d(e,{$7:()=>T,B:()=>O,Fo:()=>x,M7:()=>R,NN:()=>d,Q5:()=>M,Tq:()=>L,Up:()=>w,XF:()=>A,Ze:()=>_,bK:()=>a,bh:()=>c,id:()=>p,ky:()=>h,qt:()=>F,tW:()=>E,v9:()=>f,w7:()=>l,wF:()=>s,wS:()=>b,wz:()=>m,x:()=>g,xS:()=>y,ze:()=>u});var n=r(84190),i=r(34308);function o(t){return t?F:L}function s(t,e){return e?.mode?e.mode:o(t).mode}function a(t,e){return null!=e?e:o(t)}function l(t,e){return s(null==t||(t.hasZ??!1),e)}function u(t,e){return a(null==t||(t.hasZ??!1),e)}function h(t){const e=v(t);return l(t.geometry,e)}function c(t){const e=v(t),r=l(t.geometry,e),n=null!=e&&"on-the-ground"!==r?R(e):0,i=e?.featureExpressionInfo;return{mode:r,offset:n,featureExpressionInfo:i}}function d(t){return m(c(t))}function f(t){return m(t)||g(t)}function g(t){return"0"===t?.featureExpressionInfo?.expression}function m(t){if(!t)return!1;if("on-the-ground"===t.mode)return!1;const e=t?.featureExpressionInfo?t.featureExpressionInfo.expression:null;return!(!e||"0"===e)}function v(t){return t.layer&&"elevationInfo"in t.layer?t.layer.elevationInfo:null}function _(t,e){if(!t?.offset)return 0;const{offset:r,unit:i}=t;if("decimal-degrees"===i)return 0;const o="unknown"!==i&&i?i:"meters",s=(0,n.mq)(e);return s?(0,n.oU)(r,o,s):0}function p(t,e,r){if(!r?.mode)return;const n=t.hasZ?t.z:0,i=_(r,t.spatialReference);switch(r.mode){case"absolute-height":return n-i;case"on-the-ground":return 0;case"relative-to-ground":return n-((e.elevationProvider.getElevation(t.x,t.y,n,t.spatialReference,"ground")??0)+i);case"relative-to-scene":return n-((e.elevationProvider.getElevation(t.x,t.y,n,t.spatialReference,"scene")??0)+i)}}function b(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return x(t,e.x,e.y,e.hasZ?e.z:0,e.spatialReference,r,n)}function y(t,e,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return x(t,e[0],e[1],e.length>2?e[2]:0,r,n,i)}function x(t,e,r,n,i,o){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;if(null==o)return;const a=null!=s?s.mode:"absolute-height";if("on-the-ground"===a)return 0;const{absoluteZ:l}=M(e,r,n,i,t,o);return function(t,e,r,n,i,o,s,a){const l=_(s,i);switch(a){case"absolute-height":return t-l;case"relative-to-ground":return t-((o.elevationProvider.getElevation(e,r,n,i,"ground")??0)+l);case"relative-to-scene":return t-((o.elevationProvider.getElevation(e,r,n,i,"scene")??0)+l)}}(l,e,r,n,i,t,s,a)}function M(t,e,r,n,i,o){const s=_(o,n);switch(o.mode){case"absolute-height":return{absoluteZ:r+s,elevation:0};case"on-the-ground":{const r=i.elevationProvider.getElevation(t,e,0,n,"ground")??0;return{absoluteZ:r,elevation:r}}case"relative-to-ground":{const o=i.elevationProvider.getElevation(t,e,r,n,"ground")??0;return{absoluteZ:r+o+s,elevation:o}}case"relative-to-scene":{const o=i.elevationProvider.getElevation(t,e,r,n,"scene")??0;return{absoluteZ:r+o+s,elevation:o}}}}function w(t,e){if(null==e)return!1;const{mode:r}=e;return null!=r&&("scene"===t&&"relative-to-scene"===r||"ground"===t&&"absolute-height"!==r)}function O(t,e,r){return r&&r.mode!==e?`${t} only support ${e} elevation mode`:null}function T(t,e,r){return r?.mode===e?`${t} do not support ${e} elevation mode`:null}function E(t,e){return null!=e?.featureExpressionInfo&&"0"!==e.featureExpressionInfo.expression?`${t} do not support featureExpressionInfo`:null}function A(t,e){e&&t.warn(".elevationInfo=",e)}function R(t){return(t?.offset??0)*(0,i.Ao)(t?.unit)}const F={mode:"absolute-height",offset:0},L={mode:"on-the-ground",offset:null}},42080:(t,e,r)=>{r.d(e,{$B:()=>i,Qf:()=>u,Qh:()=>a,RS:()=>o,ez:()=>d,i5:()=>f,lM:()=>s,qK:()=>c,rq:()=>h});var n=r(25048);function i(t){return 32+t.length}const o=16;function s(t){if(!t)return 0;let e=c;for(const r in t)t.hasOwnProperty(r)&&(e+=l(t[r],!1));return e}function a(t){if(!t)return 0;if("number"==typeof t[0])return u(t);if(Array.isArray(t))return function(t){const e=t.length;if(0===e||"number"==typeof t[0])return h(t,8);let r=d;for(let n=0;n<e;n++)r+=l(t[n]);return r}(t);let e=c;for(const r in t)t.hasOwnProperty(r)&&(e+=l(t[r]));return e}function l(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];switch(typeof t){case"object":return e?a(t):c;case"string":return i(t);case"number":return o;case"boolean":return 4;default:return 8}}function u(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.reduce(((t,e)=>t+(e?(0,n.iu)(e)?e.byteLength+f:Array.isArray(e)?h(e,o):0:0)),0)}function h(t,e){return d+t.length*e}const c=32,d=16,f=145},43208:(t,e,r)=>{r.d(e,{f:()=>o});var n=r(28473);class i{constructor(t,e){this.vec3=t,this.id=e}}function o(t,e,r,o){return new i((0,n.fA)(t,e,r),o)}},44e3:(t,e,r)=>{r.d(e,{g:()=>_});r(21265);var n=r(31923),i=r(89227),o=r(28473),s=r(24646),a=r(67093),l=r(65069),u=r(69291),h=r(25735),c=r(43208),d=r(8461),f=r(14960),g=r(22131),m=r(20196),v=r(23664);class _{constructor(t){this._originSR=t,this._rootOriginId="root/"+(0,n.c)(),this._origins=new Map,this._objects=new Map,this._gridSize=5e5}getOrigin(t){const e=this._origins.get(this._rootOriginId);if(null==e){const e=f.Q.rootOrigin;if(null!=e)return this._origins.set(this._rootOriginId,(0,c.f)(e[0],e[1],e[2],this._rootOriginId)),this.getOrigin(t);const r=(0,c.f)(t[0]+Math.random()-.5,t[1]+Math.random()-.5,t[2]+Math.random()-.5,this._rootOriginId);return this._origins.set(this._rootOriginId,r),r}const r=this._gridSize,n=Math.round(t[0]/r),o=Math.round(t[1]/r),s=Math.round(t[2]/r),a=`${n}/${o}/${s}`;let l=this._origins.get(a);const u=.5*r;if((0,i.d)(p,t,e.vec3),p[0]=Math.abs(p[0]),p[1]=Math.abs(p[1]),p[2]=Math.abs(p[2]),p[0]<u&&p[1]<u&&p[2]<u){if(l){const e=Math.max(...p);if((0,i.d)(p,t,l.vec3),p[0]=Math.abs(p[0]),p[1]=Math.abs(p[1]),p[2]=Math.abs(p[2]),Math.max(...p)<e)return l}return e}return l||(l=(0,c.f)(n*r,o*r,s*r,a),this._origins.set(a,l)),l}_drawOriginBox(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,s.fA)(1,1,0,1);const r=window.view,n=r._stage,i=e.toString();if(!this._objects.has(i)){this._material=new v.W({width:2,color:e}),n.add(this._material);const t=new m.x(n,{pickable:!1}),r=new d.B({castShadow:!1});n.add(r),t.add(r),this._objects.set(i,r)}const o=this._objects.get(i),c=[0,1,5,4,0,2,1,7,6,2,0,1,3,7,5,4,6,2,0],f=c.length,_=new Array(3*f),p=new Array,b=.5*this._gridSize;for(let s=0;s<f;s++)_[3*s]=t[0]+(1&c[s]?b:-b),_[3*s+1]=t[1]+(2&c[s]?b:-b),_[3*s+2]=t[2]+(4&c[s]?b:-b),s>0&&p.push(s-1,s);(0,a.projectBuffer)(_,this._originSR,0,_,r.renderSpatialReference,0,f);const y=new h.V(this._material,[[g.r.POSITION,new l.n(_,p,3,!0)]],null,u.X.Line);n.add(y),o.addGeometry(y)}get test(){}}const p=(0,o.vt)()},49443:(t,e,r)=>{r.d(e,{Mu:()=>a,i$:()=>u,oD:()=>h,xJ:()=>l});var n=r(96236),i=r(4127),o=r(15025),s=r(16878);function a(t){t.varyings.add("linearDepth","float")}function l(t){t.vertex.uniforms.add(new o.E("nearFar",(t=>t.camera.nearFar)))}function u(t){t.vertex.code.add(s.H`float calculateLinearDepth(vec2 nearFar,float z) {
return (-z - nearFar[0]) / (nearFar[1] - nearFar[0]);
}`)}function h(t,e){const{vertex:r}=t;switch(e.output){case n.V.Color:case n.V.ColorEmission:if(e.receiveShadows)return a(t),void r.code.add(s.H`void forwardLinearDepth() { linearDepth = gl_Position.w; }`);break;case n.V.Shadow:case n.V.ShadowHighlight:case n.V.ShadowExcludeHighlight:case n.V.ViewshedShadow:return t.include(i.em,e),a(t),l(t),u(t),void r.code.add(s.H`void forwardLinearDepth() {
linearDepth = calculateLinearDepth(nearFar, vPosition_view.z);
}`)}r.code.add(s.H`void forwardLinearDepth() {}`)}},49807:(t,e,r)=>{function n(t){return"point"===t.type}r.d(e,{v:()=>n})},50366:(t,e,r)=>{r.d(e,{d:()=>o});var n=r(49443),i=r(16878);function o(t){(0,n.i$)(t),t.vertex.code.add(i.H`vec4 transformPositionWithDepth(mat4 proj, mat4 view, vec3 pos, vec2 nearFar, out float depth) {
vec4 eye = view * vec4(pos, 1.0);
depth = calculateLinearDepth(nearFar,eye.z);
return proj * eye;
}`),t.vertex.code.add(i.H`vec4 transformPosition(mat4 proj, mat4 view, vec3 pos) {
return proj * (view * vec4(pos, 1.0));
}`)}},62240:(t,e,r)=>{function n(t,e,r,n){return{x:t,y:e,z:r,hasZ:null!=r,hasM:!1,spatialReference:n,type:"point"}}function i(t,e,r,n,i){t.x=e,t.y=r,t.z=n,t.hasZ=null!=n,t.spatialReference=i}r.d(e,{J:()=>i,T:()=>n})},64863:(t,e,r)=>{r.d(e,{XG:()=>_,dd:()=>b,dg:()=>d,fo:()=>y,ou:()=>m});var n=r(67965),i=r(13473),o=r(87752),s=r(10382),a=r(89227),l=r(28473),u=r(89476),h=r(51064),c=r(99717);class d{constructor(){this._transform=(0,s.vt)(),this._transformInverse=new f({value:this._transform},o.B8,s.vt),this._transformInverseTranspose=new f(this._transformInverse,o.mg,s.vt),this._transformTranspose=new f({value:this._transform},o.mg,s.vt),this._transformInverseRotation=new f({value:this._transform},n.dR,i.vt)}_invalidateLazyTransforms(){this._transformInverse.invalidate(),this._transformInverseTranspose.invalidate(),this._transformTranspose.invalidate(),this._transformInverseRotation.invalidate()}get transform(){return this._transform}get inverse(){return this._transformInverse.value}get inverseTranspose(){return this._transformInverseTranspose.value}get inverseRotation(){return this._transformInverseRotation.value}get transpose(){return this._transformTranspose.value}setTransformMatrix(t){(0,o.C)(this._transform,t)}multiplyTransform(t){(0,o.lw)(this._transform,this._transform,t)}set(t){(0,o.C)(this._transform,t),this._invalidateLazyTransforms()}setAndInvalidateLazyTransforms(t,e){this.setTransformMatrix(t),this.multiplyTransform(e),this._invalidateLazyTransforms()}}class f{constructor(t,e,r){this._original=t,this._update=e,this._dirty=!0,this._transform=r()}invalidate(){this._dirty=!0}get value(){return this._dirty&&(this._update(this._transform,this._original.value),this._dirty=!1),this._transform}}const g=new class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.offset=t,this.sphere=(0,u.c)(),this.tmpVertex=(0,l.vt)()}applyToVertex(t,e,r){const n=this.objectTransform.transform,i=(0,a.i)(x,t,e,r),o=(0,a.t)(i,i,n),s=this.offset/(0,a.l)(o);(0,a.b)(o,o,o,s);const l=this.objectTransform.inverse;return(0,a.t)(this.tmpVertex,o,l),this.tmpVertex}applyToMinMax(t,e){const r=this.offset/(0,a.l)(t);(0,a.b)(t,t,t,r);const n=this.offset/(0,a.l)(e);(0,a.b)(e,e,e,n)}applyToAabb(t){const e=this.offset/Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]+=t[0]*e,t[1]+=t[1]*e,t[2]+=t[2]*e;const r=this.offset/Math.sqrt(t[3]*t[3]+t[4]*t[4]+t[5]*t[5]);return t[3]+=t[3]*r,t[4]+=t[4]*r,t[5]+=t[5]*r,t}applyToBoundingSphere(t){const e=(0,a.l)((0,u.a)(t)),r=this.offset/e;return(0,a.b)((0,u.a)(this.sphere),(0,u.a)(t),(0,u.a)(t),r),this.sphere[3]=t[3]+t[3]*this.offset/e,this.sphere}};function m(t){return null!=t?(g.offset=t,g):null}const v=new class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.componentLocalOriginLength=0,this._totalOffset=0,this._offset=0,this._tmpVertex=(0,l.vt)(),this._tmpMbs=(0,u.c)(),this._tmpObb=new c.ab,this._resetOffset(t)}_resetOffset(t){this._offset=t,this._totalOffset=t}set offset(t){this._resetOffset(t)}get offset(){return this._offset}set componentOffset(t){this._totalOffset=this._offset+t}set localOrigin(t){this.componentLocalOriginLength=(0,a.l)(t)}applyToVertex(t,e,r){const n=(0,a.i)(x,t,e,r),i=(0,a.i)(M,t,e,r+this.componentLocalOriginLength),o=this._totalOffset/(0,a.l)(i);return(0,a.b)(this._tmpVertex,n,i,o),this._tmpVertex}applyToAabb(t){const e=this.componentLocalOriginLength,r=t[0],n=t[1],i=t[2]+e,o=t[3],s=t[4],a=t[5]+e,l=Math.abs(r),u=Math.abs(n),h=Math.abs(i),c=Math.abs(o),d=Math.abs(s),f=Math.abs(a),g=.5*(1+Math.sign(r*o))*Math.min(l,c),m=.5*(1+Math.sign(n*s))*Math.min(u,d),v=.5*(1+Math.sign(i*a))*Math.min(h,f),_=Math.max(l,c),p=Math.max(u,d),b=Math.max(h,f),y=Math.sqrt(g*g+m*m+v*v),x=Math.sign(l+r),M=Math.sign(u+n),w=Math.sign(h+i),O=Math.sign(c+o),T=Math.sign(d+s),E=Math.sign(f+a),A=this._totalOffset;if(y<A)return t[0]-=(1-x)*A,t[1]-=(1-M)*A,t[2]-=(1-w)*A,t[3]+=O*A,t[4]+=T*A,t[5]+=E*A,t;const R=A/Math.sqrt(_*_+p*p+b*b),F=A/y,L=F-R,B=-L;return t[0]+=r*(x*B+F),t[1]+=n*(M*B+F),t[2]+=i*(w*B+F),t[3]+=o*(O*L+R),t[4]+=s*(T*L+R),t[5]+=a*(E*L+R),t}applyToMbs(t){const e=(0,a.l)((0,u.a)(t)),r=this._totalOffset/e;return(0,a.b)((0,u.a)(this._tmpMbs),(0,u.a)(t),(0,u.a)(t),r),this._tmpMbs[3]=t[3]+t[3]*this._totalOffset/e,this._tmpMbs}applyToObb(t){return(0,c.gm)(t,this._totalOffset,this._totalOffset,h.RT.Global,this._tmpObb),this._tmpObb}};function _(t){return null!=t?(v.offset=t,v):null}const p=new class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.offset=t,this.tmpVertex=(0,l.vt)()}applyToVertex(t,e,r){const n=(0,a.i)(x,t,e,r),i=(0,a.g)(M,n,this.localOrigin),o=this.offset/(0,a.l)(i);return(0,a.b)(this.tmpVertex,n,i,o),this.tmpVertex}applyToAabb(t){const e=w,r=O,n=T;for(let a=0;a<3;++a)e[a]=t[0+a]+this.localOrigin[a],r[a]=t[3+a]+this.localOrigin[a],n[a]=e[a];const i=this.applyToVertex(e[0],e[1],e[2]);for(let a=0;a<3;++a)t[a]=i[a],t[a+3]=i[a];const o=e=>{const r=this.applyToVertex(e[0],e[1],e[2]);for(let n=0;n<3;++n)t[n]=Math.min(t[n],r[n]),t[n+3]=Math.max(t[n+3],r[n])};for(let a=1;a<8;++a){for(let t=0;t<3;++t)n[t]=a&1<<t?r[t]:e[t];o(n)}let s=0;for(let a=0;a<3;++a)e[a]*r[a]<0&&(s|=1<<a);if(0!==s&&7!==s)for(let a=0;a<8;++a)if(!(s&a)){for(let t=0;t<3;++t)n[t]=s&1<<t?0:a&1<<t?e[t]:r[t];o(n)}for(let a=0;a<3;++a)t[a]-=this.localOrigin[a],t[a+3]-=this.localOrigin[a];return t}};function b(t){return null!=t?(p.offset=t,p):null}const y="terrain",x=(0,l.vt)(),M=(0,l.vt)(),w=(0,l.vt)(),O=(0,l.vt)(),T=(0,l.vt)()},69436:(t,e,r)=>{var n;r.d(e,{D:()=>n}),function(t){t[t.Occluded=0]="Occluded",t[t.NotOccluded=1]="NotOccluded",t[t.Both=2]="Both",t[t.COUNT=3]="COUNT"}(n||(n={}))},77297:(t,e,r)=>{var n,i,o;r.d(e,{O7:()=>i,Om:()=>n,sv:()=>o}),function(t){t[t.RasterImage=0]="RasterImage",t[t.Features=1]="Features"}(n||(n={})),function(t){t[t.MapLayer=0]="MapLayer",t[t.ViewLayer=1]="ViewLayer",t[t.Outline=2]="Outline",t[t.SnappingHint=3]="SnappingHint"}(i||(i={})),function(t){t[t.WithRasterImage=0]="WithRasterImage",t[t.WithoutRasterImage=1]="WithoutRasterImage"}(o||(o={}))},80861:(t,e,r)=>{r.d(e,{g:()=>u});var n=r(62631),i=(r(21265),r(50925)),o=r(25048),s=r(24591),a=r(92156);const l=()=>i.A.getLogger("esri.views.webgl.BufferObject");class u{static createIndex(t,e,r){return new u(t,a.NZ.ELEMENT_ARRAY_BUFFER,e,r)}static createVertex(t,e,r){return new u(t,a.NZ.ARRAY_BUFFER,e,r)}static createUniform(t,e,r){return new u(t,a.NZ.UNIFORM_BUFFER,e,r)}static createPixelPack(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a._U.STREAM_READ,r=arguments.length>2?arguments[2]:void 0;const n=new u(t,a.NZ.PIXEL_PACK_BUFFER,e);return r&&n.setSize(r),n}static createPixelUnpack(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a._U.STREAM_DRAW,r=arguments.length>2?arguments[2]:void 0;return new u(t,a.NZ.PIXEL_UNPACK_BUFFER,e,r)}static createTransformFeedback(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a._U.STATIC_DRAW,r=arguments.length>2?arguments[2]:void 0;const n=new u(t,a.NZ.TRANSFORM_FEEDBACK_BUFFER,e);return n.setSize(r),n}constructor(t,e,r,n){this._context=t,this.bufferType=e,this.usage=r,this._glName=null,this._size=-1,this._indexType=void 0,t.instanceCounter.increment(a.vt.BufferObject,this),this._glName=this._context.gl.createBuffer(),(0,s.Y2)(this._context.gl),n&&this.setData(n)}get glName(){return this._glName}get size(){return this._size}get indexType(){return this._indexType}get usedMemory(){if(this.bufferType===a.NZ.ELEMENT_ARRAY_BUFFER){if(this._indexType===a.pe.UNSIGNED_INT)return 4*this._size;if(this._indexType===a.pe.UNSIGNED_SHORT)return 2*this._size}return this._size}get _isVAOAware(){return this.bufferType===a.NZ.ELEMENT_ARRAY_BUFFER||this.bufferType===a.NZ.ARRAY_BUFFER}dispose(){this._context?.gl?(this._glName&&(this._context.gl.deleteBuffer(this._glName),this._glName=null),this._context.instanceCounter.decrement(a.vt.BufferObject,this),this._context=null):this._glName&&l().warn("Leaked WebGL buffer object")}setSize(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.bufferType===a.NZ.ELEMENT_ARRAY_BUFFER&&null!=e)switch(this._indexType=e,e){case a.pe.UNSIGNED_SHORT:t*=2;break;case a.pe.UNSIGNED_INT:t*=4}this._setBufferData(t)}setData(t){if(!t)return;let e=t.byteLength;this.bufferType===a.NZ.ELEMENT_ARRAY_BUFFER&&((0,o.mg)(t)?this._indexType=a.pe.UNSIGNED_BYTE:(0,o.jq)(t)?(e/=2,this._indexType=a.pe.UNSIGNED_SHORT):(0,o.XJ)(t)&&(e/=4,this._indexType=a.pe.UNSIGNED_INT)),this._setBufferData(e,t)}_setBufferData(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._size=t;const r=this._context.getBoundVAO();this._isVAOAware&&this._context.bindVAO(null),this._context.bindBuffer(this);const n=this._context.gl;null!=e?n.bufferData(this.bufferType,e,this.usage):n.bufferData(this.bufferType,t,this.usage),(0,s.Y2)(n),this._isVAOAware&&this._context.bindVAO(r)}setSubData(t,e,r,n){if(!t)return;const i=this._context.getBoundVAO();this._isVAOAware&&this._context.bindVAO(null),this._context.bindBuffer(this);const{gl:o}=this._context;o.bufferSubData(this.bufferType,e*t.BYTES_PER_ELEMENT,t,r,n-r),(0,s.Y2)(o),this._isVAOAware&&this._context.bindVAO(i)}getSubData(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(r<0||i<0)return;const o=function(t){return(0,n.Xj)(t)}(t)?t.BYTES_PER_ELEMENT:1;if(o*((r??0)+(i??0))>t.byteLength)return;e+o*(i??0)>this.usedMemory&&l().warn("Potential problem getting subdata: requested data exceeds buffer size!");const s=this._context.gl;this.bufferType===a.NZ.TRANSFORM_FEEDBACK_BUFFER?(this._context.bindBuffer(this,a.NZ.TRANSFORM_FEEDBACK_BUFFER),s.getBufferSubData(a.NZ.TRANSFORM_FEEDBACK_BUFFER,e,t,r,i),this._context.unbindBuffer(a.NZ.TRANSFORM_FEEDBACK_BUFFER)):(this._context.bindBuffer(this,a.NZ.COPY_READ_BUFFER),s.getBufferSubData(a.NZ.COPY_READ_BUFFER,e,t,r,i),this._context.unbindBuffer(a.NZ.COPY_READ_BUFFER))}async getSubDataAsync(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;await this._context.clientWaitAsync(),this.getSubData(t,e,r,n)}}},84025:(t,e,r)=>{r.d(e,{I:()=>o});var n=r(16878),i=r(22131);function o(t){t.attributes.add(i.r.POSITION,"vec3"),t.vertex.code.add(n.H`vec3 positionModel() { return position; }`)}},87436:(t,e,r)=>{var n;r.d(e,{u:()=>n}),function(t){t[t.KILOBYTES=1024]="KILOBYTES",t[t.MEGABYTES=1048576]="MEGABYTES",t[t.GIGABYTES=1073741824]="GIGABYTES"}(n||(n={}))},91018:(t,e,r)=>{r.d(e,{h:()=>o});var n=r(73031),i=r(826);class o extends i.n{constructor(t,e){super(t,"mat3",n.c.Draw,((r,n,i)=>r.setUniformMatrix3fv(t,e(n,i))))}}},92143:(t,e,r)=>{r.d(e,{IV:()=>m,LF:()=>i,T9:()=>h,Wq:()=>a,d_:()=>o,g2:()=>d,gT:()=>s,hs:()=>c,iT:()=>g,kM:()=>l,l3:()=>u,n0:()=>v,r7:()=>f});var n=r(84190);function i(t){return{value:t}}function o(t,e){return{type:(0,n.t$)(e),value:t,unit:e}}function s(t,e){return{type:(0,n.t$)(e),value:t,unit:e}}function a(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"arithmetic";return{type:(0,n.t$)(e),value:t,unit:e,rotationType:r}}function l(t,e){const r=u(t,e);return"angle"===t.type?a(r,e,t.rotationType):function(t,e){return{type:(0,n.t$)(e),value:t,unit:e}}(r,e)}function u(t,e){return(0,n.oU)(t.value,t.unit,e)}function h(t,e){return null==t?e:null==e||t.value>(0,n.oU)(e.value,e.unit,t.unit)?t:e}function c(t,e){return null==t?null:{...t,value:t.value*e}}function d(t,e,r){if(e===r)return t;switch(r){case"arithmetic":case"geographic":return 90-t}}const f=o(0,"meters"),g=s(0,"square-meters"),m=(a(0,"radians"),a(0,"degrees")),v=a(0,"degrees","geographic")},92453:(t,e,r)=>{var n,i;r.d(e,{H6:()=>o,dz:()=>n,oH:()=>i}),function(t){t[t.OBJECT=0]="OBJECT",t[t.HUD=1]="HUD",t[t.TERRAIN=2]="TERRAIN",t[t.OVERLAY=3]="OVERLAY",t[t.I3S=4]="I3S",t[t.PCL=5]="PCL",t[t.LOD=6]="LOD",t[t.VOXEL=7]="VOXEL",t[t.TILES3D=8]="TILES3D"}(n||(n={}));class o{constructor(){this.verticalOffset=0,this.selectionMode=!1,this.hud=!0,this.selectOpaqueTerrainOnly=!0,this.invisibleTerrain=!1,this.backfacesTerrain=!0,this.isFiltered=!1,this.filteredLayerUids=[],this.store=i.ALL,this.normalRequired=!0,this.excludeLabels=!1}}!function(t){t[t.MIN=0]="MIN",t[t.MINMAX=1]="MINMAX",t[t.ALL=2]="ALL"}(i||(i={}))}}]);