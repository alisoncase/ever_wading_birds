"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[28110,79538,81060],{28110:(e,t,o)=>{o.r(t),o.d(t,{cloneScheme:()=>u,getSchemes:()=>l,getThemes:()=>c});var n=o(88102),i=o(62631),r=o(28245),s=o(42648);const a=(0,r.bG)({themeDictionary:{default:{name:"default",label:"Default",description:"Default theme for basic visualization of features.",schemes:{point:{light:{primary:{color:[77,77,77,1],outline:{color:[255,255,255,.25],width:"1px"},size:"8px"},secondary:[{color:[226,119,40,1],outline:{color:[255,255,255,.25],width:"1px"},size:"8px"},{color:[255,255,255,1],outline:{color:[51,51,51,.25],width:"1px"},size:"8px"}]},dark:{primary:{color:[255,255,255,1],outline:{color:[92,92,92,.25],width:"1px"},size:"8px"},secondary:[{color:[226,119,40,1],outline:{color:[255,255,255,.25],width:"1px"},size:"8px"},{color:[26,26,26,1],outline:{color:[178,178,178,.25],width:"1px"},size:"8px"}]}},polyline:{light:{primary:{color:[77,77,77,1],width:"2px"},secondary:[{color:[226,119,40,1],width:"2px"},{color:[255,255,255,1],width:"2px"}]},dark:{primary:{color:[255,255,255,1],width:"2px"},secondary:[{color:[226,119,40,1],width:"2px"},{color:[26,26,26,1],width:"2px"}]}},polygon:{light:{primary:{size:"12px",color:[227,139,79,1],outline:{color:[255,255,255,.25],width:"1px"},opacity:.8},secondary:[{size:"12px",color:[128,128,128,1],outline:{color:[255,255,255,.25],width:"1px"},opacity:.8},{size:"12px",color:[255,255,255,1],outline:{color:[128,128,128,.25],width:"1px"},opacity:.8}]},dark:{primary:{size:"12px",color:[227,139,79,1],outline:{color:[92,92,92,.25],width:"1px"},opacity:.8},secondary:[{size:"12px",color:[178,178,178,1],outline:{color:[92,92,92,.25],width:"1px"},opacity:.8},{size:"12px",color:[26,26,26,1],outline:{color:[128,128,128,.25],width:"1px"},opacity:.8}]}}}}}});function c(e){return(0,r.vt)(a,e)}function l(e){const t=(0,r.Fq)({basemap:e.basemap,geometryType:e.geometryType,basemapTheme:e.basemapTheme,theme:a.get("default")});if(!t)return;const{schemesInfo:o,basemapId:n,basemapTheme:s}=t;return{primaryScheme:p(e,o.primary),secondarySchemes:o.secondary.map((t=>p(e,t))).filter(i.Ru),basemapId:n,basemapTheme:s}}function u(e){if(!e)return;const t={...e};return t.color&&(t.color=new n.default(t.color)),"outline"in t&&t.outline&&(t.outline={color:t.outline.color&&new n.default(t.outline.color),width:t.outline.width}),t}function p(e,t){const o="mesh"!==e.geometryType&&e.worldScale?e.view:null;switch(e.geometryType){case"point":case"multipoint":{const e=t;return function(e,t){return{color:new n.default(e.color),outline:{color:new n.default(e.outline.color),width:e.outline.width},size:t?(0,s._J)(e.size,t):e.size,opacity:1}}({color:e.color,outline:{...e.outline},size:e.size},o)}case"polyline":{const e=t;return function(e,t){return{color:new n.default(e.color),width:t?(0,s._J)(e.width,t):e.width,opacity:1}}({color:e.color,width:e.width},o)}case"polygon":{const e=t;return function(e,t){return{color:new n.default(e.color),outline:{color:new n.default(e.outline.color),width:e.outline.width},size:t?(0,s._J)(e.size,t):e.size,opacity:e.opacity}}({size:e.size,color:e.color,outline:{...e.outline},opacity:e.opacity},o)}case"mesh":{const e=t;return function(e){return{color:new n.default(e.color),opacity:e.opacity}}({color:e.color,opacity:e.opacity})}}}},28245:(e,t,o)=>{o.d(t,{bG:()=>s,Ty:()=>c,YJ:()=>l,Fq:()=>u,vt:()=>a});var n=o(82301),i=o(79538);class r{constructor(e){const{name:t,label:o,description:n,schemes:r}=e;this.name=t,this.label=o,this.description=n,this.schemes=r;const s=e.basemapGroups||i.Np;let a=[];Object.keys(s).forEach((e=>{a=a.concat(s[e])})),this.supportedBasemaps=a,this.basemapGroups=s}isBasemapSupported(e){const t=(0,i.T1)(e,this.supportedBasemaps);return!(!t||!this.supportedBasemaps.includes(t))}getRawSchemes(e){const{basemapId:t,basemapTheme:o}=function(e,t,o){let n=null,r=null;if(t&&(n=(0,i.T1)(t,e,!1),n)){const e=(0,i.BV)(n);null!=e&&(r=e)}return!n&&o&&(n="dark"===o?"dark-gray":"gray",r=o),n||r||(n="gray",r="light"),{basemapId:n,basemapTheme:r}}(this.supportedBasemaps,e.basemap,e.basemapTheme);let r=o;if(t){const e=(0,i.BV)(t,this.basemapGroups);null!=e&&(r=e)}let s=e.geometryType;"multipoint"===s?s="point":"mesh"===s&&(s="polygon");const a=this.schemes[s]||this.schemes.default;return{schemesInfo:(0,n.clone)(a[r]),basemapId:t,basemapTheme:o}}}function s(e){const t=e.themeDictionary,o=new Map;for(const n in t){const e=t[n];o.set(n,new r(e))}return o}function a(e,t){const o=[];return e.forEach((e=>{e.isBasemapSupported(t)&&o.push({name:e.name,label:e.label,description:e.description,basemaps:[...e.supportedBasemaps]})})),o}function c(e,t){if(!e)return;if(!t)return;let o=null;const n=[t.primaryScheme,...t.secondarySchemes];for(const i of n)if(i.name?.toLowerCase()===e.toLowerCase()){o=i;break}return o}function l(e,t,o){if(!e&&!t)return[];if(!o)return[];const n=!e?.length,i=!t?.length,r=[o.primaryScheme,...o.secondarySchemes],s=[];for(const a of r){const o=!!n||e.some((e=>a.tags.includes(e))),r=!i&&t.some((e=>a.tags.includes(e)));o&&!r&&s.push(a)}return s}function u(e){const t=e.theme;if(t)return t.getRawSchemes({basemap:e.basemap,geometryType:e.geometryType,basemapTheme:e.basemapTheme})}},42648:(e,t,o)=>{o.d(t,{_J:()=>l,_t:()=>c});var n=o(16804),i=o(79538);const r=i.Np.light,s=i.Np.dark;function a(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b}function c(e,t){let o=0;if(e.length===t.length){let n=e.every(((e,o)=>a(e,t[o])));n?o=1:(n=e.slice().reverse().every(((e,o)=>a(e,t[o]))),n&&(o=-1))}return o}function l(e,t){return Math.ceil(function(e){const t=e.width,o=e.height;let i=e.pixelSizeAt(e.toMap((0,n.tc)(.5*t,.5*o),{exclude:[]}));if(i<=0&&(i=e.pixelSizeAt(e.toMap((0,n.tc)(.5*t,.95*o),{exclude:[]})),i<=0&&"camera"in e)){const t=e.camera.position.clone();t.z=0,i=2*e.pixelSizeAt(t)}return i}(t)*(0,n.Lz)((0,n.cr)(e)))}},79538:(e,t,o)=>{o.d(t,{BV:()=>k,EG:()=>b,Lk:()=>S,Ll:()=>F,Np:()=>u,R3:()=>D,SO:()=>h,T1:()=>$,UH:()=>l,Wy:()=>x,XR:()=>m,aM:()=>z,fs:()=>w,i0:()=>Z,i3:()=>g});var n=o(66845),i=o(95011),r=o(96247),s=o(76983),a=o(73210),c=o(40731);const l=",",u={light:["streets","gray","topo","terrain","oceans","osm","gray-vector","streets-vector","topo-vector","streets-relief-vector","streets-navigation-vector","topo-3d","navigation-3d","streets-3d","osm-3d","gray-3d"],dark:["satellite","hybrid","dark-gray","dark-gray-vector","streets-night-vector","navigation-dark-3d","streets-dark-3d","dark-gray-3d"]},p="percent-of-total",d="field",m={exclude:["median"]},h={years:365,months:30,days:1,hours:1/24,minutes:1/1440,seconds:1/86400,milliseconds:1/864e5},f=new Set(["integer","small-integer"]);let y=null;const g=["date","date-only","timestamp-offset"];function w(e){return(0,i.isDateField)(e)||(0,i.isDateOnlyField)(e)||(0,i.isTimestampOffsetField)(e)}async function b(e){const{field:t,field2:o,field3:n,normalizationField:i,valueExpression:s}=e;let a=[];if(s){if(!y){const{arcadeUtils:e}=await(0,r.lw)();y=e}a=y.extractFieldNames(s)}return t&&a.push(t),o&&a.push(o),n&&a.push(n),i&&a.push(i),a}function x(e){let t=e.normalizationType;return t||(e.normalizationField?t=d:null!=e.normalizationTotal&&(t=p)),t??void 0}function T(e){return String(e).padStart(2,"0")}function v(e,t,o){let n;return"date"===t||"number"===t?("number"===t&&(e=new Date(e)),n=`TIMESTAMP'${o?e.getFullYear():e.getUTCFullYear()}-${T((o?e.getMonth():e.getUTCMonth())+1)}-${T(o?e.getDate():e.getUTCDate())} ${T(o?e.getHours():e.getUTCHours())}:${T(o?e.getMinutes():e.getUTCMinutes())}:${T(o?e.getSeconds():e.getUTCSeconds())}'`):n=e,n}function z(e,t,o,n){const{hasQueryEngine:i}=e,r=`(${v(o,S(e,o),i)} - ${v(t,S(e,t),i)})`;let s=h[n],a="/";return s<1&&(s=1/s,a="*"),{sqlExpression:1===s?r:`(${r} ${a} ${s})`,sqlWhere:null}}function S(e,t){if(t instanceof Date)return"date";if("number"==typeof t)return"number";if("string"==typeof t){const o=e.getField(t);if("<now>"===t.toLowerCase())return;if((0,i.isDateField)(o))return"field"}}function k(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;for(const o in t)if(t[o].includes(e))return o}function $(e,t){let o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=null;return e&&("string"==typeof e?t.includes(e)&&(n=e):n=(0,s.q3)(e)),o?n||"gray":n}function D(e,t){const o=t&&e.getField(t);return!!o&&f.has(o.type)}function F(e){return`cast(${e} as float)`}function Z(e,t){const{format:o,timeZoneOptions:i,fieldType:r}=t??{};let s,l;if(i&&({timeZone:s,timeZoneName:l}=(0,c.hv)(i.layerTimeZone,i.datesInUnknownTimezone,i.viewTimeZone,(0,n.J2)(o||"short-date-short-time"),r)),"string"==typeof e&&isNaN(Date.parse("time-only"===r?`1970-01-01T${e}Z`:e)))return e;switch(r){case"date-only":{const t=(0,n.J2)(o||"short-date");return"string"==typeof e?(0,n.iS)(e,{...t}):(0,n.Yq)(e,{...t,timeZone:a.n$})}case"time-only":{const t=(0,n.J2)(o||"short-time");return"string"==typeof e?(0,n.F8)(e,t):(0,n.Yq)(e,{...t,timeZone:a.n$})}case"timestamp-offset":{if(!s&&"string"==typeof e&&new Date(e).toISOString()!==e)return e;const t=o||i?(0,n.J2)(o||"short-date-short-time"):void 0,r=t?{...t,timeZone:s,timeZoneName:l}:void 0;return"string"==typeof e?(0,n.Ey)(e,r):(0,n.Yq)(e,r)}default:{const t=o||i?(0,n.J2)(o||"short-date-short-time"):void 0;return(0,n.Yq)("string"==typeof e?new Date(e):e,t?{...t,timeZone:s,timeZoneName:l}:void 0)}}}}}]);