"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[81386],{81386:(t,e,a)=>{a.r(e),a.d(e,{default:()=>v});var n,r=a(93800),s=(a(21265),a(99571)),i=a(19455),o=a(48602),l=a(80556),h=(a(14746),a(14800)),c=a(75269),d=a(15484),u=a(85042);const p=new WeakMap;let g=0,m=n=class extends i.A{constructor(t){super(t),this.wrap="repeat"}get url(){return this._get("url")||null}set url(t){this._set("url",t),t&&this._set("data",null)}get data(){return this._get("data")||null}set data(t){this._set("data",t),t&&this._set("url",null)}writeData(t,e,a,n){if(t instanceof HTMLImageElement){const r={type:"image-element",src:(0,u.t)(t.src,n),crossOrigin:t.crossOrigin};e[a]=r}else if(t instanceof HTMLCanvasElement){const n={type:"canvas-element",imageData:w(t.getContext("2d").getImageData(0,0,t.width,t.height))};e[a]=n}else if(t instanceof HTMLVideoElement){const r={type:"video-element",src:(0,u.t)(t.src,n),autoplay:t.autoplay,loop:t.loop,muted:t.muted,crossOrigin:t.crossOrigin,preload:t.preload};e[a]=r}else if(t instanceof ImageData){const n={type:"image-data",imageData:w(t)};e[a]=n}}readData(t){switch(t.type){case"image-element":{const e=new Image;return e.src=t.src,e.crossOrigin=t.crossOrigin,e}case"canvas-element":{const e=f(t.imageData),a=document.createElement("canvas");return a.width=e.width,a.height=e.height,a.getContext("2d").putImageData(e,0,0),a}case"image-data":return f(t.imageData);case"video-element":{const e=document.createElement("video");return e.src=t.src,e.crossOrigin=t.crossOrigin,e.autoplay=t.autoplay,e.loop=t.loop,e.muted=t.muted,e.preload=t.preload,e}default:return}}get transparent(){const{data:t,url:e}=this;return t instanceof HTMLCanvasElement?y(t.getContext("2d").getImageData(0,0,t.width,t.height)):t instanceof ImageData?y(t):!(!e?.toLowerCase().endsWith(".png")&&!e?.toLocaleLowerCase().startsWith("data:image/png;"))}set transparent(t){this._overrideIfSome("transparent",t)}get contentHash(){var t=this;const e="string"==typeof this.wrap?this.wrap:"object"==typeof this.wrap?`${this.wrap.horizontal}/${this.wrap.vertical}`:"",a=function(){return`d:${arguments.length>0&&void 0!==arguments[0]?arguments[0]:""},t:${t.transparent},w:${e}`};return null!=this.url?a(this.url):null!=this.data?this.data instanceof HTMLImageElement||this.data instanceof HTMLVideoElement?a(this.data.src):(p.has(this.data)||p.set(this.data,++g),a(p.get(this.data))):a()}get memoryUsage(){let t=0;if(t+=null!=this.url?this.url.length:0,null!=this.data){const e=this.data;"data"in e?t+=e.data.byteLength:e instanceof HTMLImageElement?t+=e.naturalWidth*e.naturalHeight*3:e instanceof HTMLCanvasElement&&(t+=e.width*e.height*3)}return t}clone(){const t={url:this.url,data:this.data,wrap:this._cloneWrap()};return new n(t)}cloneWithDeduplication(t){const e=t.get(this);if(e)return e;const a=this.clone();return t.set(this,a),a}_cloneWrap(){return"string"==typeof this.wrap?this.wrap:{horizontal:this.wrap.horizontal,vertical:this.wrap.vertical}}static from(t){return"string"==typeof t?new n({url:t}):t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof ImageData||t instanceof HTMLVideoElement?new n({data:t}):(0,l.PZ)(n,t)}};function w(t){let e="";for(let a=0;a<t.data.length;a++)e+=String.fromCharCode(t.data[a]);return{data:btoa(e),width:t.width,height:t.height}}function f(t){const e=atob(t.data),a=new Uint8ClampedArray(e.length);for(let n=0;n<e.length;n++)a[n]=e.charCodeAt(n);return(0,s.eV)(a,t.width,t.height)}function y(t){for(let e=3;e<t.data.length;e+=4)if(255!==t.data[e])return!0;return!1}(0,r._)([(0,o.MZ)({type:String,json:{write:u.w}})],m.prototype,"url",null),(0,r._)([(0,o.MZ)({json:{write:{overridePolicy(){return{enabled:!this.url}}}}}),(0,o.MZ)()],m.prototype,"data",null),(0,r._)([(0,d.K)("data")],m.prototype,"writeData",null),(0,r._)([(0,h.w)("data")],m.prototype,"readData",null),(0,r._)([(0,o.MZ)({type:Boolean,json:{write:{overridePolicy(){return{enabled:this._isOverridden("transparent")}}}}})],m.prototype,"transparent",null),(0,r._)([(0,o.MZ)({json:{write:!0}})],m.prototype,"wrap",void 0),(0,r._)([(0,o.MZ)({readOnly:!0})],m.prototype,"contentHash",null),m=n=(0,r._)([(0,c.$)("esri.geometry.support.MeshTexture")],m);const v=m}}]);