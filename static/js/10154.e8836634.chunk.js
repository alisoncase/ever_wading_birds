"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[10154,79538],{10154:(e,t,n)=>{n.r(t),n.d(t,{classBreaks:()=>a,heatmapStatistics:()=>u,histogram:()=>s,summaryStatistics:()=>r,uniqueValues:()=>l});var i=n(70934),o=n(68584);async function r(e){const{attribute:t,features:n}=e,{normalizationType:r,normalizationField:l,minValue:a,maxValue:s,fieldType:u,outStatisticTypes:f}=t,c=await(0,i.Jc)({field:t.field,valueExpression:t.valueExpression,normalizationType:r,normalizationField:l,normalizationTotal:t.normalizationTotal,viewInfoParams:t.viewInfoParams,timeZone:t.timeZone,fieldInfos:t.fieldInfos},n),d=(0,o.Vb)({normalizationType:r,normalizationField:l,minValue:a,maxValue:s}),m={value:.5,fieldType:u},h="esriFieldTypeString"===u?(0,o.z9)({values:c,supportsNullCount:d,percentileParams:m,outStatisticTypes:f}):(0,o.G_)({values:c,minValue:a,maxValue:s,useSampleStdDev:!r,supportsNullCount:d,percentileParams:m,outStatisticTypes:f});return(0,o.oZ)(h,f,"esriFieldTypeDate"===u)}async function l(e){const{attribute:t,features:n}=e,r=await(0,i.Jc)({field:t.field,field2:t.field2,field3:t.field3,fieldDelimiter:t.fieldDelimiter,valueExpression:t.valueExpression,viewInfoParams:t.viewInfoParams,timeZone:t.timeZone,fieldInfos:t.fieldInfos},n,!1),l=(0,o.b3)(r);return(0,o.lv)(l,t.domains,t.returnAllCodedValues,t.fieldDelimiter)}async function a(e){const{attribute:t,features:n}=e,{field:r,normalizationType:l,normalizationField:a,normalizationTotal:s,classificationMethod:u}=t,f=await(0,i.Jc)({field:r,valueExpression:t.valueExpression,normalizationType:l,normalizationField:a,normalizationTotal:s,viewInfoParams:t.viewInfoParams,timeZone:t.timeZone,fieldInfos:t.fieldInfos},n),c=(0,o.Rw)(f,{field:r,normalizationType:l,normalizationField:a,normalizationTotal:s,classificationMethod:u,standardDeviationInterval:t.standardDeviationInterval,numClasses:t.numClasses,minValue:t.minValue,maxValue:t.maxValue});return(0,o.jM)(c,u)}async function s(e){const{attribute:t,features:n}=e,{field:r,normalizationType:l,normalizationField:a,normalizationTotal:s,classificationMethod:u}=t,f=await(0,i.Jc)({field:r,valueExpression:t.valueExpression,normalizationType:l,normalizationField:a,normalizationTotal:s,viewInfoParams:t.viewInfoParams,timeZone:t.timeZone,fieldInfos:t.fieldInfos},n);return(0,o.$y)(f,{field:r,normalizationType:l,normalizationField:a,normalizationTotal:s,classificationMethod:u,standardDeviationInterval:t.standardDeviationInterval,numBins:t.numBins,minValue:t.minValue,maxValue:t.maxValue})}async function u(e){const{attribute:t,features:n}=e,{field:o,radius:r,transform:l,spatialReference:a}=t,s=t.size??[0,0],u=(0,i.$r)(n??[],l,a,s);return(0,i.gV)(u,r??void 0,o,s[0],s[1])}},70934:(e,t,n)=>{n.d(t,{$r:()=>y,D9:()=>Z,Jc:()=>T,Lc:()=>x,MH:()=>b,Wk:()=>M,a:()=>z,gV:()=>v,hw:()=>I,lX:()=>$,rb:()=>w,sf:()=>F});var i=n(74719),o=n(16804),r=n(87431),l=n(75400),a=n(93321),s=n(73532),u=n(70576),f=n(95011),c=n(98785),d=n(79538),m=n(68584),h=n(96247);let p=null;const g=/^(?<hh>([0-1][0-9])|([2][0-3])):(?<mm>[0-5][0-9])(:(?<ss>[0-5][0-9]))?([.](?<ms>\d+))?$/;function y(e,t,n,i){const o=(0,u.d9)(n)?(0,u.Vp)(n):null,r=o?Math.round((o.valid[1]-o.valid[0])/t.scale[0]):null;return e.map((e=>{const n=new l.default(e.geometry);return(0,s.Gy)(t,n,n),e.geometry=o?function(e,t,n){return e.x<0?e.x+=t:e.x>n&&(e.x-=t),e}(n,r??0,i[0]):n,e}))}function v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;const l=new Float64Array(i*r);t=Math.round((0,o.Lz)(t));let a=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;const u=(0,c.YW)(n);for(const{geometry:o,attributes:f}of e){const{x:e,y:n}=o,d=Math.max(0,e-t),m=Math.max(0,n-t),h=Math.min(r,n+t),p=Math.min(i,e+t),g=+u(f);for(let o=m;o<h;o++)for(let r=d;r<p;r++){const u=o*i+r,f=(0,c.hv)(r-e,o-n,t)*g,d=l[u]+=f;a=Math.min(a,d),s=Math.max(s,d)}}return{min:a,max:s}}function w(e){const t=g.exec(e);if(!t)return null;const{hh:n,mm:i,ss:o,ms:l}=t.groups;return Number(n)*r.vf.hours+Number(i)*r.vf.minutes+Number(o)*r.vf.seconds+Number(l||0)}async function T(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t)return[];const{field:i,field2:o,field3:r,fieldDelimiter:l,fieldInfos:s,timeZone:u}=e,c=i&&s?.find((e=>e.name.toLowerCase()===i.toLowerCase())),g=!!c&&(0,f.isTimeOnlyField)(c),y=!!c&&(0,d.fs)(c),v=e.valueExpression,T=e.normalizationType,x=e.normalizationField,$=e.normalizationTotal,z=[],I=e.viewInfoParams;let F=null,M=null;if(v){if(!p){const{arcadeUtils:e}=await(0,h.lw)();p=e}p.hasGeometryOperations(v)&&await p.enableGeometryOperations(),F=p.createFunction(v),M=I?p.getViewInfo({viewingMode:I.viewingMode,scale:I.scale,spatialReference:new a.default(I.spatialReference)}):null}const b=e.fieldInfos,Z=t[0]&&"declaredClass"in t[0]&&"esri.Graphic"===t[0].declaredClass||!b?null:{fields:b};return t.forEach((e=>{const t=e.attributes;let a;if(v){const t=Z?{...e,layer:Z}:e,n=p.createExecContext(t,M,u);a=p.executeFunction(F,n)}else t&&(a=t[i],o?(a=`${(0,m.gJ)(a)}${l}${(0,m.gJ)(t[o])}`,r&&(a=`${a}${l}${(0,m.gJ)(t[r])}`)):"string"==typeof a&&n&&(y?a=a?new Date(a).getTime():null:g&&(a=a?w(a):null)));if(T&&"number"==typeof a&&isFinite(a)){const e=t&&parseFloat(t[x]);a=(0,m.zS)(a,T,e,$)}z.push(a)})),z}function x(e){const t=e.field,n=e.normalizationType,i=e.normalizationField;let o;return"field"===n?o="(NOT "+i+" = 0)":"log"!==n&&"natural-log"!==n&&"square-root"!==n||(o=`(${t} > 0)`),o}function $(e,t,n){const i=null!=t?e+" >= "+t:"",o=null!=n?e+" <= "+n:"";let r="";return r=i&&o?F(i,o):i||o,r?"("+r+")":""}function z(e,t,n,o){let r;return t?t.name!==e.objectIdField&&o.includes(t.type)||(r=new i.default(n,"'field' should be one of these types: "+o.join(","))):r=new i.default(n,"'field' is not defined in the layer schema"),r}function I(e,t,n){let o;return t?t.name!==e.objectIdField&&(0,f.isNumericField)(t)||(o=new i.default(n,"'field' should be one of these numeric types: "+f.numericTypes.join(","))):o=new i.default(n,"'field' is not defined in the layer schema"),o}function F(e,t){let n=null!=e?e:"";return null!=t&&t&&(n=n?"("+n+") AND ("+t+")":t),n}function M(e,t){if(e&&"intersects"!==e.spatialRelationship)return new i.default(t,"Only 'intersects' spatialRelationship is supported for featureFilter")}function b(e,t,n){const o=function(e){const t=e.layer;return e.fields.filter((e=>!t.getField(e)))}({layer:e,fields:t});if(o.length)return new i.default(n,"Unknown fields: "+o.join(", ")+". You can only use fields defined in the layer schema");const r=function(e){const t=e.layer;return e.fields.filter((e=>{const n=t.getFieldUsageInfo(e);return!n||!n.supportsStatistics}))}({layer:e,fields:t});return r.length?new i.default(n,"Unsupported fields: "+r.join(", ")+". You can only use fields that can be fetched i.e. AdapterFieldUsageInfo.supportsStatistics must be true"):void 0}function Z(e,t,n){const i=[],o=[],r=[],l=[],a=[];e.forEach(((e,t)=>{const s=e.field?"field":"expression",u=e.field||e.valueExpression;e.field?(a.push(u),o.push(`var ${s}${t} = Number($feature["${u}"]);`)):(i.push(`function getValueForExpr${t}() {\n  ${u} \n}`),o.push(`var ${s}${t} = Number(getValueForExpr${t}());`)),n||r.push(`${s}${t} = IIf(${s}${t} < 0, 0, ${s}${t});`),l.push(`${s}${t}`)}));const s=i.length?null:a.reduce(((e,t)=>`${e} + ${t}`));let u=null;return t||n?t?n||s&&(u=`(( ${s} ) >= 0)`):s&&(u=`(( ${s} ) <> 0)`):s&&(u=`(( ${s} ) > 0)`),{valueExpression:[i.length?i.join("\n"):"",o.join("\n"),r.join("\n"),`var total = ${l.join(" + ")};`,"return total;"].filter(Boolean).join("\n\n"),sqlExpression:s,sqlWhere:u}}},73532:(e,t,n)=>{n.d(t,{$X:()=>E,B2:()=>l,Gy:()=>I,IE:()=>r,P5:()=>V,Q1:()=>o,QE:()=>M,SW:()=>b,Tr:()=>Z,VV:()=>i,wp:()=>F});n(78629);function i(e){return e?{originPosition:"upper-left"===e.originPosition?"upperLeft":"lower-left"===e.originPosition?"lowerLeft":e.originPosition,scale:e.tolerance?[e.tolerance,e.tolerance,1,1]:[1,1,1,1],translate:null!=e.extent?[e.extent.xmin,e.extent.ymax,e.extent.zmin??0,e.extent.mmin??0]:[0,0,0,0]}:null}function o(e){if(function(e){return"lowerLeft"===e.originPosition&&4===e.scale.length&&4===e.translate.length}(e))return e;const{originPosition:t,scale:n,translate:i}=e,o=n[0]??1,r=n[1]??1;return{originPosition:"lowerLeft",scale:[o,"lowerLeft"===t?r:-r,n[2]??1,n[3]??1],translate:[i[0]??0,i[1]??0,i[2]??0,i[3]??0]}}function r(e,t){let{scale:n,translate:i}=e;return Math.round((t-i[0])/n[0])}function l(e,t){let{scale:n,translate:i}=e;return Math.round((t-i[1])/n[1])}function a(e,t){let{scale:n,translate:i}=e;return Math.round(((t??0)-i[2])/n[2])}function s(e,t){let{scale:n,translate:i}=e;return t?Math.round((t-i[3])/n[3]):0}function u(e,t){return e&&t?m:e&&!t?c:!e&&t?d:f}const f=(e,t)=>{const n=[];if(!t.length)return null;const i=t[0];let o=r(e,i[0]),a=l(e,i[1]);n.push([o,a]);for(let s=1;s<t.length;s++){const[i,u]=t[s],f=r(e,i),c=l(e,u);f===o&&c===a||n.push([f-o,c-a]),o=f,a=c}return n},c=(e,t)=>{const n=[];if(!t.length)return null;const i=t[0];let o=r(e,i[0]),s=l(e,i[1]),u=a(e,i[2]);n.push([o,s,u]);for(let f=1;f<t.length;f++){const[i,c,d]=t[f],m=r(e,i),h=l(e,c),p=a(e,d);m===o&&h===s&&p===u||n.push([m-o,h-s,p]),o=m,s=h,u=p}return n},d=(e,t)=>{const n=[];if(!t.length)return null;const i=t[0];let o=r(e,i[0]),a=l(e,i[1]),u=s(e,i[2]);n.push([o,a,u]);for(let f=1;f<t.length;f++){const[i,c,d]=t[f],m=r(e,i),h=l(e,c),p=s(e,d);m===o&&h===a&&p===u||n.push([m-o,h-a,p]),o=m,a=h,u=p}return n},m=(e,t)=>{const n=[];if(!t.length)return null;const i=t[0];let o=r(e,i[0]),u=l(e,i[1]),f=a(e,i[2]),c=s(e,i[3]);n.push([o,u,f,c]);for(let d=1;d<t.length;d++){const[i,m,h,p]=t[d],g=r(e,i),y=l(e,m),v=a(e,h),w=s(e,p);g===o&&y===u&&v===f&&w===c||n.push([g-o,y-u,v,w]),o=g,u=y,f=v,c=w}return n};function h(e,t){let{scale:n,translate:i}=e;return t*n[0]+i[0]}function p(e,t){let{scale:n,translate:i}=e;return t*n[1]+i[1]}function g(e,t){let{scale:n,translate:i}=e;return(t??0)*n[2]+i[2]}function y(e,t){let{scale:n,translate:i}=e;return t?t*n[3]+i[3]:0}function v(e,t){return e&&t?$:e&&!t?T:!e&&t?x:w}const w=(e,t)=>{const n=new Array(t.length);if(!t.length)return n;const i=t[0];let o=h(e,i[0]),r=p(e,i[1]);n[0]=[o,r];const{scale:l,originPosition:a}=e,s=l[0],u="lowerLeft"===a?l[1]:-l[1];for(let f=1;f<t.length;f++){const[e,i]=t[f];o+=s*e,r+=u*i,n[f]=[o,r]}return n},T=(e,t)=>{const n=new Array(t.length);if(!t.length)return n;const i=t[0];let o=h(e,i[0]),r=p(e,i[1]);n[0]=[o,r,g(e,i[2])];const{scale:l,originPosition:a}=e,s=l[0],u="lowerLeft"===a?l[1]:-l[1];for(let f=1;f<t.length;f++){const[i,l,a]=t[f];o+=s*i,r+=u*l,n[f]=[o,r,g(e,a)]}return n},x=(e,t)=>{const n=new Array(t.length);if(!t.length)return n;const i=t[0];let o=h(e,i[0]),r=p(e,i[1]);n[0]=[o,r,y(e,i[2])];const{scale:l,originPosition:a}=e,s=l[0],u="lowerLeft"===a?l[1]:-l[1];for(let f=1;f<t.length;f++){const[i,l,a]=t[f];o+=s*i,r+=u*l,n[f]=[o,r,y(e,a)]}return n},$=(e,t)=>{const n=new Array(t.length);if(!t.length)return n;const i=t[0];let o=h(e,i[0]),r=p(e,i[1]);n[0]=[o,r,g(e,i[2]),y(e,i[3])];const{scale:l,originPosition:a}=e,s=l[0],u="lowerLeft"===a?l[1]:-l[1];for(let f=1;f<t.length;f++){const[i,l,a,c]=t[f];o+=s*i,r+=u*l,n[f]=[o,r,g(e,a),y(e,c)]}return n};function z(e,t,n){const i=new Array(n.length);for(let o=0;o<n.length;o++)i[o]=t(e,n[o]);return i}function I(e,t,n){const i=o(e);return t.x=r(i,n.x),t.y=l(i,n.y),null!=n.z&&(t.z=a(i,n.z)),null!=n.m&&(t.m=s(i,n.m)),t}function F(e,t,n){const i=function(e,t,n,i){const o=[],r=u(n,i);for(let l=0;l<t.length;l++){const n=r(e,t[l]);n&&n.length>=3&&o.push(n)}return o.length?o:null}(o(e),n.rings,n.hasZ,n.hasM);return i?(t.rings=i,t.hasZ=n.hasZ??!1,t.hasM=n.hasM??!1,t):null}function M(e,t,n){const i=function(e,t,n,i){const o=[],r=u(n,i);for(let l=0;l<t.length;l++){const n=r(e,t[l]);n&&n.length>=2&&o.push(n)}return o.length?o:null}(o(e),n.paths,n.hasZ,n.hasM);return i?(t.paths=i,t.hasZ=n.hasZ??!1,t.hasM=n.hasM??!1,t):null}function b(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n?.hasZ??!1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n?.hasM??!1;if(null!=n){const l=o(e);t.points=v(i,r)(l,n.points),t.hasZ=i,t.hasM=r}return t}function Z(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null!=n?.z,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null!=n?.m;if(null==n)return t;const l=o(e);return t.x=h(l,n.x),t.y=p(l,n.y),i&&(t.z=g(l,n.z)),r&&(t.m=y(l,n.m)),t}function E(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n?.hasZ??!1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n?.hasM??!1;if(null!=n){const l=o(e);t.rings=z(l,v(i,r),n.rings),t.hasZ=i,t.hasM=r}return t}function V(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n?.hasZ??!1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n?.hasM??!1;if(null!=n){const l=o(e);t.paths=z(l,v(i,r),n.paths),t.hasZ=i,t.hasM=r}return t}},79538:(e,t,n)=>{n.d(t,{BV:()=>F,EG:()=>w,Lk:()=>I,Ll:()=>Z,Np:()=>f,R3:()=>b,SO:()=>h,T1:()=>M,UH:()=>u,Wy:()=>T,XR:()=>m,aM:()=>z,fs:()=>v,i0:()=>E,i3:()=>y});var i=n(66845),o=n(95011),r=n(96247),l=n(76983),a=n(73210),s=n(40731);const u=",",f={light:["streets","gray","topo","terrain","oceans","osm","gray-vector","streets-vector","topo-vector","streets-relief-vector","streets-navigation-vector","topo-3d","navigation-3d","streets-3d","osm-3d","gray-3d"],dark:["satellite","hybrid","dark-gray","dark-gray-vector","streets-night-vector","navigation-dark-3d","streets-dark-3d","dark-gray-3d"]},c="percent-of-total",d="field",m={exclude:["median"]},h={years:365,months:30,days:1,hours:1/24,minutes:1/1440,seconds:1/86400,milliseconds:1/864e5},p=new Set(["integer","small-integer"]);let g=null;const y=["date","date-only","timestamp-offset"];function v(e){return(0,o.isDateField)(e)||(0,o.isDateOnlyField)(e)||(0,o.isTimestampOffsetField)(e)}async function w(e){const{field:t,field2:n,field3:i,normalizationField:o,valueExpression:l}=e;let a=[];if(l){if(!g){const{arcadeUtils:e}=await(0,r.lw)();g=e}a=g.extractFieldNames(l)}return t&&a.push(t),n&&a.push(n),i&&a.push(i),o&&a.push(o),a}function T(e){let t=e.normalizationType;return t||(e.normalizationField?t=d:null!=e.normalizationTotal&&(t=c)),t??void 0}function x(e){return String(e).padStart(2,"0")}function $(e,t,n){let i;return"date"===t||"number"===t?("number"===t&&(e=new Date(e)),i=`TIMESTAMP'${n?e.getFullYear():e.getUTCFullYear()}-${x((n?e.getMonth():e.getUTCMonth())+1)}-${x(n?e.getDate():e.getUTCDate())} ${x(n?e.getHours():e.getUTCHours())}:${x(n?e.getMinutes():e.getUTCMinutes())}:${x(n?e.getSeconds():e.getUTCSeconds())}'`):i=e,i}function z(e,t,n,i){const{hasQueryEngine:o}=e,r=`(${$(n,I(e,n),o)} - ${$(t,I(e,t),o)})`;let l=h[i],a="/";return l<1&&(l=1/l,a="*"),{sqlExpression:1===l?r:`(${r} ${a} ${l})`,sqlWhere:null}}function I(e,t){if(t instanceof Date)return"date";if("number"==typeof t)return"number";if("string"==typeof t){const n=e.getField(t);if("<now>"===t.toLowerCase())return;if((0,o.isDateField)(n))return"field"}}function F(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;for(const n in t)if(t[n].includes(e))return n}function M(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=null;return e&&("string"==typeof e?t.includes(e)&&(i=e):i=(0,l.q3)(e)),n?i||"gray":i}function b(e,t){const n=t&&e.getField(t);return!!n&&p.has(n.type)}function Z(e){return`cast(${e} as float)`}function E(e,t){const{format:n,timeZoneOptions:o,fieldType:r}=t??{};let l,u;if(o&&({timeZone:l,timeZoneName:u}=(0,s.hv)(o.layerTimeZone,o.datesInUnknownTimezone,o.viewTimeZone,(0,i.J2)(n||"short-date-short-time"),r)),"string"==typeof e&&isNaN(Date.parse("time-only"===r?`1970-01-01T${e}Z`:e)))return e;switch(r){case"date-only":{const t=(0,i.J2)(n||"short-date");return"string"==typeof e?(0,i.iS)(e,{...t}):(0,i.Yq)(e,{...t,timeZone:a.n$})}case"time-only":{const t=(0,i.J2)(n||"short-time");return"string"==typeof e?(0,i.F8)(e,t):(0,i.Yq)(e,{...t,timeZone:a.n$})}case"timestamp-offset":{if(!l&&"string"==typeof e&&new Date(e).toISOString()!==e)return e;const t=n||o?(0,i.J2)(n||"short-date-short-time"):void 0,r=t?{...t,timeZone:l,timeZoneName:u}:void 0;return"string"==typeof e?(0,i.Ey)(e,r):(0,i.Yq)(e,r)}default:{const t=n||o?(0,i.J2)(n||"short-date-short-time"):void 0;return(0,i.Yq)("string"==typeof e?new Date(e):e,t?{...t,timeZone:l,timeZoneName:u}:void 0)}}}}}]);