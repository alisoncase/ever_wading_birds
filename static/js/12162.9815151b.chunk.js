"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[12162,14967,28842,55928,60822,73959,85022],{2663:(e,t,r)=>{r.d(t,{A:()=>N});var n=r(93800),o=r(58828),i=r(89129),s=r(58448),a=r(42198),l=r(49959),c=r(16804),u=r(48602),d=(r(21265),r(50925),r(14746),r(75269)),h=r(75400),p=r(65920),f=r(53053),y=r(17741),g=r(67654),m=r(26054),v=r(48941),w=r(74398),x=r(83210),M=r(88204),_=r(6946),R=r(90772),b=(r(17745),r(87118));let Z=class extends _.default{constructor(e){super(e),this.coordinates=void 0,this.strokeDash=[],this.strokeWidth=1,this.strokeColor=[0,0,0,1],this.strokeDashColor=[255,255,255,1],this.fillColor=[0,0,0,0],this.visible=!0,this.isDecoration=!0}get _strokeStyle(){const e=this.strokeColor;return`rgba(${e[0]}, ${e[1]}, ${e[2]}, ${e[3]})`}get _strokeBackgroundStyle(){const e=this.strokeDashColor;return`rgba(${e[0]}, ${e[1]}, ${e[2]}, ${e[3]})`}get _fillStyle(){const e=this.fillColor;return`rgba(${e[0]}, ${e[1]}, ${e[2]}, ${e[3]})`}get _renderCoordinates(){const e=[];if(!this.coordinates)return{coordinates:e,rect:R.qv};const t=(0,R.eV)((0,R.Jf)((0,R.vt)(R.qv),this.coordinates),2*this.strokeWidth);t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]+.5),t[3]=Math.ceil(t[3]+.5);for(const r of this.coordinates)e.push([Math.floor(r[0]-t[0])+.5,Math.floor(r[1]-t[1])+.5]);return e.reverse(),{coordinates:e,rect:t}}render(){const{coordinates:e,rect:t}=this._renderCoordinates,r=(0,R.VL)(t),n=(0,R.uJ)(t);return(0,b.K)("div",{classes:{"esri-outline-overlay-item":!0},styles:{left:t[0]+"px",top:t[1]+"px",width:r+"px",height:n+"px",visibility:this.visible?"visible":"hidden"}},(0,b.K)("svg",{height:n,styles:{display:"block"},width:r},(0,b.K)("polygon",{fill:this._fillStyle,points:e.map((e=>{let[t,r]=e;return`${t},${r}`})).join(" "),stroke:this._strokeBackgroundStyle,"stroke-width":this.strokeWidth}),(0,b.K)("polygon",{fill:"transparent",points:e.map((e=>{let[t,r]=e;return`${t},${r}`})).join(" "),stroke:this._strokeStyle,"stroke-dasharray":this.strokeDash.length?this.strokeDash.join(" "):void 0,"stroke-width":this.strokeWidth})))}renderCanvas(){}};(0,n._)([(0,u.MZ)()],Z.prototype,"coordinates",void 0),(0,n._)([(0,u.MZ)()],Z.prototype,"strokeDash",void 0),(0,n._)([(0,u.MZ)()],Z.prototype,"strokeWidth",void 0),(0,n._)([(0,u.MZ)()],Z.prototype,"strokeColor",void 0),(0,n._)([(0,u.MZ)()],Z.prototype,"strokeDashColor",void 0),(0,n._)([(0,u.MZ)()],Z.prototype,"fillColor",void 0),(0,n._)([(0,u.MZ)()],Z.prototype,"visible",void 0),(0,n._)([(0,u.MZ)()],Z.prototype,"isDecoration",void 0),(0,n._)([(0,u.MZ)({readOnly:!0})],Z.prototype,"_strokeStyle",null),(0,n._)([(0,u.MZ)({readOnly:!0})],Z.prototype,"_strokeBackgroundStyle",null),(0,n._)([(0,u.MZ)({readOnly:!0})],Z.prototype,"_fillStyle",null),(0,n._)([(0,u.MZ)({readOnly:!0})],Z.prototype,"_renderCoordinates",null),Z=(0,n._)([(0,d.$)("esri.views.overlay.OutlineOverlayItem")],Z);const T=Z;let k=class extends(s.A.EventedMixin(M.g)){constructor(e){super(e),this._overlayItem=void 0,this.geometryType=null,this.mode=null,this.type="draw-screen"}initialize(){this.drawOperation=this._makeDrawOperation();const e=e=>this.drawOperation.on(e,(t=>{this._updateVisuals(),this.emit(e,t)}));this.addHandles([e("vertex-add"),e("vertex-remove"),e("vertex-update"),e("cursor-update"),e("complete")]),this.finishToolCreation()}destroy(){this.drawOperation=(0,y.pR)(this.drawOperation),this._set("view",null)}get canRedo(){return this.drawOperation.canRedo}get canUndo(){return this.drawOperation.canUndo}set centeredToggled(e){this._set("centeredToggled",e),this._updateVisuals()}set enabled(e){this.drawOperation.interactive=e,this._set("enabled",e)}set uniformSizeToggled(e){this._set("uniformSizeToggled",e),this._updateVisuals()}get updating(){return this.drawOperation?.updating??!1}get cursor(){return"point"===this.geometryType?"default":"crosshair"}completeCreateOperation(){this.drawOperation.complete()}onInputEvent(e){this.destroyed||this.drawOperation.onInputEvent(e)}redo(){this.drawOperation.redo()}undo(){this.drawOperation.undo()}reset(){}_makeDrawOperation(){const{view:e}=this;return new m.O0({view:e,manipulators:this.manipulators,geometryType:A(this.geometryType),drawingMode:this.mode,hasZ:!1,defaultZ:0,snapToSceneEnabled:!1,drawSurface:new v.Sl,hasM:!1,snappingManager:null,snappingVisualizer:null,graphic:null,cursor:this.cursor})}get coordinates(){const{drawOperation:e}=this;if(!e?.geometryIncludingUncommittedVertices.length)return[];const{coordinateHelper:t}=e,r=e.committableVertex,n=e.committedVertices.slice();null!=r&&n.push(t.pointToArray(r));const o=n.length;switch(this.geometryType){case"circle":case"rectangle":{const t=new x.vz(g.zK,v.Sl.spatialReference),r="circle"===this.geometryType?w.zV:w.GF,i="circle"===this.geometryType?w.zd:w._T;if(1===o&&e.isCompleted){const e=n[0],o=t.makeMapPoint(e[0]+S,e[1]);return r([e,o],t,!0)?.geometry.rings[0]??[]}if(2===o){const e="rectangle"!==this.geometryType,o=this.centeredToggled!==e,s="rectangle"!==this.geometryType;return(this.uniformSizeToggled!==s?r(n,t,o)?.geometry.rings[0]:i(n,t,o)?.geometry.rings[0])??[]}return[]}}return n}_updateVisuals(){if(!this._overlayItem){const e=new T({strokeDash:[5],strokeDashColor:[255,255,255,255]});this.view.overlay?.addItem(e),this.addHandles((0,a.hA)((()=>{this.view.overlay?.removeItem(e),e?.destroy(),this._overlayItem=void 0}))),this._overlayItem=e}this._overlayItem.coordinates=this.coordinates}onDeactivate(){this.drawOperation.isCompleted||this.drawOperation.cancel()}};function A(e){switch(e){case"polygon":case"point":return e;case"circle":case"rectangle":return"segment"}}(0,n._)([(0,u.MZ)({value:!1})],k.prototype,"centeredToggled",null),(0,n._)([(0,u.MZ)()],k.prototype,"drawOperation",void 0),(0,n._)([(0,u.MZ)({value:!0})],k.prototype,"enabled",null),(0,n._)([(0,u.MZ)({value:!1})],k.prototype,"uniformSizeToggled",null),(0,n._)([(0,u.MZ)({constructOnly:!0})],k.prototype,"geometryType",void 0),(0,n._)([(0,u.MZ)({constructOnly:!0})],k.prototype,"mode",void 0),(0,n._)([(0,u.MZ)({readOnly:!0})],k.prototype,"type",void 0),(0,n._)([(0,u.MZ)({readOnly:!0})],k.prototype,"updating",null),(0,n._)([(0,u.MZ)({constructOnly:!0,nonNullable:!0})],k.prototype,"view",void 0),(0,n._)([(0,u.MZ)()],k.prototype,"cursor",null),k=(0,n._)([(0,d.$)("esri.views.draw.DrawScreenTool")],k);const S=48;var O=r(4542),z=r(95011),G=r(78076),I=r(49222),E=r(36043),C=r(19983);async function F(){return async function(){return r.e(32984).then(r.bind(r,32984))}().then((e=>{let{contains:t,intersects:r,overlaps:n,simplify:o}=e;return{contains:t,intersects:r,overlaps:n,simplify:o}}))}async function P(e){const{currentSelection:t,selector:r,signal:n,sources:o,view:i}=e;if(!o?.length)return{added:[],removed:[]};const{layers:s,layerViews:a,graphicsLayers:c}=function(e){const t=[],r=[],n=[];return e.forEach((e=>{(0,G.yZ)(e)?t.push(e):((0,G.cM)(e)||(0,G.Qz)(e))&&e.layers?.length?t.push(...e.layers.toArray()):(0,G.Rv)(e)&&e.sublayers?.length?n.push(...e.sublayers.toArray()):(0,G.V0)(e)?n.push(e):(0,C.lO)(e)&&r.push(e)})),{layers:t,layerViews:r,graphicsLayers:n}}(o),u=(await(0,l.whenOrAbort)(Promise.all([V(r,s,i,n),D(r,a,i,n),W(r,c,i)]),n)).flat();if(!t)return{added:u,removed:[]};const d=t.toArray(),h=u.filter((e=>!$(d,e))),p=d.filter((e=>!$(u,e)));return t.removeMany(p),t.addMany(h),{added:h,removed:p}}const W=async(e,t,r)=>async function(e){const{selector:t,candidates:r,view:n}=e;if(!r?.length||!t)return[];const{spatialReference:o}=n,i=t,s=await F();return r.filter((e=>e.geometry&&"mesh"!==e.geometry.type&&s.intersects(o,i,e.geometry)))}({candidates:t.flatMap((e=>e.graphics.toArray()))??[],selector:e,view:r}),V=async(e,t,r,n)=>{const o=await(0,l.ignoreAbortErrors)(async function(e){const{layers:t,selector:r,signal:n,view:o}=e;return(0,l.whenOrAbort)(Promise.allSettled(t.map((async e=>e.queryFeatures(function(e,t,r,n){const{outFields:o,geometry:i}=H(t,r,n);return e.outFields=o,e.geometry=i,e.returnGeometry=!0,e.outSpatialReference=n.spatialReference,e}(e.createQuery(),r,e,o),{signal:n}).then((e=>{let{features:t}=e;return t}))))),n)}({selector:e,signal:n,layers:t,view:r}));return o?L(o):[]},D=async(e,t,r,n)=>{const o=await(0,l.ignoreAbortErrors)(async function(e){const{layerViews:t,selector:r,signal:n,view:o}=e;return(0,l.whenOrAbort)(Promise.allSettled(t.map((async e=>{const t=e.createQuery(),{geometry:i}=H(r,e.layer,o);return t.outFields=["*"],t.geometry=i,t.returnGeometry=!0,t.outSpatialReference=o.spatialReference,e.queryFeatures(t,{signal:n}).then((e=>{let{features:t}=e;return t}))}))),n)}({selector:e,signal:n,layerViews:t,view:r}));return o?L(o):[]};function L(e){const t=[];for(let r=0;r<e.length;r++){const n=e[r];"fulfilled"===n.status&&t.push(...n.value)}return t}function $(e,t){if(e.includes(t))return!0;const r=t.getObjectId(),n=null!=r,{layer:o,uid:i}=t;return n?e.some((e=>{if(o===e.layer)return r===e.getObjectId()})):e.some((e=>{if(o===e.layer)return i===e.uid}))}function H(e,t,r){const n="renderer"in t?(0,I.o)({renderer:t.renderer}):0,o="point"===e.type?(0,E.V)(e,n,r):e,i="displayField"in t?t.displayField:null,s=(0,z.getDisplayFieldName)({displayField:i,fields:t.fields}),a=[t.objectIdField];if(null!=s&&t.fieldsIndex.has(s)&&a.push(s),"globalIdField"in t&&null!=t.globalIdField&&t.fieldsIndex.has(t.globalIdField)&&a.push(t.fieldsIndex.get(t.globalIdField).name),(0,G.F2)(t)&&null!=t.subtypeField&&t.fieldsIndex.has(t.subtypeField)&&a.push(t.fieldsIndex.get(t.subtypeField).name),"utilityNetworks"in r.map&&r.map.utilityNetworks?.length&&((0,G.F2)(t)||"feature"===t.type)){const e=t.fieldsIndex.get("assetgroup"),r=t.fieldsIndex.get("assettype");e?.name&&a.push(e.name),r?.name&&a.push(r.name)}return{geometry:o,outFields:a}}let U=class extends s.A.EventedAccessor{constructor(e){super(e),this._processTask=null,this.options=null,this.selection=new i.default,this.sources=null,this._process=(0,l.debounce)((async(e,t)=>{const{callback:r,selector:n,completed:i}=e,s=(0,o.UT)((async e=>{const{options:t,sources:o,selection:s,view:a}=this;if((o?.length||a?.selectionManager.sources.length)&&a){if(n&&null!=o){const r=await P({currentSelection:s,selector:n,signal:e,sources:o,view:a});i&&!1!==t?.persistSelection&&a.selectionManager?.updateSelection({current:s.toArray(),...r})}r&&r()}else s.removeAll()}));return(0,l.onAbort)(t,(()=>s.abort())),this._processTask=s,s.promise}),100)}initialize(){this._setup()}cancel(){this.removeAllHandles(),this._processTask?.abort()}async _setup(){const{view:e}=this;if(await e.whenReady(),this.destroyed)return;const t=this.options,r=t?.createTool??"rectangle",n=t?.mode??("polygon"===r?"click":"hybrid"),o=Symbol();this._tool=new k({view:e,mode:n,geometryType:r}),t?.selectOnComplete||this.addHandles(this._tool.on(["cursor-update","vertex-add","vertex-remove"],(()=>(0,l.ignoreAbortErrors)(this._process({selector:this._selectionArea})))),o),this.addHandles([e.on("key-down",(e=>{if(!e.repeat)switch(e.key){case O.NE.constraint:this._tool.uniformSizeToggled=!0,e.stopPropagation();break;case O.NE.center:this._tool.centeredToggled=!0,e.stopPropagation()}})),e.on("key-up",(e=>{switch(e.key){case O.NE.constraint:this._tool.uniformSizeToggled=!1,e.stopPropagation();break;case O.NE.center:this._tool.centeredToggled=!1,e.stopPropagation()}})),this._tool.on("complete",(async e=>{this.removeHandles(o);const t=()=>{this.removeAllHandles(),this.emit("complete",{aborted:e.aborted,selection:this.selection.toArray()})};e.aborted?(this.cancel(),this.selection.removeAll(),t()):await this._process({selector:this._selectionArea,callback:t,completed:!0})}))],o),this.addHandles((0,a.hA)((()=>e.tools.remove(this._tool)))),e.addAndActivateTool(this._tool)}get _selectionArea(){const e=(0,c.tc)(),t=this._tool.coordinates,r=this.view.spatialReference,n=t=>{e.x=t[0],e.y=t[1];const{x:r,y:n}=this.view.toMap(e);return[r,n]};if(0===t.length)return;if(1===t.length||t.every((e=>{let[r,n]=e;return r===t[0][0]&&n===t[0][1]}))){const[e,o]=n(t[0]);return new h.default({x:e,y:o,spatialReference:r})}const o=t.map(n);return 0!==o.length?((0,f.$3)(o)||o.reverse(),new p.default({spatialReference:r,rings:[o]})):void 0}};(0,n._)([(0,u.MZ)()],U.prototype,"options",void 0),(0,n._)([(0,u.MZ)({readOnly:!0})],U.prototype,"selection",void 0),(0,n._)([(0,u.MZ)()],U.prototype,"sources",void 0),(0,n._)([(0,u.MZ)({constructOnly:!0})],U.prototype,"view",void 0),U=(0,n._)([(0,d.$)("esri.widgets.support.Selector2D.SelectionOperation")],U);const N=U},10993:(e,t,r)=>{r.d(t,{CI:()=>a,aI:()=>u,fk:()=>l});r(21265);var n=r(64682),o=r(70576);function i(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){const n=e[r],o=t[r];if(n.length!==o.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!==o[e])return!1}return!0}function s(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!i(e[r],t[r]))return!1;return!0}function a(e,t){return e===t||null!=e&&null!=t&&(0,o.aI)(e.spatialReference,t.spatialReference)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.m===t.m}function l(e,t,r){return e===t||null!=e&&null!=t&&(0,o.aI)(e.spatialReference,t.spatialReference)&&(0,n.Sp)(e.x,t.x,r)&&(0,n.Sp)(e.y,t.y,r)&&(0,n.Sp)(e.z??0,t.z??0,r)&&(0,n.Sp)(e.m??0,t.m??0,r)}function c(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.type!==t.type)return!1;switch(e.type){case"point":return a(e,t);case"extent":return function(e,t){return e.hasZ===t.hasZ&&e.hasM===t.hasM&&!!(0,o.aI)(e.spatialReference,t.spatialReference)&&e.xmin===t.xmin&&e.ymin===t.ymin&&e.zmin===t.zmin&&e.xmax===t.xmax&&e.ymax===t.ymax&&e.zmax===t.zmax}(e,t);case"polyline":return function(e,t){return e.hasZ===t.hasZ&&e.hasM===t.hasM&&!!(0,o.aI)(e.spatialReference,t.spatialReference)&&s(e.paths,t.paths)}(e,t);case"polygon":return function(e,t){return e.hasZ===t.hasZ&&e.hasM===t.hasM&&!!(0,o.aI)(e.spatialReference,t.spatialReference)&&s(e.rings,t.rings)}(e,t);case"multipoint":return function(e,t){return e.hasZ===t.hasZ&&e.hasM===t.hasM&&!!(0,o.aI)(e.spatialReference,t.spatialReference)&&i(e.points,t.points)}(e,t);case"mesh":return!1;default:return}}function u(e,t){return e===t||null!=e&&null!=t&&e.objectId===t.objectId&&!!c(e.geometry,t.geometry)&&!!function(e,t){if(e===t)return!0;if(!e||!t)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const o of r)if(e[o]!==t[o])return!1;return!0}(e.attributes,t.attributes)}},14967:(e,t,r)=>{r.r(t),r.d(t,{default:()=>d});var n,o=r(93800),i=r(85715),s=r(19455),a=r(48602),l=(r(21265),r(50925),r(14746),r(47332)),c=r(75269);let u=n=class extends(i.A.ClonableMixin(s.A)){constructor(e){super(e),this.type="georeferenced",this.origin=null}};u.absolute=new n,(0,o._)([(0,l.e)({georeferenced:"georeferenced"},{readOnly:!0})],u.prototype,"type",void 0),(0,o._)([(0,a.MZ)({type:[Number],nonNullable:!1,json:{write:!0}})],u.prototype,"origin",void 0),u=n=(0,o._)([(0,c.$)("esri.geometry.support.MeshGeoreferencedVertexSpace")],u);const d=u},20444:(e,t,r)=>{r.d(t,{CK:()=>c,E9:()=>a,Hq:()=>l,MW:()=>u,TE:()=>d,yJ:()=>h});var n=r(89227),o=r(75400),i=r(14967),s=r(55928);function a(e){return null==e.origin}function l(e){return null!=e.origin}function c(e){return l(e.vertexSpace)}function u(e,t){if(!l(e))return null;const[r,n,i]=e.origin;return new o.default({x:r,y:n,z:i,spatialReference:t})}function d(e,t){const{x:r,y:n,z:o,spatialReference:a}=e,l=[r,n,o??0];return"local"===(t?.vertexSpace??function(e){return e.isGeographic||e.isWebMercator?"local":"georeferenced"}(a))?new s.default({origin:l}):new i.default({origin:l})}function h(e,t){return e.type===t.type&&(e.origin===t.origin||null!=e.origin&&null!=t.origin&&(0,n.p)(e.origin,t.origin))}},28842:(e,t,r)=>{r.d(t,{c:()=>n,g:()=>o});var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},34156:(e,t,r)=>{r.d(t,{EL:()=>g,RS:()=>m,gr:()=>c,wP:()=>d,wZ:()=>h});var n=r(79625),o=(r(21265),r(82301)),i=r(25048),s=r(93321),a=r(78629),l=r(62240);function c(e){return"declaredClass"in e}function u(e){return"declaredClass"in e}function d(e,t){return e?"declaredClass"in e?e:new n.default({layer:t,sourceLayer:t,visible:e.visible,symbol:(0,o.clone)(e.symbol),attributes:(0,o.clone)(e.attributes),geometry:h(e.geometry)}):null}function h(e){return null==e?null:c(e)?e:(0,a.fromJSON)(function(e){const{wkid:t,wkt:r,wkt2:n,latestWkid:o}=e.spatialReference,i={wkid:t,wkt:r,wkt2:n,latestWkid:o};switch(e.type){case"point":{const{x:t,y:r,z:n,m:o}=e;return{x:t,y:r,z:n,m:o,spatialReference:i}}case"polygon":{const{rings:t,hasZ:r,hasM:n}=e;return{rings:p(t),hasZ:r,hasM:n,spatialReference:i}}case"polyline":{const{paths:t,hasZ:r,hasM:n}=e;return{paths:p(t),hasZ:r,hasM:n,spatialReference:i}}case"extent":{const{xmin:t,xmax:r,ymin:n,ymax:o,zmin:s,zmax:a,mmin:l,mmax:c,hasZ:u,hasM:d}=e;return{xmin:t,xmax:r,ymin:n,ymax:o,zmin:s,zmax:a,mmin:l,mmax:c,hasZ:u,hasM:d,spatialReference:i}}case"multipoint":{const{points:t,hasZ:r,hasM:n}=e;return{points:y(t)?f(t):t,hasZ:r,hasM:n,spatialReference:i}}default:return}}(e))}function p(e){return function(e){for(const t of e)if(0!==t.length)return y(t);return!1}(e)?e.map((e=>f(e))):e}function f(e){return e.map((e=>Array.from(e)))}function y(e){return e.length>0&&((0,i.vZ)(e[0])||(0,i.aI)(e[0]))}function g(e,t){if(!e)return null;let r;if(u(e)){if(null==t)return e.clone();if(u(t))return t.copy(e)}return null!=t?(r=t,r.x=e.x,r.y=e.y,r.spatialReference=e.spatialReference,e.hasZ?(r.z=e.z,r.hasZ=e.hasZ):(r.z=void 0,r.hasZ=!1),e.hasM?(r.m=e.m,r.hasM=!0):(r.m=void 0,r.hasM=!1)):(r=(0,l.T)(e.x,e.y,e.z,e.spatialReference),e.hasM&&(r.m=e.m,r.hasM=!0)),r}function m(e){const{wkid:t,wkt:r,wkt2:n,latestWkid:o}=e,i={wkid:t,wkt:r,wkt2:n,latestWkid:o};return s.default.fromJSON(i)}},55928:(e,t,r)=>{r.r(t),r.d(t,{default:()=>d});var n=r(93800),o=r(85715),i=r(19455),s=r(48602),a=(r(21265),r(50925),r(14746),r(47332)),l=r(75269),c=r(28473);let u=class extends(o.A.ClonableMixin(i.A)){constructor(e){super(e),this.type="local",this.origin=(0,c.vt)()}};(0,n._)([(0,a.e)({local:"local"},{readOnly:!0})],u.prototype,"type",void 0),(0,n._)([(0,s.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],u.prototype,"origin",void 0),u=(0,n._)([(0,l.$)("esri.geometry.support.MeshLocalVertexSpace")],u);const d=u},60822:(e,t,r)=>{r.r(t),r.d(t,{buffer:()=>O,changeDefaultSpatialReferenceTolerance:()=>q,clearDefaultSpatialReferenceTolerance:()=>B,clip:()=>u,contains:()=>h,convexHull:()=>b,crosses:()=>p,cut:()=>d,densify:()=>D,difference:()=>Z,disjoint:()=>w,distance:()=>f,equals:()=>y,extendedSpatialReferenceInfo:()=>c,flipHorizontal:()=>P,flipVertical:()=>W,generalize:()=>V,geodesicArea:()=>U,geodesicBuffer:()=>z,geodesicDensify:()=>L,geodesicLength:()=>N,intersect:()=>k,intersectLinesToPoints:()=>j,intersects:()=>g,isSimple:()=>_,nearestCoordinate:()=>G,nearestVertex:()=>I,nearestVertices:()=>E,offset:()=>S,overlaps:()=>x,planarArea:()=>$,planarLength:()=>H,relate:()=>M,rotate:()=>F,simplify:()=>R,symmetricDifference:()=>T,touches:()=>m,union:()=>A,within:()=>v});var n=r(80556),o=r(97653),i=r(31329),s=r(93321),a=r(85022);function l(e){const t=Array.isArray(e)?e[0].spatialReference:e.spatialReference;return t?(0,n.PZ)(s.default,t):s.default.WGS84}function c(e){return i.G.extendedSpatialReferenceInfo(e)}function u(e,t){return(0,o.f)(e),i.G.clip(a.hydratedAdapter,l(e),e,t)}function d(e,t){return(0,o.f)(e),i.G.cut(a.hydratedAdapter,l(e),e,t)}function h(e,t){return(0,o.f)(e),(0,o.f)(t),i.G.contains(a.hydratedAdapter,l(e),e,t)}function p(e,t){return(0,o.f)(e),(0,o.f)(t),i.G.crosses(a.hydratedAdapter,l(e),e,t)}function f(e,t,r){return(0,o.f)(e),(0,o.f)(t),i.G.distance(a.hydratedAdapter,l(e),e,t,r)}function y(e,t){return(0,o.f)(e),(0,o.f)(t),i.G.equals(a.hydratedAdapter,l(e),e,t)}function g(e,t){return(0,o.f)(e),(0,o.f)(t),i.G.intersects(a.hydratedAdapter,l(e),e,t)}function m(e,t){return(0,o.f)(e),(0,o.f)(t),i.G.touches(a.hydratedAdapter,l(e),e,t)}function v(e,t){return(0,o.f)(e),(0,o.f)(t),i.G.within(a.hydratedAdapter,l(e),e,t)}function w(e,t){return(0,o.f)(e),(0,o.f)(t),i.G.disjoint(a.hydratedAdapter,l(e),e,t)}function x(e,t){return(0,o.f)(e),(0,o.f)(t),i.G.overlaps(a.hydratedAdapter,l(e),e,t)}function M(e,t,r){return(0,o.f)(e),(0,o.f)(t),i.G.relate(a.hydratedAdapter,l(e),e,t,r)}function _(e){return(0,o.f)(e),i.G.isSimple(a.hydratedAdapter,l(e),e)}function R(e){return(0,o.f)(e),i.G.simplify(a.hydratedAdapter,l(e),e)}function b(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i.G.convexHull(a.hydratedAdapter,l(e),e,t)}function Z(e,t){return(0,o.f)(t),i.G.difference(a.hydratedAdapter,l(e),e,t)}function T(e,t){return(0,o.f)(t),i.G.symmetricDifference(a.hydratedAdapter,l(e),e,t)}function k(e,t){return(0,o.f)(t),i.G.intersect(a.hydratedAdapter,l(e),e,t)}function A(e){return i.G.union(a.hydratedAdapter,l(e),e)}function S(e,t,r,n,o,s){return i.G.offset(a.hydratedAdapter,l(e),e,t,r,n,o,s)}function O(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return i.G.buffer(a.hydratedAdapter,l(e),e,t,r,n)}function z(e,t,r,n,o,s){return i.G.geodesicBuffer(a.hydratedAdapter,l(e),e,t,r,n,o,s)}function G(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return(0,o.f)(e),i.G.nearestCoordinate(a.hydratedAdapter,l(e),e,t,r)}function I(e,t){return(0,o.f)(e),i.G.nearestVertex(a.hydratedAdapter,l(e),e,t)}function E(e,t,r,n){return(0,o.f)(e),i.G.nearestVertices(a.hydratedAdapter,l(e),e,t,r,n)}function C(e){return"xmin"in e?"center"in e?e.center:null:"x"in e?e:"extent"in e?e.extent?.center??null:null}function F(e,t,r){if(null==e)throw new J;const n=e.spatialReference;if(null==(r=r??C(e)))throw new J;const o=e.constructor.fromJSON(i.G.rotate(e,t,r));return o.spatialReference=n,o}function P(e,t){if(null==e)throw new J;const r=e.spatialReference;if(null==(t=t??C(e)))throw new J;const n=e.constructor.fromJSON(i.G.flipHorizontal(e,t));return n.spatialReference=r,n}function W(e,t){if(null==e)throw new J;const r=e.spatialReference;if(null==(t=t??C(e)))throw new J;const n=e.constructor.fromJSON(i.G.flipVertical(e,t));return n.spatialReference=r,n}function V(e,t,r,n){return(0,o.f)(e),i.G.generalize(a.hydratedAdapter,l(e),e,t,r,n)}function D(e,t,r){return(0,o.f)(e),i.G.densify(a.hydratedAdapter,l(e),e,t,r)}function L(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return(0,o.f)(e),i.G.geodesicDensify(a.hydratedAdapter,l(e),e,t,r,n)}function $(e,t){return(0,o.f)(e),i.G.planarArea(a.hydratedAdapter,l(e),e,t)}function H(e,t){return(0,o.f)(e),i.G.planarLength(a.hydratedAdapter,l(e),e,t)}function U(e,t,r){return(0,o.f)(e),i.G.geodesicArea(a.hydratedAdapter,l(e),e,t,r)}function N(e,t,r){return(0,o.f)(e),i.G.geodesicLength(a.hydratedAdapter,l(e),e,t,r)}function j(e,t){return i.G.intersectLinesToPoints(a.hydratedAdapter,l(e),e,t)}function q(e,t){i.G.changeDefaultSpatialReferenceTolerance(e,t)}function B(e){i.G.clearDefaultSpatialReferenceTolerance(e)}class J extends Error{constructor(){super("Illegal Argument Exception")}}},62776:(e,t,r)=>{r.r(t),r.d(t,{default:()=>g});var n,o=r(93800),i=r(84190),s=r(48602),a=(r(21265),r(50925),r(14746),r(75269)),l=r(30142),c=r(75400),u=r(65920),d=r(93321),h=r(26266),p=r(5616),f=r(12921);let y=n=class extends u.default{constructor(e){super(e),this.center=null,this.geodesic=!1,this.numberOfPoints=60,this.radius=1e3,this.radiusUnit="meters"}initialize(){const e=this.center,t=this.numberOfPoints;if(this.hasZ=e?.hasZ??!1,0!==this.rings.length||!e)return;const r=(0,i.oU)(this.radius,this.radiusUnit,"meters"),n=e.spatialReference;let o,s="geographic";if(n.isWebMercator?s="webMercator":(null!=(n.wkid&&f.A[n.wkid])||(n.wkt2||n.wkt)&&(0,i.x1)(n.wkt2||n.wkt))&&(s="projected"),this.geodesic){let n;switch(s){case"webMercator":n=(0,p.webMercatorToGeographic)(e);break;case"projected":console.error("Creating a geodesic circle requires the center to be specified in web mercator or geographic coordinate system");break;case"geographic":n=e}o=this._createGeodesicCircle(n,r,t),"webMercator"===s&&(o=(0,p.geographicToWebMercator)(o))}else{let n;"webMercator"===s||"projected"===s?n=r/(0,i.Ao)(e.spatialReference):"geographic"===s&&(n=(0,i.vl)(r,"meters",(0,l.tO)(e.spatialReference).radius)),o=this._createPlanarCircle(e,n,t)}this.spatialReference=o.spatialReference,this.addRing(o.rings[0])}clone(){const{center:e,numberOfPoints:t,radius:r,radiusUnit:o,geodesic:i}=this;return new n({center:e?.clone(),numberOfPoints:t,radius:r,radiusUnit:o,geodesic:i})}_createGeodesicCircle(e,t,r){const n=[],o=[e.x,e.y];for(let i=0;i<360;i+=360/r){const r=this.hasZ?[0,0,e.z??0]:[0,0];(0,h.directGeodeticSolver)(r,o,i,t,d.default.WGS84),n.push(r)}return n.push(n[0]),new u.default({rings:[n]})}_createPlanarCircle(e,t,r){const n=[],o=2*Math.PI/r;for(let i=0;i<r;++i){const r=o*i,s=[e.x+Math.cos(-r)*t,e.y+Math.sin(-r)*t];this.hasZ&&s.push(e.z??0),n.push(s)}return n.push(n[0]),new u.default({spatialReference:e.spatialReference,rings:[n]})}};(0,o._)([(0,s.MZ)({type:c.default})],y.prototype,"center",void 0),(0,o._)([(0,s.MZ)()],y.prototype,"geodesic",void 0),(0,o._)([(0,s.MZ)()],y.prototype,"numberOfPoints",void 0),(0,o._)([(0,s.MZ)()],y.prototype,"radius",void 0),(0,o._)([(0,s.MZ)()],y.prototype,"radiusUnit",void 0),y=n=(0,o._)([(0,a.$)("esri.geometry.Circle")],y);const g=y},74398:(e,t,r)=>{r.d(t,{GF:()=>M,LZ:()=>w,N6:()=>x,_T:()=>_,eq:()=>v,zV:()=>A,zd:()=>S});var n=r(62631),o=r(82301),i=r(84190),s=r(89227),a=r(28473),l=r(62776),c=r(60822),u=r(76493),d=r(75400),h=r(65920),p=r(54824),f=r(53053),y=r(70576),g=r(83210);function m(e,t){const r=new d.default({x:e[0],y:e[1],spatialReference:t});return e.length>2&&(r.z=e[2]),r}function v(e,t){return new u.default({points:e,spatialReference:t})}function w(e,t,r){const n=new p.default({paths:e,spatialReference:t});return r&&(0,f._7)(n),n}function x(e,t,r){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const s=(0,o.clone)(e);s.forEach((e=>{const t=e[0],r=e[e.length-1];(0,n.aI)(t,r)&&1!==e.length||e.push(e[0])}));let a=new h.default({rings:s,spatialReference:t});return a.rings.forEach((e=>{(0,f.$3)(e)||e.reverse()})),r&&(0,f._7)(a),i&&a.isSelfIntersecting&&(0,y.fn)(t)&&(a=(0,c.simplify)(a)),a}function M(e,t,r){const o=t.mapToLocalMultiple(e),i=[],s={x:o[0].x,y:o[0].y},a=o[1].x,l=o[1].y,c=Math.round(a-s.x),u=Math.round(l-s.y),d=Math.max(Math.abs(c),Math.abs(u));if(r){const e={x:s.x+d,y:s.y+d},t={x:s.x-d,y:s.y-d};i.push((0,g.E5)(e.x,t.y),(0,g.E5)(t.x,t.y),(0,g.E5)(t.x,e.y),(0,g.E5)(e.x,e.y))}else{const e={x:c>0?s.x+d:s.x-d,y:u>0?s.y+d:s.y-d};i.push((0,g.E5)(s.x,s.y),(0,g.E5)(e.x,s.y),(0,g.E5)(e.x,e.y),(0,g.E5)(s.x,e.y))}return R(x([i.map((e=>t.localToMap(e))).filter(n.Ru)],t.spatialReference,t.doUnnormalization,!0),i,t)}function _(e,t,r){let o=t.mapToLocalMultiple(e);if(1===o.length){const e=48,t=o[0];o=[(0,g.E5)(t.x-e,t.y+e),(0,g.E5)(t.x+e,t.y-e),(0,g.E5)(t.x+e,t.y-e),(0,g.E5)(t.x-e,t.y+e)]}const i=[],s={x:o[0].x,y:o[0].y},a={x:o[1].x,y:o[1].y};if(r){const e=Math.round(a.x-s.x),t=Math.round(a.y-s.y);i.push((0,g.E5)(s.x-e,s.y-t),(0,g.E5)(a.x,s.y-t),(0,g.E5)(a.x,a.y),(0,g.E5)(s.x-e,a.y))}else i.push((0,g.E5)(s.x,s.y),(0,g.E5)(a.x,s.y),(0,g.E5)(a.x,a.y),(0,g.E5)(s.x,a.y));return R(x([i.map((e=>t.localToMap(e))).filter(n.Ru)],t.spatialReference,t.doUnnormalization,!0),i,t)}function R(e,t,r){const n=b(t[3],t[2],r),o=b(t[1],t[2],r),i=b(t[0],t[1],r),s=b(t[0],t[3],r);return{geometry:e,midpoints:null!=n&&null!=o&&null!=i&&null!=s?{top:n,right:o,bottom:i,left:s}:null}}function b(e,t,r){T[0]=e.x,T[1]=e.y,T[2]=0,k[0]=t.x,k[1]=t.y,k[2]=0,(0,s.m)(T,T,k,.5),Z.x=T[0],Z.y=k[1],Z.z=k[2];const n=r.localToMap(Z);return null!=n?m(n,r.spatialReference):null}const Z=(0,g.E5)(0,0,0),T=(0,a.vt)(),k=(0,a.vt)();function A(e,t,r,n){const o=t.mapToLocalMultiple(e);let s=null,a=null;if(r)s=o[0],a=o[1];else{const e=o[0],t=o[1],r=Math.round(t.x-e.x),n=Math.round(t.y-e.y),i=Math.max(Math.abs(r),Math.abs(n));s=(0,g.E5)(r>0?e.x+i/2:e.x-i/2,n>0?e.y+i/2:e.y-i/2),a=(0,g.E5)(Math.abs(r)>Math.abs(n)?s.x-i/2:s.x,Math.abs(r)>Math.abs(n)?s.y:s.y-i/2)}const u=t.localToMap(s),d=t.localToMap(a);if(null==u||null==d)return null;t.doUnnormalization&&(0,f.JM)([[u,d]],t.spatialReference);const h=m(u,t.spatialReference),p=m(d,t.spatialReference),v=(0,i.GA)(t.spatialReference);let w=0;if((0,y.fn)(t.spatialReference))w=v*(0,c.distance)(h,p,null);else{const e=s.x-a.x,t=s.y-a.y;w=v*Math.sqrt(e*e+t*t)*(n||1)}const M=new l.default({center:h,radius:w,radiusUnit:"meters",spatialReference:t.spatialReference});return{geometry:x(M.rings,M.spatialReference,!1),center:h,edge:p}}function S(e,t,r){const o=t.mapToLocalMultiple(e),i=o[0],s=o[1],a=Math.round(s.x-i.x),l=Math.round(s.y-i.y),c=(0,g.E5)(r?i.x:i.x+a/2,r?i.y:i.y+l/2),u=r?a:a/2,d=r?l:l/2,h=[],p=2*Math.PI/60;function f(e){const t=Math.cos(e),r=Math.sin(e);return(0,g.E5)(u*t+c.x,d*r+c.y)}for(let n=0;n<60;n++)h.push(f(n*p));h.push(h[0]);const{spatialReference:y,doUnnormalization:v}=t,w=x([h.map((e=>t.localToMap(e))).filter(n.Ru)],y,v,!1),M=t.localToMap(f(Math.PI/2)),_=t.localToMap(f(0)),R=t.localToMap(f(-Math.PI/2)),b=t.localToMap(f(Math.PI));return{geometry:w,midpoints:null!=M&&null!=_&&null!=R&&null!=b?{top:m(M,y),right:m(_,y),bottom:m(R,y),left:m(b,y)}:null}}},83210:(e,t,r)=>{r.d(t,{E5:()=>p,ZP:()=>m,vz:()=>y});var n=r(62631),o=r(98352),i=r(67654),s=r(21369),a=r(66509),l=r(89227),c=r(28473),u=r(75400),d=r(91345);function h(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return null!=r?[e,t,r]:[e,t]}function p(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return null!=r?{x:e,y:t,z:r}:{x:e,y:t}}class f{constructor(e){this.spatialReference=e}mapToLocalMultiple(e){return e.map((e=>this.mapToLocal(e))).filter(n.Ru)}get doUnnormalization(){return!1}}class y extends f{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(t),this._defaultZ=r,this.transform=(0,i.vt)(),this.transformInv=(0,i.vt)(),this.transform=(0,i.o8)(e),(0,o.B8)(this.transformInv,this.transform)}makeMapPoint(e,t){return h(e,t,this._defaultZ)}mapToLocal(e){return p(this.transform[0]*e[0]+this.transform[2]*e[1]+this.transform[4],this.transform[1]*e[0]+this.transform[3]*e[1]+this.transform[5])}localToMap(e){return h(this.transformInv[0]*e.x+this.transformInv[2]*e.y+this.transformInv[4],this.transformInv[1]*e.x+this.transformInv[3]*e.y+this.transformInv[5],this._defaultZ)}}class g extends f{constructor(e,t){super(e.spatialReference),this.view=e,this.defaultZ=null,this.pWS=(0,c.vt)(),this.tangentFrameUpWS=(0,c.vt)(),this.tangentFrameRightWS=(0,c.vt)(),this.tangentFrameForwardWS=(0,c.vt)(),this.localFrameRightWS=(0,c.vt)(),this.localFrameUpWS=(0,c.vt)(),this.worldToLocalTransform=(0,a.vt)(),this.localToWorldTransform=(0,a.vt)(),this.scale=1,this.scale=e.resolution,this.referenceMapPoint=t,this.defaultZ=t.hasZ?t.z:null;const r=e.state.camera.viewRight;this.view.renderCoordsHelper.toRenderCoords(this.referenceMapPoint,this.pWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,d._.X,this.tangentFrameRightWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,d._.Y,this.tangentFrameUpWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,d._.Z,this.tangentFrameForwardWS);const n=(0,c.vt)();(0,l.h)(n,this.tangentFrameForwardWS,(0,l.f)(r,this.tangentFrameForwardWS)),(0,l.d)(this.localFrameRightWS,r,n),(0,l.n)(this.localFrameRightWS,this.localFrameRightWS),(0,l.e)(this.localFrameUpWS,this.tangentFrameForwardWS,this.localFrameRightWS),(0,s.Yc)(this.worldToLocalTransform,this.localFrameRightWS,this.tangentFrameRightWS),(0,s.B8)(this.localToWorldTransform,this.worldToLocalTransform)}get doUnnormalization(){return"global"===this.view.viewingMode}makeMapPoint(e,t){return h(e,t,this.defaultZ)}mapToLocal(e){const t=(0,c.vt)();this.view.renderCoordsHelper.toRenderCoords(new u.default({x:e[0],y:e[1],spatialReference:this.spatialReference}),t),(0,l.w)(t,t,this.worldToLocalTransform);const r=this.view.renderCoordsHelper.fromRenderCoords(t,new u.default({spatialReference:this.view.spatialReference}));return null!=r?p(r.x/this.scale,r.y/this.scale):null}localToMap(e){const t=(0,c.vt)();this.view.renderCoordsHelper.toRenderCoords(new u.default({x:e.x*this.scale,y:e.y*this.scale,spatialReference:this.spatialReference}),t),(0,l.w)(t,t,this.localToWorldTransform);const r=this.view.renderCoordsHelper.fromRenderCoords(t,new u.default({spatialReference:this.view.spatialReference}));return null!=r?h(r.x,r.y,this.defaultZ):null}}function m(e,t){if("2d"===e.type)return new y(e.state.transform,e.spatialReference,t.length>2?t[2]:null);if("3d"===e.type){const r=t.length>2?new u.default({x:t[0],y:t[1],z:t[2],spatialReference:e.spatialReference}):new u.default({x:t[0],y:t[1],spatialReference:e.spatialReference});return new g(e,r)}return null}},85022:(e,t,r)=>{r.r(t),r.d(t,{hydratedAdapter:()=>l});var n=r(12560),o=r(76493),i=r(75400),s=r(65920),a=r(54824);const l={convertToGEGeometry:function(e,t){if(null==t)return null;let r="cache"in t?t.cache._geVersion:void 0;return null==r&&(r=e.convertJSONToGeometry(t),"cache"in t&&(t.cache._geVersion=r)),r},exportPoint:function(e,t,r){const n=e.hasZ(t),o=e.hasM(t),s=new i.default({x:e.getPointX(t),y:e.getPointY(t),spatialReference:r});return n&&(s.z=e.getPointZ(t)),o&&(s.m=e.getPointM(t)),s.cache._geVersion=t,s},exportPolygon:function(e,t,r){const n=new s.default({rings:e.exportPaths(t),hasZ:e.hasZ(t),hasM:e.hasM(t),spatialReference:r});return n.cache._geVersion=t,n},exportPolyline:function(e,t,r){const n=new a.default({paths:e.exportPaths(t),hasZ:e.hasZ(t),hasM:e.hasM(t),spatialReference:r});return n.cache._geVersion=t,n},exportMultipoint:function(e,t,r){const n=new o.default({hasZ:e.hasZ(t),hasM:e.hasM(t),points:e.exportPoints(t),spatialReference:r});return n.cache._geVersion=t,n},exportExtent:function(e,t,r){const o=e.hasZ(t),i=e.hasM(t),s=new n.default({xmin:e.getXMin(t),ymin:e.getYMin(t),xmax:e.getXMax(t),ymax:e.getYMax(t),spatialReference:r});if(o){const r=e.getZExtent(t);s.zmin=r.vmin,s.zmax=r.vmax}if(i){const r=e.getMExtent(t);s.mmin=r.vmin,s.mmax=r.vmax}return s.cache._geVersion=t,s}}}}]);