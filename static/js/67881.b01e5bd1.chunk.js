"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[67881],{4500:(e,t,n)=>{n.d(t,{Q:()=>s});var i=n(56612);const o=[{pattern:/^\s*(https?:\/\/([^\s]+))\s*$/i,target:"_blank",label:"{messages.view}"},{pattern:/^\s*(tel:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(mailto:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"App Studio Player"},{pattern:/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Collector"},{pattern:/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Explorer"},{pattern:/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Navigator"},{pattern:/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Survey123"},{pattern:/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Trek2There"},{pattern:/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Workforce"},{pattern:/^\s*(iform:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"iForm"},{pattern:/^\s*(flow:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"FlowFinity"},{pattern:/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Laserfische"},{pattern:/^\s*(mspbi:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Microsoft Power Bi"}];function s(e,t){if("string"!=typeof t||!t)return t;const n=o.find((e=>e.pattern.test(t)));if(!n)return t;const s=t.match(n.pattern),r=s?.[2],a=(0,i.HC)((0,i.HC)(n.label,{messages:e,hierPart:r}),{appName:n.appName}),l=n.target?` target="${n.target}"`:"",c="_blank"===n.target?' rel="noreferrer"':"";return t.replace(n.pattern,`<a${l} href="$1"${c}>${a}</a>`)}},32182:(e,t,n)=>{n.d(t,{A:()=>o});const i="esri-column",o={contentFull:`${i}__content--full`,sorter:`${i}__sorter`,headerContent:`${i}__header-content`,headerDescription:`${i}__header-description`,headerLabel:`${i}__header-label`,headerMenuIcon:`${i}__header-menu-icon`}},54057:(e,t,n)=>{function i(e){return null!=e&&"object"==typeof e&&"type"in e&&null!==e.type&&("column"===e.type||"field"===e.type||"group"===e.type||"attachment"===e.type||"relationship"===e.type)}function o(e){return!(!e||!("field"in e))}function s(e){return!(!e||!("columns"in e))}function r(e){return!(!e||!("relationshipId"in e))}function a(e){return!(!e||!("onShowAttachments"in e))}n.d(t,{CE:()=>i,DU:()=>a,Ie:()=>s,JY:()=>o,Lv:()=>r})},67881:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var i=n(93800),o=n(6946),s=n(79953),r=n(48602),a=(n(21265),n(50925),n(14746),n(75269)),l=n(32182),c=n(98461),d=n(4500),p=n(17745);let u=class extends o.default{constructor(e){super(e),this._menuIsOpen=!1,this.autoWidth=!1,this.cellValueFormatFunction=e=>{let{root:t,rowData:n,value:i}=e;const{formatFunction:o}=this,s=p.W5.sanitize(i);if(o&&n){const{index:e,item:{attachments:i,feature:r,relatedRecords:a}}=n;return o({attachments:i,column:this,feature:r,index:e,relatedRecords:a,value:s,virtualIndex:this.getVirtualRowIndex(t)})}return s},this.description=null,this.direction=null,this.fieldName=null,this.flexGrow=1,this.footerRenderFunction=null,this.formatFunction=null,this.frozen=!1,this.frozenToEnd=!1,this.grid=null,this.headerRenderFunction=e=>{const{root:t}=e,n=this.createHeaderContent();this.removeCellContent(t),t.appendChild(n)},this.hidden=!1,this.icon=null,this.iconText=null,this.initialSortPriority=null,this.label=null,this.menuConfig=null,this.messages=null,this.messagesCommon=null,this.messagesURIUtils=null,this.renderFunction=e=>{let{root:t,rowData:n}=e;const i=this.getCellValue(n),o=this.cellValueFormatFunction({root:t,rowData:n,value:i});let s=null;if(s=o instanceof HTMLElement?o:(0,d.Q)(this.messagesURIUtils,o),this.removeCellContent(t),s instanceof HTMLElement)t.removeAttribute("title"),t.appendChild(s);else if(null!=s){const e=s.toString();t.innerHTML=e,t.title=e}},this.resizable=!0,this.sortable=!1,this.store=null,this.tableTimeZone=null,this.textAlign="start",this.textWrap=!1,this.timeZone=null,this.visibleElements=null,this.width=200}initialize(){const{fieldName:e}=this;this._set("sortElement",this.createSortElement()),this.sortElement.setAttribute("path",e),this.addHandles([(0,s.watch)((()=>this.direction),(e=>{const{sortElement:t}=this;this.sortable&&t&&(e?this.sortElement.direction!==e&&t.setAttribute("direction",e):t.removeAttribute("direction"))})),(0,s.when)((()=>this.grid?.isReady&&this.sortElement),(()=>{const{direction:e,grid:t,hidden:n,sortElement:i}=this;n&&e&&i&&t&&!t.hasSorter(i)&&t.addSorter(i)}),s.initial),(0,s.watch)((()=>[this.timeZone,this.icon,this.iconText]),(()=>this.grid?.requestContentUpdate())),(0,s.watch)((()=>this.hidden),(()=>this.closeMenu())),(0,s.watch)((()=>this.fieldName),(e=>{const{sortElement:t}=this;t&&t.path!==e&&t.setAttribute("path",e)})),(0,s.watch)((()=>this.effectiveLabel),(e=>{const{sortElement:t}=this;t&&t.textContent!==e&&(t.setAttribute("title",e),t.textContent=e)}))])}get _headerRequiresTextContainer(){return!(!this.sortable&&""===this.effectiveLabel&&null==this.effectiveDescription)}get customMenuItems(){return this.menuConfig?.items?.map((e=>{let{disabled:t,hidden:n,icon:i,iconClass:o,label:s,selected:r,clickFunction:a}=e;return this.createCalciteDropdownItem({disabled:t,hidden:n,iconClass:o,iconStart:i,selected:r,textContent:s,onclick:e=>a(e)})}))??[]}get defaultMenuItems(){if(!this.sortable)return[];const e=this.messages,t=[],n=this.visibleElements?.columnMenuItems;if(!1!==n?.sortAscending){const n=this.createCalciteDropdownItem({iconStart:"sort-ascending-arrow",textContent:e?.sortAsc,onclick:()=>this.direction="asc"});t.push(n)}if(!1!==n?.sortDescending){const n=this.createCalciteDropdownItem({iconStart:"sort-descending-arrow",textContent:e?.sortDesc,onclick:()=>this.direction="desc"});t.push(n)}return t}get effectiveDescription(){const{description:e}=this;return(0,c.$m)(e)?null:p.W5.sanitize(e)}get effectiveLabel(){return p.W5.sanitize(this.label||this.fieldName)}get iconNode(){const{icon:e,iconText:t}=this,n=t?p.W5.sanitize(t):void 0;return e?this.createCalciteIcon({icon:e,textLabel:n}):null}set invalid(e){this._set("invalid",e),this.grid?.generateCellPartNames()}get invalid(){return this._get("invalid")??!1}get menu(){const{customMenuItems:e,defaultMenuItems:t,menuConfig:n}=this,i=!!n?.open,o=this.createCalciteAction({icon:n?.icon??"ellipsis",text:this.messages?.menu??"",slot:"trigger"}),s=document.createElement("calcite-dropdown");if(s.maxItems=n?.maxItems??4,s.placement="top-end",s.overlayPositioning="fixed",s.scale=n?.scale??"m",i&&(s.open=i,this._menuIsOpen=!0),s.appendChild(o),s.addEventListener("calciteDropdownOpen",(()=>this._menuIsOpen=!0)),s.addEventListener("calciteDropdownClose",(()=>this._menuIsOpen=!1)),s.onkeydown=this._stopPropagationOnSelect,s.addEventListener("mousewheel",(e=>{e.stopPropagation()})),t.length){const e=s.appendChild(document.createElement("calcite-dropdown-group"));e.selectionMode="none",e.append(...t)}if(e.length){const t=s.appendChild(document.createElement("calcite-dropdown-group"));t.selectionMode=n?.selectionMode??"none",t.append(...e)}return s}get menuItems(){return[...this.defaultMenuItems,...this.customMenuItems]}get menuIsOpen(){return this._menuIsOpen}get menuIsVisible(){return!(!1===this.visibleElements?.columnMenus||!this.menuItems.length)}closeMenu(){this.menu.open=!1}createSortElement(){const{effectiveLabel:e,direction:t,fieldName:n,initialSortPriority:i}=this,o=document.createElement("vaadin-grid-sorter");return o.classList.add(l.A.sorter),o.setAttribute("path",n),o.setAttribute("title",e),o.textContent=e,t&&o.setAttribute("direction",t),null!=i&&(o._initialOrder=i),o.addEventListener("direction-changed",(()=>{this.direction!==o.direction&&this._set("direction",o.direction)})),o}createCalciteAction(e){const t=document.createElement("calcite-action"),{alignment:n,appearance:i,className:o,disabled:s,icon:r,label:a,scale:l,slot:c,text:d,textEnabled:p,onclick:u}=e;return t.alignment=n??"center",t.appearance=i??"transparent",t.className=o??"",t.disabled=!!s,t.icon=r??"",t.label=a??"",t.scale=l??"s",t.slot=c??"",t.text=t.title=d??"",t.textEnabled=!!p,t.onclick=u??null,t}createCalciteButton(e){const t=document.createElement("calcite-button"),{alignment:n,appearance:i,className:o,disabled:s,iconEnd:r,iconFlipRtl:a,kind:l,loading:c,onclick:d,scale:p,textContent:u,title:m,width:h}=e;return t.alignment=n??"center",t.className=o??"",t.scale=p??"s",t.appearance=i??"transparent",t.disabled=!!s,t.iconEnd=r??"",a&&(t.iconFlipRtl=a),t.kind=l??"brand",t.loading=!!c,t.textContent=u??"",m&&(t.title=m),t.width=h??"auto",t.onclick=d??null,t}createCalciteDropdownItem(e){const t=document.createElement("calcite-dropdown-item"),{disabled:n,hidden:i,iconClass:o,iconStart:s,textContent:r,onclick:a,selected:c}=e,d=r??"";if(o&&!s){const e=document.createElement("span"),n=document.createElement("span");n.classList.add(l.A.headerMenuIcon,o),e.textContent=e.title=d,e.insertBefore(n,e.firstChild),t.appendChild(e)}else t.iconStart=s??"",t.textContent=t.title=d;return t.disabled=!!n,t.hidden="function"==typeof i?i():!!i,t.selected=!!c,a&&(t.addEventListener("calciteDropdownItemSelect",a),t.onkeydown=this._stopPropagationOnSelect),t}createCalciteIcon(e){const{effectiveLabel:t}=this,{icon:n,scale:i,textLabel:o}=e,s=document.createElement("calcite-icon"),r=o??t;return s.icon=n,s.scale=i??"s",s.textLabel=r,s.title=r,s}createHeaderContent(){const{effectiveDescription:e,effectiveLabel:t,iconNode:n}=this,i=document.createElement("div");if(i.classList.add(l.A.headerContent),n&&i.appendChild(n),!this._headerRequiresTextContainer)return i;const o=i.appendChild(document.createElement("div"));return this.sortable?o.appendChild(this.sortElement):""!==t&&o.appendChild(this._createHeaderTextElement(t,l.A.headerLabel)),null!=e&&!1!==this.visibleElements?.columnDescriptions&&o.appendChild(this._createHeaderTextElement(e,l.A.headerDescription)),this.menuIsVisible&&i.appendChild(this.menu),i}getCellValue(e){return e?.item.feature.attributes?.[this.fieldName]}getVirtualRowIndex(e){const t=this.grid?.getRowContainingNode(e);return t?.parentElement?[...t.parentElement.children].indexOf(t):-1}removeCellContent(e){if(e&&e.firstChild)try{for(;e?.firstChild;)e?.removeChild(e.firstChild)}catch(t){}}openMenu(){this.menuIsVisible&&(this.menu.open=!0,(0,p.Z6)(this.menuItems[0]))}sort(){this.sortable&&this.sortElement?.click()}_stopPropagationOnSelect(e){"Enter"!==e.key&&" "!==e.key||e.stopPropagation()}_createHeaderTextElement(e,t){const n=document.createElement("span"),i=e??"";n.classList.add(t);const o=n.appendChild(document.createElement("span"));return o.textContent=i,o.setAttribute("title",i),n}};(0,i._)([(0,r.MZ)()],u.prototype,"_headerRequiresTextContainer",null),(0,i._)([(0,r.MZ)()],u.prototype,"_menuIsOpen",void 0),(0,i._)([(0,r.MZ)()],u.prototype,"autoWidth",void 0),(0,i._)([(0,r.MZ)()],u.prototype,"cellValueFormatFunction",void 0),(0,i._)([(0,r.MZ)()],u.prototype,"customMenuItems",null),(0,i._)([(0,r.MZ)()],u.prototype,"defaultMenuItems",null),(0,i._)([(0,r.MZ)()],u.prototype,"description",void 0),(0,i._)([(0,r.MZ)()],u.prototype,"direction",void 0),(0,i._)([(0,r.MZ)()],u.prototype,"effectiveDescription",null),(0,i._)([(0,r.MZ)()],u.prototype,"effectiveLabel",null),(0,i._)([(0,r.MZ)({constructOnly:!0})],u.prototype,"fieldName",void 0),(0,i._)([(0,r.MZ)()],u.prototype,"flexGrow",void 0),(0,i._)([(0,r.MZ)()],u.prototype,"footerRenderFunction",void 0),(0,i._)([(0,r.MZ)()],u.prototype,"formatFunction",void 0),(0,i._)([(0,r.MZ)()],u.prototype,"frozen",void 0),(0,i._)([(0,r.MZ)()],u.prototype,"frozenToEnd",void 0),(0,i._)([(0,r.MZ)()],u.prototype,"grid",void 0),(0,i._)([(0,r.MZ)()],u.prototype,"iconNode",null),(0,i._)([(0,r.MZ)()],u.prototype,"invalid",null),(0,i._)([(0,r.MZ)()],u.prototype,"headerRenderFunction",void 0),(0,i._)([(0,r.MZ)()],u.prototype,"hidden",void 0),(0,i._)([(0,r.MZ)()],u.prototype,"icon",void 0),(0,i._)([(0,r.MZ)()],u.prototype,"iconText",void 0),(0,i._)([(0,r.MZ)({constructOnly:!0})],u.prototype,"initialSortPriority",void 0),(0,i._)([(0,r.MZ)()],u.prototype,"label",void 0),(0,i._)([(0,r.MZ)()],u.prototype,"menu",null),(0,i._)([(0,r.MZ)()],u.prototype,"menuItems",null),(0,i._)([(0,r.MZ)()],u.prototype,"menuConfig",void 0),(0,i._)([(0,r.MZ)()],u.prototype,"menuIsOpen",null),(0,i._)([(0,r.MZ)()],u.prototype,"menuIsVisible",null),(0,i._)([(0,r.MZ)()],u.prototype,"messages",void 0),(0,i._)([(0,r.MZ)()],u.prototype,"messagesCommon",void 0),(0,i._)([(0,r.MZ)()],u.prototype,"messagesURIUtils",void 0),(0,i._)([(0,r.MZ)()],u.prototype,"renderFunction",void 0),(0,i._)([(0,r.MZ)()],u.prototype,"resizable",void 0),(0,i._)([(0,r.MZ)()],u.prototype,"sortable",void 0),(0,i._)([(0,r.MZ)({readOnly:!0})],u.prototype,"sortElement",void 0),(0,i._)([(0,r.MZ)()],u.prototype,"store",void 0),(0,i._)([(0,r.MZ)()],u.prototype,"tableTimeZone",void 0),(0,i._)([(0,r.MZ)()],u.prototype,"textAlign",void 0),(0,i._)([(0,r.MZ)()],u.prototype,"textWrap",void 0),(0,i._)([(0,r.MZ)()],u.prototype,"timeZone",void 0),(0,i._)([(0,r.MZ)()],u.prototype,"visibleElements",void 0),(0,i._)([(0,r.MZ)()],u.prototype,"width",void 0),u=(0,i._)([(0,a.$)("esri.widgets.FeatureTable.Grid.Column")],u);const m=u},98461:(e,t,n)=>{n.d(t,{$m:()=>b,A5:()=>p,Dv:()=>g,Gx:()=>I,He:()=>c,Kc:()=>y,TV:()=>h,UI:()=>v,YX:()=>_,aq:()=>C,cS:()=>m,d0:()=>l,hg:()=>a,iH:()=>M,k$:()=>s,pJ:()=>u,sR:()=>f,xf:()=>d,zz:()=>r});var i=n(54057),o=n(49403);const s={action:"EsriFeatureTableActionColumn",attachments:"EsriFeatureTableAttachmentsColumn",relationship:"EsriFeatureTableRelationshipColumn"},r=()=>Promise.all([(0,o.W)({"action-bar":()=>Promise.all([n.e(86290),n.e(74597),n.e(36334)]).then(n.bind(n,36334))}),Promise.all([(0,o.W)({input:()=>n.e(46138).then(n.bind(n,46138)),option:()=>n.e(99163).then(n.bind(n,99163)),select:()=>n.e(34280).then(n.bind(n,34280)),"input-date-picker":()=>Promise.all([n.e(86290),n.e(42015),n.e(57020)]).then(n.bind(n,57020)),"input-time-picker":()=>Promise.all([n.e(86290),n.e(74597),n.e(42015),n.e(40435)]).then(n.bind(n,40435))}),(0,o.W)({action:()=>n.e(88342).then(n.bind(n,88342)),button:()=>Promise.resolve().then(n.bind(n,20423)),dropdown:()=>n.e(41631).then(n.bind(n,41631)),"dropdown-item":()=>n.e(54055).then(n.bind(n,54055)),"dropdown-group":()=>n.e(90553).then(n.bind(n,90553)),icon:()=>Promise.resolve().then(n.bind(n,92439))})])]);function a(e){return null!=e&&"object"==typeof e&&"createQuery"in e&&"getField"in e&&"queryFeatureCount"in e&&"queryFeatures"in e&&"queryObjectIds"in e&&"capabilities"in e&&"fields"in e&&"fieldsIndex"in e&&"id"in e&&"load"in e&&"objectIdField"in e&&"type"in e&&"when"in e}function l(e){return a(e)&&"queryAttachments"in e}function c(e){return l(e)&&"addAttachment"in e&&"deleteAttachments"in e&&"updateAttachment"in e}function d(e){return a(e)&&"editingEnabled"in e&&"applyEdits"in e}function p(e){return a(e)&&"relationships"in e&&"queryRelatedFeatures"in e&&"queryRelatedFeaturesCount"in e}function u(e){return null!=e&&"object"==typeof e&&"type"in e&&"map-image"===e.type}function m(e,t,n){if(t?.map)return h(e,[...t.map.allLayers,...t.map.allTables],n)}function h(e,t,n){let{relatedTableId:i}=n;const o="scene"===e.type&&e.associatedLayer?e.associatedLayer.url:e.url,s=t=>!(!p(t)||t===e)&&("sublayer"===t.type&&t.layer?.url===e.url?t.id===i:o===t.url&&t.layerId===i);if("sublayer"===e.type&&u(e.parent)){const t=t=>p(t)&&t!==e&&t.id===i,n=e.parent,o=n.sublayers?.find(t)||n.subtables?.find(t);if(p(o))return o}let r=null;for(const a of t)if(u(a)){const e=a.sublayers?.find(s)||a.subtables?.find(s);if(e){r=e;break}}else if(s(a)){r=a;break}if(p(r))return r}function f(e,t){return null!=e&&Number.isInteger(e)&&e>-1&&e<t}function b(e){return null==e||0===e.trim().length}function g(e,t){return(e.relationships??[]).filter((e=>!(e.id===t&&"one-to-one"===e.cardinality))).map((e=>{let{id:t}=e;return{relationshipId:t}}))}function y(e,t){return e.relationships?.find((e=>{let{id:n}=e;return n===t}))}function v(e,t){return null==t?null:e?.fields?.find((e=>t.toLowerCase()===e.name?.toLowerCase()))}function _(e,t){return t.some((t=>!("group"!==t.type||!_(e,t.columnTemplates))||t.fieldName===e))}function C(e,t){return t?.some((t=>!(!(0,i.Ie)(t)||!C(e,t.columns))||t.fieldName===e))??!1}function M(e,t){return`${e.id}-${t}`}function I(e){return e.isTable?"table":"feature"===e.type?"feature-layer":"layer"}}}]);