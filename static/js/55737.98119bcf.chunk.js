"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[55737,79538],{28245:(e,t,a)=>{a.d(t,{bG:()=>o,Ty:()=>l,YJ:()=>m,Fq:()=>u,vt:()=>i});var n=a(82301),r=a(79538);class s{constructor(e){const{name:t,label:a,description:n,schemes:s}=e;this.name=t,this.label=a,this.description=n,this.schemes=s;const o=e.basemapGroups||r.Np;let i=[];Object.keys(o).forEach((e=>{i=i.concat(o[e])})),this.supportedBasemaps=i,this.basemapGroups=o}isBasemapSupported(e){const t=(0,r.T1)(e,this.supportedBasemaps);return!(!t||!this.supportedBasemaps.includes(t))}getRawSchemes(e){const{basemapId:t,basemapTheme:a}=function(e,t,a){let n=null,s=null;if(t&&(n=(0,r.T1)(t,e,!1),n)){const e=(0,r.BV)(n);null!=e&&(s=e)}return!n&&a&&(n="dark"===a?"dark-gray":"gray",s=a),n||s||(n="gray",s="light"),{basemapId:n,basemapTheme:s}}(this.supportedBasemaps,e.basemap,e.basemapTheme);let s=a;if(t){const e=(0,r.BV)(t,this.basemapGroups);null!=e&&(s=e)}let o=e.geometryType;"multipoint"===o?o="point":"mesh"===o&&(o="polygon");const i=this.schemes[o]||this.schemes.default;return{schemesInfo:(0,n.clone)(i[s]),basemapId:t,basemapTheme:a}}}function o(e){const t=e.themeDictionary,a=new Map;for(const n in t){const e=t[n];a.set(n,new s(e))}return a}function i(e,t){const a=[];return e.forEach((e=>{e.isBasemapSupported(t)&&a.push({name:e.name,label:e.label,description:e.description,basemaps:[...e.supportedBasemaps]})})),a}function l(e,t){if(!e)return;if(!t)return;let a=null;const n=[t.primaryScheme,...t.secondarySchemes];for(const r of n)if(r.name?.toLowerCase()===e.toLowerCase()){a=r;break}return a}function m(e,t,a){if(!e&&!t)return[];if(!a)return[];const n=!e?.length,r=!t?.length,s=[a.primaryScheme,...a.secondarySchemes],o=[];for(const i of s){const a=!!n||e.some((e=>i.tags.includes(e))),s=!r&&t.some((e=>i.tags.includes(e)));a&&!s&&o.push(i)}return o}function u(e){const t=e.theme;if(t)return t.getRawSchemes({basemap:e.basemap,geometryType:e.geometryType,basemapTheme:e.basemapTheme})}},55737:(e,t,a)=>{a.r(t),a.d(t,{cloneScheme:()=>p,getSchemeByName:()=>u,getSchemes:()=>m,getSchemesByTag:()=>c,getThemes:()=>l});var n=a(88102),r=a(62631),s=a(43073),o=a(28245);const i=(0,o.bG)({themeDictionary:{default:{name:"default",label:"Default",description:"Default theme for visualizing features using heatmap.",schemes:{default:{light:{primary:"heatmap-v1",secondary:["heatmap-v2","heatmap-v3","heatmap-plasma","heatmap-cividis","neutral-yellow-orange","neutral-yellow-green","neutral-yellow-purple","neutral-yellow-magenta","neutral-white-blue","neutral-white-blue-metal","neutral-white-gold","neutral-yellow-bronze","heatmap-v4","heatmap-viridis","heatmap-magma","heatmap-inferno","dark-yellow-orange","dark-yellow-green","dark-yellow-purple","dark-yellow-magenta","dark-white-blue","dark-white-blue-metal","dark-white-gold","dark-yellow-bronze"]},dark:{primary:"heatmap-v4",secondary:["heatmap-inferno","heatmap-viridis","heatmap-magma","dark-white-blue","dark-yellow-orange","dark-yellow-green","dark-yellow-purple","dark-yellow-magenta","dark-white-blue-metal","dark-white-gold","dark-yellow-bronze","heatmap-v1","heatmap-v2","heatmap-v3","heatmap-plasma","heatmap-cividis","neutral-yellow-orange","neutral-yellow-green","neutral-yellow-purple","neutral-yellow-magenta","neutral-white-blue","neutral-white-blue-metal","neutral-white-gold","neutral-yellow-bronze"]}}}}}});function l(e){return(0,o.vt)(i,e)}function m(e){const t="default",a=(0,o.Fq)({basemap:e.basemap,basemapTheme:e.basemapTheme,theme:i.get(t)});if(!a)return;const{schemesInfo:n,basemapId:s,basemapTheme:l}=a,m=`${t}/${s}/`;return{primaryScheme:d(n.primary,m+n.primary),secondarySchemes:n.secondary.map((e=>d(e,m+e))).filter(r.Ru),basemapId:s,basemapTheme:l}}function u(e){return(0,o.Ty)(e.name,m(e))}function c(e){return(0,o.YJ)(e.includedTags,e.excludedTags,m(e))}function p(e){if(!e)return;const t={...e};return t.colors=t.colors.map((e=>new n.default(e))),t.tags=[...t.tags],t}function d(e,t){const a=s.A[e];if(a)return function(e){return{id:e.id,name:e.name,tags:[...e.tags],colors:e.colors.map((e=>new n.default(e))),opacity:e.opacity}}({id:t,name:a.name,tags:a.tags,colors:a.stops??[],opacity:.7})}},79538:(e,t,a)=>{a.d(t,{BV:()=>D,EG:()=>b,Lk:()=>$,Ll:()=>Z,Np:()=>u,R3:()=>B,SO:()=>h,T1:()=>F,UH:()=>m,Wy:()=>v,XR:()=>d,aM:()=>S,fs:()=>w,i0:()=>C,i3:()=>y});var n=a(66845),r=a(95011),s=a(96247),o=a(76983),i=a(73210),l=a(40731);const m=",",u={light:["streets","gray","topo","terrain","oceans","osm","gray-vector","streets-vector","topo-vector","streets-relief-vector","streets-navigation-vector","topo-3d","navigation-3d","streets-3d","osm-3d","gray-3d"],dark:["satellite","hybrid","dark-gray","dark-gray-vector","streets-night-vector","navigation-dark-3d","streets-dark-3d","dark-gray-3d"]},c="percent-of-total",p="field",d={exclude:["median"]},h={years:365,months:30,days:1,hours:1/24,minutes:1/1440,seconds:1/86400,milliseconds:1/864e5},f=new Set(["integer","small-integer"]);let g=null;const y=["date","date-only","timestamp-offset"];function w(e){return(0,r.isDateField)(e)||(0,r.isDateOnlyField)(e)||(0,r.isTimestampOffsetField)(e)}async function b(e){const{field:t,field2:a,field3:n,normalizationField:r,valueExpression:o}=e;let i=[];if(o){if(!g){const{arcadeUtils:e}=await(0,s.lw)();g=e}i=g.extractFieldNames(o)}return t&&i.push(t),a&&i.push(a),n&&i.push(n),r&&i.push(r),i}function v(e){let t=e.normalizationType;return t||(e.normalizationField?t=p:null!=e.normalizationTotal&&(t=c)),t??void 0}function T(e){return String(e).padStart(2,"0")}function k(e,t,a){let n;return"date"===t||"number"===t?("number"===t&&(e=new Date(e)),n=`TIMESTAMP'${a?e.getFullYear():e.getUTCFullYear()}-${T((a?e.getMonth():e.getUTCMonth())+1)}-${T(a?e.getDate():e.getUTCDate())} ${T(a?e.getHours():e.getUTCHours())}:${T(a?e.getMinutes():e.getUTCMinutes())}:${T(a?e.getSeconds():e.getUTCSeconds())}'`):n=e,n}function S(e,t,a,n){const{hasQueryEngine:r}=e,s=`(${k(a,$(e,a),r)} - ${k(t,$(e,t),r)})`;let o=h[n],i="/";return o<1&&(o=1/o,i="*"),{sqlExpression:1===o?s:`(${s} ${i} ${o})`,sqlWhere:null}}function $(e,t){if(t instanceof Date)return"date";if("number"==typeof t)return"number";if("string"==typeof t){const a=e.getField(t);if("<now>"===t.toLowerCase())return;if((0,r.isDateField)(a))return"field"}}function D(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;for(const a in t)if(t[a].includes(e))return a}function F(e,t){let a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=null;return e&&("string"==typeof e?t.includes(e)&&(n=e):n=(0,o.q3)(e)),a?n||"gray":n}function B(e,t){const a=t&&e.getField(t);return!!a&&f.has(a.type)}function Z(e){return`cast(${e} as float)`}function C(e,t){const{format:a,timeZoneOptions:r,fieldType:s}=t??{};let o,m;if(r&&({timeZone:o,timeZoneName:m}=(0,l.hv)(r.layerTimeZone,r.datesInUnknownTimezone,r.viewTimeZone,(0,n.J2)(a||"short-date-short-time"),s)),"string"==typeof e&&isNaN(Date.parse("time-only"===s?`1970-01-01T${e}Z`:e)))return e;switch(s){case"date-only":{const t=(0,n.J2)(a||"short-date");return"string"==typeof e?(0,n.iS)(e,{...t}):(0,n.Yq)(e,{...t,timeZone:i.n$})}case"time-only":{const t=(0,n.J2)(a||"short-time");return"string"==typeof e?(0,n.F8)(e,t):(0,n.Yq)(e,{...t,timeZone:i.n$})}case"timestamp-offset":{if(!o&&"string"==typeof e&&new Date(e).toISOString()!==e)return e;const t=a||r?(0,n.J2)(a||"short-date-short-time"):void 0,s=t?{...t,timeZone:o,timeZoneName:m}:void 0;return"string"==typeof e?(0,n.Ey)(e,s):(0,n.Yq)(e,s)}default:{const t=a||r?(0,n.J2)(a||"short-date-short-time"):void 0;return(0,n.Yq)("string"==typeof e?new Date(e):e,t?{...t,timeZone:o,timeZoneName:m}:void 0)}}}}}]);