"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[9036,25955],{2925:(e,r,t)=>{t.d(r,{$:()=>C,IB:()=>l,Iy:()=>B,KV:()=>V,N2:()=>I,QP:()=>R,RH:()=>w,Vl:()=>L,Ws:()=>N,ZD:()=>x,_L:()=>E,bJ:()=>G,e$:()=>T,f6:()=>H,hw:()=>F,pW:()=>P,pf:()=>D,rs:()=>O,sn:()=>_,we:()=>$});var n=t(88102),i=t(62631),o=t(82301),a=t(64682),s=t(60548),c=t(24646);function l(e){return"r"in e&&"g"in e&&"b"in e}function f(e){return"h"in e&&"s"in e&&"v"in e}function u(e){return"l"in e&&"a"in e&&"b"in e}function p(e){return"l"in e&&"c"in e&&"h"in e}const d=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],m=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function h(e,r){const t=[];let n,i;if(e[0].length!==r.length)throw new Error("dimensions do not match");const o=e.length,a=e[0].length;let s=0;for(n=0;n<o;n++){for(s=0,i=0;i<a;i++)s+=e[n][i]*r[i];t.push(s)}return t}function y(e){const r=[e.r/255,e.g/255,e.b/255].map((e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4)),t=h(d,r);return{x:100*t[0],y:100*t[1],z:100*t[2]}}function v(e){const r=h(m,[e.x/100,e.y/100,e.z/100]).map((e=>{const r=e<=.0031308?12.92*e:1.055*e**(1/2.4)-.055;return Math.min(1,Math.max(r,0))}));return{r:Math.round(255*r[0]),g:Math.round(255*r[1]),b:Math.round(255*r[2])}}function b(e){const r=[e.x/95.047,e.y/100,e.z/108.883].map((e=>e>(6/29)**3?e**(1/3):1/3*(29/6)**2*e+4/29));return{l:116*r[1]-16,a:500*(r[0]-r[1]),b:200*(r[1]-r[2])}}function M(e){const r=e.l,t=[(r+16)/116+e.a/500,(r+16)/116,(r+16)/116-e.b/200].map((e=>e>6/29?e**3:3*(6/29)**2*(e-4/29)));return{x:95.047*t[0],y:100*t[1],z:108.883*t[2]}}function g(e){return function(e){const r=e.l,t=e.a,n=e.b,i=Math.sqrt(t*t+n*n);let o=Math.atan2(n,t);return o=o>0?o:o+2*Math.PI,{l:r,c:i,h:o}}(b(y(e)))}function k(e){return v(M(function(e){const r=e.l,t=e.c,n=e.h;return{l:r,a:t*Math.cos(n),b:t*Math.sin(n)}}(e)))}function C(e){return l(e)?e:p(e)?k(e):u(e)?function(e){return v(M(e))}(e):function(e){return"x"in e&&"y"in e&&"z"in e}(e)?v(e):f(e)?function(e){const r=(e.h+360)%360/60,t=e.s/100,n=e.v/100*255,i=n*t,o=i*(1-Math.abs(r%2-1));let a;switch(Math.floor(r)){case 0:a={r:i,g:o,b:0};break;case 1:a={r:o,g:i,b:0};break;case 2:a={r:0,g:i,b:o};break;case 3:a={r:0,g:o,b:i};break;case 4:a={r:o,g:0,b:i};break;case 5:case 6:a={r:i,g:0,b:o};break;default:a={r:0,g:0,b:0}}return a.r=Math.round(a.r+n-i),a.g=Math.round(a.g+n-i),a.b=Math.round(a.b+n-i),a}(e):e}function I(e){return f(e)?e:function(e){const r=e.r,t=e.g,n=e.b,i=Math.max(r,t,n),o=i-Math.min(r,t,n);let a=i,s=0===o?0:i===r?(t-n)/o%6:i===t?(n-r)/o+2:(r-t)/o+4,c=0===o?0:o/a;return s<0&&(s+=6),s*=60,c*=100,a*=100/255,{h:s,s:c,v:a}}(C(e))}function x(e){return u(e)?e:function(e){return b(y(e))}(C(e))}function w(e){return p(e)?e:g(C(e))}function O(e){return S(e).isBright?"light":"dark"}function S(e){let{r:r,g:t,b:i,a:o}=e;return o<1&&(r=Math.round(o*r+255*(1-o)),t=Math.round(o*t+255*(1-o)),i=Math.round(o*i+255*(1-o))),new n.default({r:r,g:t,b:i})}function N(e,r){const{r:t,g:n,b:i}=r?.ignoreAlpha?e:S(e);return.2126*t+.7152*n+.0722*i}var P,A;function G(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P.High;return N(e,{ignoreAlpha:!0})>r?new n.default([0,0,0,e.a]):new n.default([255,255,255,e.a])}function T(e,r){const t=x(e);t.l*=1-r;const n=C(t),i=e.clone();return i.setColor(n),i.a=e.a,i}function E(e,r){const t=e.clone();return t.a*=r,t}function L(e,r){const t=I(e);t.s*=r;const n=C(t),i=e.clone();return i.setColor(n),i.a=e.a,i}function R(e){return n.default.toUnitRGBA(e)}function F(e,r){return e===r||null!=e&&e.equals(r)}function $(e,r){return e===r||null!=e&&null!=r&&(0,s.e)(e,r)}function D(e){return(0,c.fA)(e[0],e[1],e[2],e.length>3?e[3]:1)}function V(e){return e[0]??=0,e[1]??=0,e[2]??=0,e}function _(e){return e.length=4,V(e),e[3]??=1,(0,a.qE)(e[3],0,1),e}function H(e,r){const t=n.default.toUnitRGBA(e);return t[3]*=r,t}function B(e,r){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(0===e.length||r<=0)return[];if(1===(e=e.map((e=>"string"==typeof e?new n.default(e):e))).length||1===r){const t=[],n=e[0];for(let e=0;e<r;e++)t.push(n.clone());return t}if(t.shuffle&&(e=(0,i.k4)((0,o.clone)(e),t.seed)),e.length>=r){const t=[],n=(e.length-1)/(r-1);for(let i=0;i<r;i++){const r=Math.round(i*n);t.push(e[r].clone())}return t}return function(e,r){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=[],o=e.length-1,a=Math.ceil((r-e.length)/o);e:for(let i=0;i<o;i++){const o=e[i],s=e[i+1];for(let i=1;i<=a;i++){const c=i/(a+1);if(n.push(q(o,s,c,t)),n.length+e.length===r)break e}}return[...e.map((e=>e.clone())),...(0,i.k4)(n,t.seed??1)]}(e,r,t)}(A=P||(P={}))[A.Low=160]="Low",A[A.High=225]="High";const z=(e,r)=>{const t=Math.floor(10*r())-5;return Math.min(255,Math.max(0,e+t))};function q(e,r,t){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const a=e.r,s=e.g,c=e.b,l=r.r,f=r.g,u=r.b,p=Math.round(a+(l-a)*t),d=Math.round(s+(f-s)*t),m=Math.round(c+(u-c)*t);if(!o.offset)return new n.default([p,d,m]);const h=(0,i.Mo)(o.seed);return new n.default([z(p,h),z(d,h),z(m,h)])}},9036:(e,r,t)=>{t.d(r,{default:()=>a});var n=t(74719),i=t(50925),o=t(73532);function a(e,r,t,n,o){if(null==e)return null;const a=e.references("geometry")&&o?c(r,n,o):r,s=e.repurposeFeature(a);try{return e.evaluate({...t,$feature:s},e.services)}catch(l){return i.A.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",l),null}}const s=new Map;function c(e,r,t){const{transform:a,hasZ:c,hasM:l}=t;s.has(r)||s.set(r,function(e){const r={};switch(e){case"esriGeometryPoint":return(e,t,n,i)=>(0,o.Tr)(t,r,e,n,i);case"esriGeometryPolygon":return(e,t,n,i)=>(0,o.$X)(t,r,e,n,i);case"esriGeometryPolyline":return(e,t,n,i)=>(0,o.P5)(t,r,e,n,i);case"esriGeometryMultipoint":return(e,t,n,i)=>(0,o.SW)(t,r,e,n,i);default:return i.A.getLogger("esri.views.2d.support.arcadeOnDemand").error(new n.default("mapview-arcade",`Unable to handle geometryType: ${e}`)),e=>e}}(r));const f=s.get(r)(e.geometry,a,c,l);return{...e,geometry:f}}},25955:(e,r,t)=>{t.d(r,{OverrideHelper:()=>f});var n=t(88102),i=t(2925),o=t(82301),a=t(96247),s=t(61154),c=t(9036);const l=e=>{if(!e)return[0,0,0,0];const{r:r,g:t,b:n,a:i}=e;return[r,t,n,255*i]};class f{static findApplicableOverrides(e,r,t){if(e&&r){if(e.primitiveName){let n=!1;for(const r of t)if(r.primitiveName===e.primitiveName){n=!0;break}if(!n)for(const i of r)i.primitiveName===e.primitiveName&&t.push(i)}switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(e.effects)for(const n of e.effects)f.findApplicableOverrides(n,r,t);if(e.symbolLayers)for(const n of e.symbolLayers)f.findApplicableOverrides(n,r,t);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":case"CIMSolidFill":case"CIMPictureFill":case"CIMHatchFill":case"CIMGradientFill":case"CIMVectorMarker":case"CIMCharacterMarker":case"CIMPictureMarker":if(e.effects)for(const n of e.effects)f.findApplicableOverrides(n,r,t);if(e.markerPlacement&&f.findApplicableOverrides(e.markerPlacement,r,t),"CIMVectorMarker"===e.type){if(e.markerGraphics)for(const n of e.markerGraphics)f.findApplicableOverrides(n,r,t),f.findApplicableOverrides(n.symbol,r,t)}else"CIMCharacterMarker"===e.type?f.findApplicableOverrides(e.symbol,r,t):"CIMHatchFill"===e.type?f.findApplicableOverrides(e.lineSymbol,r,t):"CIMPictureMarker"===e.type&&f.findApplicableOverrides(e.animatedSymbolProperties,r,t)}}}static findEffectOverrides(e,r){if(!e)return null;if("CIMGeometricEffectDashes"===e.type&&(0,s.FH)(e),!r||!e.primitiveName)return{type:"cim-effect-param",effect:e,overrides:[]};const t=(0,s.rB)(e),n=e.primitiveName,i=[];for(const o of r)o.primitiveName===n&&i.push((0,s.rB)(o));return{type:"cim-effect-param",effect:t,overrides:(0,s.pk)(i)}}static async resolveSymbolOverrides(e,r,t,n,i,a,c){if(!e?.symbol)return null;let{symbol:l,primitiveOverrides:u}=e;const p=!!u;if(!p&&!n)return l;l=(0,o.clone)(l),u=(0,o.clone)(u);let d=!0;if(r||(r={attributes:{}},d=!1),p){if(d||(u=u.filter((e=>!e.valueExpressionInfo?.expression.includes("$feature")))),c||(u=u.filter((e=>!e.valueExpressionInfo?.expression.includes("$view")))),u.length>0){const e={spatialReference:t,fields:(0,s.O2)(r.attributes),geometryType:i};await f.createRenderExpressions(u,e),f.evaluateOverrides(u,r,i??"esriGeometryPoint",a,c)}f.applyOverrides(l,u)}return n&&f.applyDictionaryTextOverrides(l,r,n,null),l}static async createRenderExpressions(e,r){const t=[];for(const n of e){const e=n.valueExpressionInfo;if(!e||f._expressionToRenderExpression.has(e.expression))continue;const i=(0,a.Ad)(e.expression,r.spatialReference,r.fields);t.push(i),i.then((r=>f._expressionToRenderExpression.set(e.expression,r)))}t.length>0&&await Promise.all(t)}static evaluateOverrides(e,r,t,n,o){const a={$view:{scale:o?.scale}};for(const s of e){s.value&&"object"==typeof s.value&&(0,i.IB)(s.value)&&("Color"===s.propertyName||"StrokeColor"===s.propertyName)&&(s.value=l(s.value));const e=s.valueExpressionInfo;if(!e)continue;const o=f._expressionToRenderExpression.get(e.expression);o&&(s.value=(0,c.default)(o,r,a,t,n))}}static applyDictionaryTextOverrides(e,r,t,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Normal";if(e?.type)switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":case"CIMTextSymbol":{const o=e.symbolLayers;if(!o)return;for(const a of o)a&&"CIMVectorMarker"===a.type&&f.applyDictionaryTextOverrides(a,r,t,n,"CIMTextSymbol"===e.type?e.textCase:i)}break;case"CIMVectorMarker":{const i=e.markerGraphics;if(!i)return;for(const e of i)e&&f.applyDictionaryTextOverrides(e,r,t,n)}break;case"CIMMarkerGraphic":{const o=e.textString;if(o&&o.includes("[")){const a=(0,s.gQ)(o,t);e.textString=(0,s.FM)(r,a,n,i)}}}}static applyOverrides(e,r,t,n){if(e.primitiveName)for(const i of r)if(i.primitiveName===e.primitiveName){const r=(0,s.YF)(i.propertyName);if(n&&n.push({cim:e,nocapPropertyName:r,value:e[r]}),t){let r=!1;for(const n of t)n.primitiveName===e.primitiveName&&(r=!0);r||t.push(i)}null!=i.value&&(e[r]=i.value)}switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(e.effects)for(const i of e.effects)f.applyOverrides(i,r,t,n);if(e.symbolLayers)for(const i of e.symbolLayers)f.applyOverrides(i,r,t,n);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMSolidFill":case"CIMVectorMarker":if(e.effects)for(const i of e.effects)f.applyOverrides(i,r,t,n);if("CIMVectorMarker"===e.type&&e.markerGraphics)for(const i of e.markerGraphics)f.applyOverrides(i,r,t,n),f.applyOverrides(i.symbol,r,t,n)}}static restoreOverrides(e){for(const r of e)r.cim[r.nocapPropertyName]=r.value}static buildOverrideKey(e){let r="";for(const t of e)void 0!==t.value&&(r+=`${t.primitiveName}${t.propertyName}${JSON.stringify(t.value)}`);return r}static toValue(e,r){if("DashTemplate"===e)return r.split(" ").map((e=>Number(e)));if("Color"===e){const e=new n.default(r).toRgba();return e[3]*=255,e}return r}}f._expressionToRenderExpression=new Map}}]);