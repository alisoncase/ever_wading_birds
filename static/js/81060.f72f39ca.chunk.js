"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[79538,81060],{28245:(e,t,n)=>{n.d(t,{bG:()=>o,Ty:()=>c,YJ:()=>l,Fq:()=>u,vt:()=>a});var s=n(82301),r=n(79538);class i{constructor(e){const{name:t,label:n,description:s,schemes:i}=e;this.name=t,this.label=n,this.description=s,this.schemes=i;const o=e.basemapGroups||r.Np;let a=[];Object.keys(o).forEach((e=>{a=a.concat(o[e])})),this.supportedBasemaps=a,this.basemapGroups=o}isBasemapSupported(e){const t=(0,r.T1)(e,this.supportedBasemaps);return!(!t||!this.supportedBasemaps.includes(t))}getRawSchemes(e){const{basemapId:t,basemapTheme:n}=function(e,t,n){let s=null,i=null;if(t&&(s=(0,r.T1)(t,e,!1),s)){const e=(0,r.BV)(s);null!=e&&(i=e)}return!s&&n&&(s="dark"===n?"dark-gray":"gray",i=n),s||i||(s="gray",i="light"),{basemapId:s,basemapTheme:i}}(this.supportedBasemaps,e.basemap,e.basemapTheme);let i=n;if(t){const e=(0,r.BV)(t,this.basemapGroups);null!=e&&(i=e)}let o=e.geometryType;"multipoint"===o?o="point":"mesh"===o&&(o="polygon");const a=this.schemes[o]||this.schemes.default;return{schemesInfo:(0,s.clone)(a[i]),basemapId:t,basemapTheme:n}}}function o(e){const t=e.themeDictionary,n=new Map;for(const s in t){const e=t[s];n.set(s,new i(e))}return n}function a(e,t){const n=[];return e.forEach((e=>{e.isBasemapSupported(t)&&n.push({name:e.name,label:e.label,description:e.description,basemaps:[...e.supportedBasemaps]})})),n}function c(e,t){if(!e)return;if(!t)return;let n=null;const s=[t.primaryScheme,...t.secondarySchemes];for(const r of s)if(r.name?.toLowerCase()===e.toLowerCase()){n=r;break}return n}function l(e,t,n){if(!e&&!t)return[];if(!n)return[];const s=!e?.length,r=!t?.length,i=[n.primaryScheme,...n.secondarySchemes],o=[];for(const a of i){const n=!!s||e.some((e=>a.tags.includes(e))),i=!r&&t.some((e=>a.tags.includes(e)));n&&!i&&o.push(a)}return o}function u(e){const t=e.theme;if(t)return t.getRawSchemes({basemap:e.basemap,geometryType:e.geometryType,basemapTheme:e.basemapTheme})}},42648:(e,t,n)=>{n.d(t,{_J:()=>l,_t:()=>c});var s=n(16804),r=n(79538);const i=r.Np.light,o=r.Np.dark;function a(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b}function c(e,t){let n=0;if(e.length===t.length){let s=e.every(((e,n)=>a(e,t[n])));s?n=1:(s=e.slice().reverse().every(((e,n)=>a(e,t[n]))),s&&(n=-1))}return n}function l(e,t){return Math.ceil(function(e){const t=e.width,n=e.height;let r=e.pixelSizeAt(e.toMap((0,s.tc)(.5*t,.5*n),{exclude:[]}));if(r<=0&&(r=e.pixelSizeAt(e.toMap((0,s.tc)(.5*t,.95*n),{exclude:[]})),r<=0&&"camera"in e)){const t=e.camera.position.clone();t.z=0,r=2*e.pixelSizeAt(t)}return r}(t)*(0,s.Lz)((0,s.cr)(e)))}},79538:(e,t,n)=>{n.d(t,{BV:()=>F,EG:()=>v,Lk:()=>$,Ll:()=>D,Np:()=>u,R3:()=>C,SO:()=>f,T1:()=>Z,UH:()=>l,Wy:()=>T,XR:()=>d,aM:()=>k,fs:()=>b,i0:()=>M,i3:()=>y});var s=n(66845),r=n(95011),i=n(96247),o=n(76983),a=n(73210),c=n(40731);const l=",",u={light:["streets","gray","topo","terrain","oceans","osm","gray-vector","streets-vector","topo-vector","streets-relief-vector","streets-navigation-vector","topo-3d","navigation-3d","streets-3d","osm-3d","gray-3d"],dark:["satellite","hybrid","dark-gray","dark-gray-vector","streets-night-vector","navigation-dark-3d","streets-dark-3d","dark-gray-3d"]},m="percent-of-total",p="field",d={exclude:["median"]},f={years:365,months:30,days:1,hours:1/24,minutes:1/1440,seconds:1/86400,milliseconds:1/864e5},h=new Set(["integer","small-integer"]);let g=null;const y=["date","date-only","timestamp-offset"];function b(e){return(0,r.isDateField)(e)||(0,r.isDateOnlyField)(e)||(0,r.isTimestampOffsetField)(e)}async function v(e){const{field:t,field2:n,field3:s,normalizationField:r,valueExpression:o}=e;let a=[];if(o){if(!g){const{arcadeUtils:e}=await(0,i.lw)();g=e}a=g.extractFieldNames(o)}return t&&a.push(t),n&&a.push(n),s&&a.push(s),r&&a.push(r),a}function T(e){let t=e.normalizationType;return t||(e.normalizationField?t=p:null!=e.normalizationTotal&&(t=m)),t??void 0}function w(e){return String(e).padStart(2,"0")}function S(e,t,n){let s;return"date"===t||"number"===t?("number"===t&&(e=new Date(e)),s=`TIMESTAMP'${n?e.getFullYear():e.getUTCFullYear()}-${w((n?e.getMonth():e.getUTCMonth())+1)}-${w(n?e.getDate():e.getUTCDate())} ${w(n?e.getHours():e.getUTCHours())}:${w(n?e.getMinutes():e.getUTCMinutes())}:${w(n?e.getSeconds():e.getUTCSeconds())}'`):s=e,s}function k(e,t,n,s){const{hasQueryEngine:r}=e,i=`(${S(n,$(e,n),r)} - ${S(t,$(e,t),r)})`;let o=f[s],a="/";return o<1&&(o=1/o,a="*"),{sqlExpression:1===o?i:`(${i} ${a} ${o})`,sqlWhere:null}}function $(e,t){if(t instanceof Date)return"date";if("number"==typeof t)return"number";if("string"==typeof t){const n=e.getField(t);if("<now>"===t.toLowerCase())return;if((0,r.isDateField)(n))return"field"}}function F(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;for(const n in t)if(t[n].includes(e))return n}function Z(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=null;return e&&("string"==typeof e?t.includes(e)&&(s=e):s=(0,o.q3)(e)),n?s||"gray":s}function C(e,t){const n=t&&e.getField(t);return!!n&&h.has(n.type)}function D(e){return`cast(${e} as float)`}function M(e,t){const{format:n,timeZoneOptions:r,fieldType:i}=t??{};let o,l;if(r&&({timeZone:o,timeZoneName:l}=(0,c.hv)(r.layerTimeZone,r.datesInUnknownTimezone,r.viewTimeZone,(0,s.J2)(n||"short-date-short-time"),i)),"string"==typeof e&&isNaN(Date.parse("time-only"===i?`1970-01-01T${e}Z`:e)))return e;switch(i){case"date-only":{const t=(0,s.J2)(n||"short-date");return"string"==typeof e?(0,s.iS)(e,{...t}):(0,s.Yq)(e,{...t,timeZone:a.n$})}case"time-only":{const t=(0,s.J2)(n||"short-time");return"string"==typeof e?(0,s.F8)(e,t):(0,s.Yq)(e,{...t,timeZone:a.n$})}case"timestamp-offset":{if(!o&&"string"==typeof e&&new Date(e).toISOString()!==e)return e;const t=n||r?(0,s.J2)(n||"short-date-short-time"):void 0,i=t?{...t,timeZone:o,timeZoneName:l}:void 0;return"string"==typeof e?(0,s.Ey)(e,i):(0,s.Yq)(e,i)}default:{const t=n||r?(0,s.J2)(n||"short-date-short-time"):void 0;return(0,s.Yq)("string"==typeof e?new Date(e):e,t?{...t,timeZone:o,timeZoneName:l}:void 0)}}}}}]);