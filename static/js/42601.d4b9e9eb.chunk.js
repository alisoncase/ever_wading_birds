"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[42601],{42601:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var r=n(93800),o=n(64682),s=n(16804),a=n(48602),i=(n(21265),n(50925),n(14746),n(75269)),l=n(12147),c=n(12560),u=n(65920),p=n(96913),x=n(95617);let h=class extends x.A{constructor(e){super(e),this.extent=null,this.rotation=0,this.type="extent-and-rotation"}get coords(){if(null==this.extent)return null;const{xmin:e,ymin:t,xmax:n,ymax:r,spatialReference:o}=this.extent;let s;if(this.rotation){const{x:o,y:a}=this.extent.center,i=f(o,a,this.rotation);s=[i(e,t),i(e,r),i(n,r),i(n,t)],s.push(s[0])}else s=[[e,t],[e,r],[n,r],[n,t],[e,t]];return new u.default({rings:[s],spatialReference:o})}set coords(e){if(null==e||null==this.extent)return;const t=this.extent.spatialReference;if(e=this.projectOrWarn(e,t),null==e?.extent)return;const{rings:[[n,r,s]],extent:{center:{x:a,y:i}}}=e,l=(0,o.KJ)(Math.PI/2-Math.atan2(r[1]-n[1],r[0]-n[0])),u=f(a,i,-l),[p,x]=u(n[0],n[1]),[h,d]=u(s[0],s[1]);this.extent=new c.default({xmin:p,ymin:x,xmax:h,ymax:d,spatialReference:t}),this.rotation=l}toSourceNormalized(e){const{extent:t,rotation:n}=this;if(null==e||null==t)return null;const{xmin:r,ymin:a,xmax:i,ymax:l,center:c,spatialReference:u}=t;e=e.normalize();const x=(0,p.projectOrLoad)(e,u).geometry;if(null==x)return null;let h=x.x,d=x.y;return n&&([h,d]=f(c.x,c.y,-n)(h,d)),(0,s.tc)((0,o.hs)(h,r,i,0,1),(0,o.hs)(d,l,a,0,1))}};function f(e,t,n){const r=(0,l.DF)(n),o=Math.cos(r),s=Math.sin(r);return(n,r)=>[o*(n-e)+s*(r-t)+e,o*(r-t)-s*(n-e)+t]}(0,r._)([(0,a.MZ)({clonable:!1})],h.prototype,"coords",null),(0,r._)([(0,a.MZ)({type:c.default})],h.prototype,"extent",void 0),(0,r._)([(0,a.MZ)({type:Number})],h.prototype,"rotation",void 0),h=(0,r._)([(0,i.$)("esri.layers.support.ExtentAndRotationGeoreference")],h);const d=h},95617:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(93800),o=n(85715),s=n(50925),a=(n(21265),n(14746),n(74719),n(75269)),i=n(96913);let l=class extends o.A{projectOrWarn(e,t){if(null==e)return e;const{geometry:n,pending:r}=(0,i.projectOrLoad)(e,t);return r?null:r||n?n:(s.A.getLogger(this).warn("geometry could not be projected to the spatial reference",{georeference:this,geometry:e,sourceSpatialReference:e.spatialReference,targetSpatialReference:t}),null)}};l=(0,r._)([(0,a.$)("esri.layers.support.GeoreferenceBase")],l);const c=l}}]);