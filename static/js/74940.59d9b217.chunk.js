"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[3885,26266,71028,74940],{26266:(e,t,n)=>{n.r(t),n.d(t,{InverseGeodeticSolverResult:()=>y,directGeodeticSolver:()=>b,geodesicAreas:()=>w,geodesicCompatibleSpatialReference:()=>x,geodesicDensify:()=>v,geodesicDistance:()=>S,geodesicLengths:()=>M,inverseGeodeticSolver:()=>R,isSupported:()=>g,pointFromDistance:()=>_});var i=n(74719),s=n(84190),a=n(80556),r=n(75400),o=n(65920),c=n(54824),l=n(93321),u=n(64226),h=n(70576);function d(e){if(!e)return null;const t=e.wkid;if(t)return u.uw[t];const n=e.wkt2??e.wkt;return n?function(e){const t=u._f.exec(e);if(!t||2!==t.length)return null;const n=t[1].split(",");if(!n||n.length<3)return null;const i=parseFloat(n[1]),s=parseFloat(n[2]);return isNaN(i)||isNaN(s)?null:{a:i,f:0===s?0:1/s}}(n):null}function f(e){const t=d(e);if(function(e){return null!=e&&"b"in e&&"eSq"in e&&"radius"in e}(t))return t;const n=t.a*(1-t.f);return Object.assign(t,{b:n,eSq:1-(n/t.a)**2,radius:(2*t.a+n)/3,densificationRatio:1e4/((2*t.a+n)/3)})}function p(e){return null!=e&&e<0?e+360:e}function m(e,t,n){const{a:i,eSq:s}=f(n),a=Math.sqrt(s),r=Math.sin(t[1]*u.eh),o=i*t[0]*u.eh;let c;return c=s>0?i*((1-s)*(r/(1-s*(r*r))-1/(2*a)*Math.log((1-a*r)/(1+a*r))))*.5:i*r,e[0]=o,e[1]=c,e}function g(e){return(0,h.EA)(e)&&!!d(e)}function w(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"square-meters";if(e.some((e=>!g(e.spatialReference))))throw new i.default("geodesic-areas:invalid-spatial-reference","the input geometries spatial reference is not supported");const n=[];for(let i=0;i<e.length;i++){const t=e[i],s=t.spatialReference,{radius:a,densificationRatio:r}=f(s),o=a*r;n.push(v(t,o))}const a=[],r=[0,0],o=[0,0];for(let i=0;i<n.length;i++){const{rings:e,spatialReference:c}=n[i];let l=0;for(let t=0;t<e.length;t++){const n=e[t];m(r,n[0],c),m(o,n[n.length-1],c);let i=o[0]*r[1]-r[0]*o[1];for(let e=0;e<n.length-1;e++)m(r,n[e+1],c),m(o,n[e],c),i+=o[0]*r[1]-r[0]*o[1];l+=i}l=(0,s.oU)(l,"square-meters",t),a.push(l/-2)}return a}function M(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"meters";if(!e)throw new i.default("geodesic-lengths:invalid-geometries","the input geometries type is not supported");if(e.some((e=>!g(e.spatialReference))))throw new i.default("geodesic-lengths:invalid-spatial-reference","the input geometries spatial reference is not supported");const n=[];for(let i=0;i<e.length;i++){const a=e[i],{spatialReference:r}=a,o="polyline"===a.type?a.paths:a.rings;let c=0;for(let e=0;e<o.length;e++){const t=o[e];let n=0;for(let e=1;e<t.length;e++){const i=t[e-1][0],s=t[e][0],a=t[e-1][1],o=t[e][1];if(a!==o||i!==s){const e=new y;R(e,[i,a],[s,o],r),n+=e.distance}}c+=n}c=(0,s.oU)(c,"meters",t),n.push(c)}return n}function v(e,t){if("polyline"!==e.type&&"polygon"!==e.type)throw new i.default("geodesic-densify:invalid-geometry","the input geometry is neither polyline nor polygon");const{spatialReference:n}=e;if(!g(n))throw new i.default("geodesic-densify:invalid-spatial-reference","the input geometry spatial reference is not supported");const s="polyline"===e.type?e.paths:e.rings,r=[],u=[0,0],h=new y;for(const i of s){const e=[];r.push(e),e.push([i[0][0],i[0][1]]);let s,a,o=i[0][0],c=i[0][1];for(let r=0;r<i.length-1;r++){if(s=i[r+1][0],a=i[r+1][1],o===s&&c===a)continue;const l=[o,c];R(h,[o,c],[s,a],n);const{azimuth:d,distance:f}=h,p=f/t;if(p>1){for(let i=1;i<=p-1;i++)b(u,l,d,i*t,n),e.push(u.slice());b(u,l,d,(f+Math.floor(p-1)*t)/2,n),e.push(u.slice())}b(u,l,d,f,n),e.push(u.slice()),o=u[0],c=u[1]}}const d=(0,a.PZ)(l.default,n);return"polyline"===e.type?new c.default({paths:r,spatialReference:d}):new o.default({rings:r,spatialReference:d})}class y{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.distance=e,this.azimuth=t,this.reverseAzimuth=n}}function b(e,t,n,i,s){const a=t[0],r=t[1],o=a*u.eh,c=r*u.eh,l=(n??0)*u.eh,{a:h,b:d,f:p}=f(s),m=Math.sin(l),g=Math.cos(l),w=(1-p)*Math.tan(c),M=1/Math.sqrt(1+w*w),v=w*M,y=Math.atan2(w,g),b=M*m,R=b*b,S=1-R,_=S*(h*h-d*d)/(d*d),x=1+_/16384*(4096+_*(_*(320-175*_)-768)),z=_/1024*(256+_*(_*(74-47*_)-128));let k,q,A,G=i/(d*x),U=2*Math.PI;for(;Math.abs(G-U)>1e-12;)A=Math.cos(2*y+G),k=Math.sin(G),q=Math.cos(G),U=G,G=i/(d*x)+z*k*(A+z/4*(q*(2*A*A-1)-z/6*A*(4*k*k-3)*(4*A*A-3)));const N=v*k-M*q*g,W=Math.atan2(v*q+M*k*g,(1-p)*Math.sqrt(R+N*N)),P=p/16*S*(4+p*(4-3*S)),C=Math.atan2(k*m,M*q-v*k*g)-(1-P)*p*b*(G+P*k*(A+P*q*(2*A*A-1)));return e[0]=(o+C)/u.eh,e[1]=W/u.eh,e}function R(e,t,n,i){const s=t[0]*u.eh,a=t[1]*u.eh,r=n[0]*u.eh,o=n[1]*u.eh,{a:c,b:l,f:h,radius:d}=f(i),p=r-s,m=Math.atan((1-h)*Math.tan(a)),g=Math.atan((1-h)*Math.tan(o)),w=Math.sin(m),M=Math.cos(m),v=Math.sin(g),y=Math.cos(g);let b,R,S,_,x,z,k,q,A,G,U=1e3,N=p;do{if(k=Math.sin(N),q=Math.cos(N),S=Math.sqrt(y*k*(y*k)+(M*v-w*y*q)*(M*v-w*y*q)),0===S)return e.distance=0,e.azimuth=void 0,e.reverseAzimuth=void 0,e;x=w*v+M*y*q,z=Math.atan2(S,x),A=M*y*k/S,R=1-A*A,_=x-2*w*v/R,isNaN(_)&&(_=0),G=h/16*R*(4+h*(4-3*R)),b=N,N=p+(1-G)*h*A*(z+G*S*(_+G*x*(2*_*_-1)))}while(Math.abs(N-b)>1e-12&&--U>0);if(0===U){const t=d,n=Math.acos(Math.sin(a)*Math.sin(o)+Math.cos(a)*Math.cos(o)*Math.cos(r-s))*t,i=r-s,c=Math.sin(i)*Math.cos(o),l=Math.cos(a)*Math.sin(o)-Math.sin(a)*Math.cos(o)*Math.cos(i),h=Math.atan2(c,l);return e.azimuth=h/u.eh,e.distance=n,e.reverseAzimuth=void 0,e}const W=R*(c*c-l*l)/(l*l),P=W/1024*(256+W*(W*(74-47*W)-128)),C=l*(1+W/16384*(4096+W*(W*(320-175*W)-768)))*(z-P*S*(_+P/4*(x*(2*_*_-1)-P/6*_*(4*S*S-3)*(4*_*_-3)))),D=Math.atan2(y*Math.sin(N),M*v-w*y*Math.cos(N)),F=Math.atan2(M*Math.sin(N),M*v*Math.cos(N)-w*y);return e.azimuth=D/u.eh,e.distance=C,e.reverseAzimuth=F/u.eh,e}function S(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"meters";if(!e||!t)throw new i.default("geodesic-distance:missing-parameters","one or both input parameters are missing");if(!e.spatialReference||!t.spatialReference)throw new i.default("geodesic-distance:invalid-parameters","one or both input points do not have a spatial reference");if(!(0,h.aI)(e.spatialReference,t.spatialReference))throw new i.default("geodesic-distance:invalid-parameters","spatial references of input parameters do not match");const{spatialReference:a}=e;if(!g(a))throw new i.default("geodesic-distance:not-supported","input geometry spatial reference is not supported");if(e.x===t.x&&e.y===t.y)return new y(0,0,0);const r=new y;return R(r,[e.x,e.y],[t.x,t.y],a),r.distance=(0,s.oU)(r.distance,"meters",n),r.azimuth=p(r.azimuth),r.reverseAzimuth=p(r.reverseAzimuth),r}function _(e,t,n){if(!e||null==t||null==n)throw new i.default("point-from-distance:missing-parameters","one or more input parameters are missing or undefined");if(n<0||n>360)throw new i.default("point-from-distance:-of-bounds","azimuth is restricted to angles between, and including, 0\xb0 to 360\xb0 degrees");if(!e.spatialReference)throw new i.default("point-from-distance:missing-spatial-reference","the input point must have a spatial reference");const{spatialReference:s}=e;if(!g(s))throw new i.default("geodesic-distance:not-supported","input geometry spatial reference is not supported");const a=[0,0];return b(a,[e.x,e.y],n,t,s),new r.default({x:a[0],y:a[1],spatialReference:s})}function x(e){return g(e)?e:(0,h.K8)(e)?l.default.WGS84:null}},35104:(e,t,n)=>{function i(e){return null!=e&&"object"==typeof e&&"2d"===e.type&&"linkchart"===e.view2dType}n.d(t,{O:()=>i})},74940:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var i=n(93800),s=n(6946),a=n(16804),r=n(84190),o=n(48602),c=(n(21265),n(50925),n(14746),n(75269)),l=n(75400),u=n(54824),h=n(93321),d=n(26266),f=n(30312),p=n(70576),m=n(5616),g=n(35104);function w(e){let{state:{paddedViewState:t},spatialReference:n,width:i}=e;return n.isWrappable&&t.worldScreenWidth<i}function M(e,t){const{x:n,y:i}=e?(0,m.webMercatorToGeographic)(t,!0):t;return[n,i]}let v=class extends s.default{constructor(e){super(e),this.scaleComputedFrom=(0,a.tc)(),this.view=null}get state(){return this.view?.ready&&"2d"===this.view.type?(0,g.O)(this.view)&&!this.view.inGeographicLayout?"disabled":"ready":"disabled"}getScaleBarProperties(e,t){if("disabled"===this.state||isNaN(e)||!t||!this.view)return null;const n=this._getDistanceInMeters();return null==n?null:this._getScaleBarProps(e,n,t)}_getDistanceInMeters(){const{state:e,spatialReference:t}=this.view;if(!(0,p.fn)(t))return null;const{isGeographic:n}=t,i=function(e){const{isWebMercator:t,wkt:n,wkt2:i}=e;return t||((i||n)?.includes("WGS_1984_Web_Mercator")??!1)}(t);if(!n&&!i)return e.extent.width*((0,r.Ao)(t)??1);const[s,a]=this._getScaleMeasuringPoints(),o=i||n&&!(0,d.isSupported)(t)?h.default.WGS84:t,c=new u.default({paths:[[M(i,s),M(i,a)]],spatialReference:o}),l=(0,f.straightLineDensify)(c,10);let m;try{[m]=(0,d.geodesicLengths)([l],"meters")}catch{return null}return m}_getScaleMeasuringPoints(){const e=this.view,{width:t,height:n,position:i,spatialReference:s}=e;if(w(e)){const e=(0,p.Vp)(s),{valid:t}=e;return[new l.default(t[0],0,s),new l.default(t[1],0,s)]}let r=this.scaleComputedFrom.y-i[1];r>n?r=n:r<0&&(r=0);const o=(0,a.tc)(0,r),c=(0,a.tc)(t,r);return[e.toMap(o),e.toMap(c)]}_getScaleBarProps(e,t,n){const i=this.view,s=e*t/(w(i)?i.state.paddedViewState.worldScreenWidth:i.width);if(s<.001)return null;const a=function(e,t){switch(t){case"metric":return e>1e3?{distance:(0,r.oU)(e,"meters","kilometers"),unit:"kilometer"}:e>1?{distance:e,unit:"meter"}:e>.01?{distance:(0,r.oU)(e,"meters","centimeters"),unit:"centimeter"}:{distance:(0,r.oU)(e,"meters","millimeters"),unit:"millimeter"};case"imperial":return e>1609.344?{distance:(0,r.oU)(e,"meters","miles"),unit:"mile"}:e>.3048?{distance:(0,r.oU)(e,"meters","feet"),unit:"foot"}:{distance:(0,r.oU)(e,"meters","inches"),unit:"inch"}}}(s,n),{distance:o,unit:c}=a;let l=o,u=0;for(;l>=1;)l/=10,u++;const{min:h,max:d}=function(e){return e>.5?{min:.5,max:1}:e>.2?{min:.2,max:.5}:{min:.1,max:.2}}(l),f=d/l>=l/h?h:d;return{length:e*(f/l),value:10**u*f,unit:c}}};(0,i._)([(0,o.MZ)()],v.prototype,"scaleComputedFrom",void 0),(0,i._)([(0,o.MZ)({readOnly:!0})],v.prototype,"state",null),(0,i._)([(0,o.MZ)()],v.prototype,"view",void 0),v=(0,i._)([(0,c.$)("esri.widgets.ScaleBar.ScaleBarViewModel")],v);const y=v}}]);