"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[36247],{6579:(e,t,i)=>{i.d(t,{Cq:()=>h,Ee:()=>p,J1:()=>b,LF:()=>f,Me:()=>M,Mm:()=>_,Sz:()=>S,W4:()=>g,e_:()=>v,nD:()=>u,t_:()=>C,tr:()=>m,v7:()=>Z,zJ:()=>d,zq:()=>y});var n=i(87436),s=i(5839),o=i(64682),r=i(92143),a=i(56612),l=i(84190),c=i(23224);function h(e,t,i){return e.units[t][i]}function d(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";return`${(0,c.ZV)(t,{minimumFractionDigits:n,maximumFractionDigits:n,signDisplay:t>0?"never":"exceptZero"})} ${h(e,i,s)}`}function u(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";return`${(0,c.ZV)(t,{minimumFractionDigits:n,maximumFractionDigits:n,signDisplay:"exceptZero"})} ${h(e,i,s)}`}function p(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const o=(0,l.x0)(t,i);return d(e,(0,l.oU)(t,i,o),o,n,s)}function _(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const o=(0,l.x0)(t,i);return u(e,(0,l.oU)(t,i,o),o,n,s)}function g(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const o=(0,l.x$)(t,i);return d(e,(0,l.oU)(t,i,o),o,n,s)}function v(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const o=(0,l.x$)(t,i);return u(e,(0,l.oU)(t,i,o),o,n,s)}function m(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const o=(0,l.OU)(t,i);return d(e,(0,l.oU)(t,i,o),o,n,s)}function b(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const o=(0,l.OU)(t,i);return u(e,(0,l.oU)(t,i,o),o,n,s)}function C(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const o=(0,l.y7)(t,i);return d(e,(0,l.oU)(t,i,o),o,n,s)}function f(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const o=(0,l.y7)(t,i);return u(e,(0,l.oU)(t,i,o),o,n,s)}function y(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const o=(0,l.wv)(t,i);return d(e,(0,l.oU)(t,i,o),o,n,s)}function S(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const o=(0,l.TL)(t,i);return d(e,(0,l.oU)(t,i,o),o,n,s)}const k=(e,t)=>({style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:t,minimumFractionDigits:t,signDisplay:e>0?"never":"exceptZero"});function M(e,t,i,n,o){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:s.ie,h=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],d=a.normalize((0,r.g2)((0,l.oU)(e,t,"degrees"),i,n),0,h);const u=k(d,o??2);return d=x(d,u),(0,c.ZV)(d,u)}const w=new Map;function x(e,t){const i=JSON.stringify(t);let n=w.get(i);return n||(n=new Intl.NumberFormat("en-US",t),w.set(i,n)),/^[-+]?360\.?0*\xb0?$/.test(n.format(e))?0:e}const B=["B","kB","MB","GB","TB"];function Z(e,t){let i=0===(t=Math.round(t))?0:Math.floor(Math.log(t)/Math.log(n.u.KILOBYTES));i=(0,o.qE)(i,0,B.length-1);const s=(0,c.ZV)(t/n.u.KILOBYTES**i,{maximumFractionDigits:2});return(0,a.HC)(e.units.bytes[B[i]],{fileSize:s})}},33209:(e,t,i)=>{i.d(t,{t:()=>p});var n=i(93800),s=i(84190),o=i(48602),r=(i(21265),i(50925),i(14746),i(75269)),a=i(27811),l=i(49403),c=(i(17745),i(76697)),h=i(87118);const d="esri-unit-select",u={base:d,label:`${d}__label`,select:`${d}__select`};let p=class extends a.default{constructor(e,t){super(e,t),this._onSelectChange=e=>{this.onChange(e.currentTarget.value)}}loadDependencies(){return(0,l.W)({label:()=>i.e(60216).then(i.bind(i,60216)),option:()=>i.e(99163).then(i.bind(i,99163)),select:()=>i.e(34280).then(i.bind(i,34280))})}render(){const{messages:e,options:t,selectLabel:i,value:n,_onSelectChange:o}=this;return(0,h.K)("div",{class:u.base,key:"units"},(0,h.K)("calcite-label",{class:u.label},i,(0,h.K)("calcite-select",{class:u.select,label:i,onCalciteSelectChange:o},t.map((t=>(0,h.K)("calcite-option",{key:t,selected:t===n,value:t},(0,s.GT)(t)?e.systems[t]:e.units[t]?.pluralCapitalized))))))}};(0,n._)([(0,o.MZ)()],p.prototype,"options",void 0),(0,n._)([(0,o.MZ)()],p.prototype,"onChange",void 0),(0,n._)([(0,o.MZ)()],p.prototype,"selectLabel",void 0),(0,n._)([(0,o.MZ)()],p.prototype,"value",void 0),(0,n._)([(0,o.MZ)(),(0,c.G)("esri/core/t9n/Units")],p.prototype,"messages",void 0),p=(0,n._)([(0,r.$)("esri.widgets.support.UnitSelect")],p)},36247:(e,t,i)=>{i.r(t),i.d(t,{default:()=>N});var n=i(93800),s=i(58828),o=i(17741),r=i(13561),a=i(49959),l=i(79953),c=i(48602),h=(i(21265),i(50925),i(14746),i(75269)),d=i(27811);const u="esri-elevation-profile",p={base:`${u}`,portrait:`${u}--portrait`,refined:`${u}--refined`,mainContainer:`${u}__main-container`,promptContainer:`${u}__prompt-container`,header:`${u}__header`,zoomOutButton:`${u}__zoom-out-button`,clearButton:`${u}__clear-button`,actionButton:`${u}__action-button`,sketchButton:`${u}__sketch-button`,sketchCancelButton:`${u}__sketch-cancel-button`,sketchDoneButton:`${u}__sketch-done-button`,selectButton:`${u}__select-button`,selectCancelButton:`${u}__select-cancel-button`,chartContainer:`${u}__chart-container`,chartSpinner:`${u}__chart-spinner`,chartSpinnerVisible:`${u}__chart-spinner--visible`,chartSpinnerSmall:`${u}__chart-spinner--small`,footer:`${u}__footer`},_="esri-elevation-profile-legend",g="esri-elevation-profile-legend-item",v={base:g,disabled:`${g}--disabled`,expanded:`${g}--expanded`,colorIndicator:`${g}__color-indicator`,header:`${g}__header`,content:`${g}__content`,collapseToggle:`${g}__collapse-toggle`,label:`${g}__label`,checkbox:`${g}__checkbox`},m="esri-elevation-profile-statistics",b={base:m,statistic:`${m}__statistic`,statisticLabel:`${m}__statistic__label`,statisticValue:`${m}__statistic__value`,slopeValue:`${m}__slope-value`},C="esri-elevation-profile-settings",f={base:`${C}`,popoverContent:`${C}__popover-content`,uniformChartScalingLabel:`${C}__uniform-scaling-label`,uniformChartScalingCheckbox:`${C}__uniform-scaling-checkbox`};var y=i(52116),S=i(6946);let k=class extends S.default{constructor(){super(...arguments),this.legend=!0,this.chart=!0,this.clearButton=!0,this.settingsButton=!0,this.sketchButton=!0,this.selectButton=!0,this.unitSelector=!0,this.uniformChartScalingToggle=!0}};(0,n._)([(0,c.MZ)()],k.prototype,"legend",void 0),(0,n._)([(0,c.MZ)()],k.prototype,"chart",void 0),(0,n._)([(0,c.MZ)()],k.prototype,"clearButton",void 0),(0,n._)([(0,c.MZ)()],k.prototype,"settingsButton",void 0),(0,n._)([(0,c.MZ)()],k.prototype,"sketchButton",void 0),(0,n._)([(0,c.MZ)()],k.prototype,"selectButton",void 0),(0,n._)([(0,c.MZ)()],k.prototype,"unitSelector",void 0),(0,n._)([(0,c.MZ)()],k.prototype,"uniformChartScalingToggle",void 0),k=(0,n._)([(0,h.$)("esri.widgets.ElevationProfile.ElevationProfileVisibleElements")],k);const M=k;i(88677);var w=i(76469),x=i(6579),B=i(92645),Z=i(49403),E=(i(17745),i(76697)),U=i(87118);let $=class extends d.default{constructor(e,t){super(e,t),this._updateLayout=e=>{const t=e.parentElement,i=e.style.display;t?.removeChild(e),document.body.appendChild(e),e.style.display="block";let n=80;for(const s of e.childNodes)s instanceof HTMLElement&&(n=Math.max(n,s.offsetWidth));document.body.removeChild(e),t?.appendChild(e),e.style.display=i,e.style.setProperty("--max-width",`${n}px`)},this._updateLayoutThrottled=(0,w.n)(this._updateLayout,100)}loadDependencies(){return(0,Z.W)({icon:()=>Promise.resolve().then(i.bind(i,92439))})}initialize(){this.addHandles(this._updateLayoutThrottled)}render(){return(0,U.K)("div",{afterCreate:this._updateLayout,afterUpdate:this._updateLayoutThrottled,bind:this,class:b.base},this._renderStatistics())}_renderStatistics(){const e=this._messages?.statistics;return e?[this._renderDistanceStatistic("maxDistance",e.maxDistance),this._renderElevationStatistic("elevationGain",e.gain),this._renderElevationStatistic("elevationLoss",e.loss),this._renderElevationStatistic("minElevation",e.minElevation),this._renderElevationStatistic("maxElevation",e.maxElevation),this._renderElevationStatistic("avgElevation",e.avgElevation),this._renderSlopeStatistic("maxPositiveSlope","maxNegativeSlope",e.maxSlope),this._renderSlopeStatistic("avgPositiveSlope","avgNegativeSlope",e.avgSlope)]:[]}_renderDistanceStatistic(e,t){const i=(0,B.zj)().formatPrecision,n=this._renderValue(e,(e=>{const t=this.effectiveUnits.distance;return(0,x.zJ)(this._messagesUnits,e,t,i)}));return this._renderStatistic(t,n)}_renderElevationStatistic(e,t){const i=(0,B.zj)().formatPrecision,n=this._renderValue(e,(e=>{const t=this.effectiveUnits.elevation;return(0,x.zJ)(this._messagesUnits,e,t,i)}));return this._renderStatistic(t,n)}_renderSlopeStatistic(e,t,i){const n=(0,B.zj)().formatPrecision,s=(0,U.K)("div",{class:b.slopeValue,key:"slope-up"},(0,U.K)("calcite-icon",{icon:"arrow-up",scale:"s"}),this._renderValue(e,(e=>(0,x.Me)(e,"degrees","geographic","geographic",n))),(0,U.K)("calcite-icon",{icon:"arrow-down",scale:"s"}),this._renderValue(t,(e=>(0,x.Me)(e,"degrees","geographic","geographic",n))));return this._renderStatistic(i,s)}_renderStatistic(e,t){return(0,U.K)("div",{class:b.statistic},(0,U.K)("label",{class:b.statisticLabel},e),(0,U.K)("div",{class:b.statisticValue},t))}_renderValue(e,t){const i=this.line,n=1===i.progress?i.statistics:null,s=n?.[e];return null!=s?t(s):B.Fc}};(0,n._)([(0,c.MZ)()],$.prototype,"effectiveUnits",void 0),(0,n._)([(0,c.MZ)()],$.prototype,"line",void 0),(0,n._)([(0,c.MZ)(),(0,E.G)("esri/widgets/ElevationProfile/t9n/ElevationProfile")],$.prototype,"_messages",void 0),(0,n._)([(0,c.MZ)(),(0,E.G)("esri/core/t9n/Units")],$.prototype,"_messagesUnits",void 0),$=(0,n._)([(0,h.$)("esri.widgets.ElevationProfile.components.Statistics")],$);var P=i(88992),K=i(99961);let D=class extends d.default{constructor(e,t){super(e,t),this.checkboxVisible=!0,this.expanded=!1}loadDependencies(){return(0,Z.W)({action:()=>i.e(88342).then(i.bind(i,88342)),checkbox:()=>i.e(70879).then(i.bind(i,70879)),label:()=>i.e(60216).then(i.bind(i,60216))})}initialize(){this._statistics=new $(this._statisticsProps),this.addHandles((0,l.watch)((()=>this._statisticsProps),(e=>this._statistics.set(e))))}destroy(){this._statistics=(0,o.pR)(this._statistics)}render(){const e=this.expanded;return(0,U.K)("div",{class:this.classes(v.base,{[v.disabled]:this.disabled,[v.expanded]:e}),key:this},this._renderColorIndicator(),(0,U.K)("div",{class:v.header,key:"header"},this._renderLabelWithCheckbox(),this._renderCollapseToggleButton()),e?(0,U.K)("div",{class:v.content,key:"content"},this._statistics.render()):null)}get disabled(){return!this.line.available}get _statisticsProps(){return{line:this.line,effectiveUnits:this.effectiveUnits}}_renderColorIndicator(){return(0,U.K)("div",{class:v.colorIndicator,key:"color-indicator",styles:{backgroundColor:this.line.color.toCss()}})}_renderCollapseToggleButton(){const{expanded:e,messages:t}=this,i=e?t.hideDetails:t.showDetails;return(0,U.K)("calcite-action",{appearance:"transparent",bind:this,class:v.collapseToggle,"data-testid":"legend-toggle",icon:e?"chevron-up":"chevron-down",key:"collapse-toggle",onclick:this._onCollapseToggleClick,scale:"s",text:i,title:i})}_onCollapseToggleClick(){this.onExpandedToggle()}_renderLabelWithCheckbox(){const{line:e,checkboxVisible:t,disabled:i,messages:n}=this;return(0,U.K)("calcite-label",{class:v.label,disabled:i,key:`label-${e.id}`,layout:"inline"},t?this._renderCheckbox():null,(0,P.l)(e,n))}_renderCheckbox(){const{disabled:e,line:t,messages:i}=this,n=t.visible,s=n?i.hideProfile:i.showProfile,o=(0,K.V)(s,{name:(0,P.l)(t,i)});return(0,U.K)("calcite-checkbox",{checked:n,class:v.checkbox,disabled:e,title:o,onCalciteCheckboxChange:()=>t.toggleVisibility()})}};(0,n._)([(0,c.MZ)()],D.prototype,"checkboxVisible",void 0),(0,n._)([(0,c.MZ)()],D.prototype,"disabled",null),(0,n._)([(0,c.MZ)({nonNullable:!0})],D.prototype,"effectiveUnits",void 0),(0,n._)([(0,c.MZ)()],D.prototype,"expanded",void 0),(0,n._)([(0,c.MZ)({nonNullable:!0})],D.prototype,"line",void 0),(0,n._)([(0,c.MZ)()],D.prototype,"messages",void 0),(0,n._)([(0,c.MZ)()],D.prototype,"onExpandedToggle",void 0),(0,n._)([(0,c.MZ)()],D.prototype,"_statistics",void 0),D=(0,n._)([(0,h.$)("esri.widgets.ElevationProfile.components.LegendItem")],D);let V=class extends d.default{constructor(){super(...arguments),this._expandedLine=null}render(){const{profiles:e,messages:t,effectiveUnits:i,_expandedLine:n}=this;return(0,U.K)("div",{class:_},e.map((s=>(0,U.K)(D,{checkboxVisible:e.length>1,effectiveUnits:i,expanded:s===n,line:s,messages:t,onExpandedToggle:()=>this._onExpandedToggle(s)}))))}_onExpandedToggle(e){this._expandedLine=e===this._expandedLine?null:e}};(0,n._)([(0,c.MZ)()],V.prototype,"effectiveUnits",void 0),(0,n._)([(0,c.MZ)()],V.prototype,"messages",void 0),(0,n._)([(0,c.MZ)()],V.prototype,"profiles",void 0),(0,n._)([(0,c.MZ)()],V.prototype,"_expandedLine",void 0),V=(0,n._)([(0,h.$)("esri.widgets.ElevationProfile.components.Legend")],V);var T=i(33209);let I=class extends d.default{constructor(){super(...arguments),this.messages=null,this._popoverIsOpen=!1,this._referenceElement=null,this._onUniformChartScalingChange=e=>{this.onUniformChartScalingChange(e.currentTarget.checked)}}loadDependencies(){return(0,Z.W)({action:()=>i.e(88342).then(i.bind(i,88342)),checkbox:()=>i.e(70879).then(i.bind(i,70879)),label:()=>i.e(60216).then(i.bind(i,60216)),popover:()=>Promise.all([i.e(86290),i.e(74597)]).then(i.bind(i,74597))})}render(){const{id:e,messages:t,visibleElements:i}=this,{unitSelector:n,uniformChartScalingToggle:s}=i;if(!t||!n&&!s)return(0,U.K)("div",{key:`${e}-empty`});const o=this._popoverIsOpen?t.hideSettings:t.showSettings;return(0,U.K)("div",{class:f.base,key:this},(0,U.K)("calcite-action",{afterCreate:e=>{this._referenceElement=e},appearance:"transparent","data-testid":"settings-button",icon:"gear",scale:"s",text:o,title:o}),this._referenceElement?(0,U.K)("calcite-popover",{autoClose:!0,label:o,placement:"bottom-end",referenceElement:this._referenceElement,onCalcitePopoverClose:()=>{this._popoverIsOpen=!1},onCalcitePopoverOpen:()=>{this._popoverIsOpen=!0}},this._renderPopoverContent()):null)}_renderPopoverContent(){const{unitSelector:e,uniformChartScalingToggle:t}=this.visibleElements;return(0,U.K)("div",{class:f.popoverContent},e?this._renderUnitSelector():null,t?this._renderUniformChartScalingToggle():null)}_renderUnitSelector(){const{messages:e}=this;return(0,U.K)(T.t,{key:"unit-selector-label",options:this.unitOptions,selectLabel:e?.unitSelectLabel??"",value:this.unit,onChange:this.onUnitChange})}_renderUniformChartScalingToggle(){const{messages:e}=this,t=this.uniformChartScaling,i=e?.[t?"uniformChartScalingDisable":"uniformChartScalingEnable"]??"";return(0,U.K)("calcite-label",{class:f.uniformChartScalingLabel,key:"uniform-chart-scaling-label",layout:"inline"},(0,U.K)("calcite-checkbox",{checked:t,class:f.uniformChartScalingCheckbox,title:i,onCalciteCheckboxChange:this._onUniformChartScalingChange}),e?.uniformChartScalingLabel)}};(0,n._)([(0,c.MZ)()],I.prototype,"messages",void 0),(0,n._)([(0,c.MZ)()],I.prototype,"onUniformChartScalingChange",void 0),(0,n._)([(0,c.MZ)()],I.prototype,"onUnitChange",void 0),(0,n._)([(0,c.MZ)()],I.prototype,"uniformChartScaling",void 0),(0,n._)([(0,c.MZ)()],I.prototype,"unit",void 0),(0,n._)([(0,c.MZ)()],I.prototype,"unitOptions",void 0),(0,n._)([(0,c.MZ)()],I.prototype,"visibleElements",void 0),(0,n._)([(0,c.MZ)()],I.prototype,"_popoverIsOpen",void 0),(0,n._)([(0,c.MZ)()],I.prototype,"_referenceElement",void 0),I=(0,n._)([(0,h.$)("esri.widgets.ElevationProfile.components.SettingsButton")],I);var O,L,z=i(50821);(L=O||(O={})).Sketch="sketch",L.SketchCancel="sketch-cancel",L.SketchDone="sketch-done",L.Select="select",L.SelectCancel="select-cancel";const F=[{type:O.Select},{type:O.Sketch}],G={[B.GJ.None]:null,[B.GJ.NoValidInput]:"noProfile",[B.GJ.NoVisibleProfiles]:"noProfile",[B.GJ.RefinedButNoChartData]:"noProfile",[B.GJ.TooComplex]:"tooComplex",[B.GJ.UnknownError]:"unknown",[B.GJ.InvalidGeometry]:"invalidGeometry",[B.GJ.InvalidElevationInfo]:"invalidElevationInfo"};let R=class extends d.default{constructor(e,t){super(e,t),this.viewModel=null,this.visibleElements=new M,this.messages=null,this.messagesCommon=null,this.messagesUnits=null,this._chartContainer=null,this._chart=null,this._chartInitTask=null,this._chartIsRefined=!1,this._zoomOutButtonVisible=!1,this._getChartUpdateParamsMemoized=(0,r.B)(((e,t,i,n)=>({chart:e,data:t,stationary:i,messages:n}))),this._onZoomOutButtonClick=()=>{this._chart?.zoomOut()},this._onClearButtonClick=()=>{this.viewModel.clear()},e?.viewModel||(this._defaultViewModel=new y.default({view:e?.view}),this.viewModel=this._defaultViewModel)}loadDependencies(){return(0,Z.W)({action:()=>i.e(88342).then(i.bind(i,88342)),button:()=>Promise.resolve().then(i.bind(i,20423)),loader:()=>Promise.resolve().then(i.bind(i,23173))})}postInitialize(){this.addHandles([(0,l.watch)((()=>({container:this._chartContainer})),(e=>{let{container:t}=e;this._destroyChart(),null!=t&&this._initializeChart(t)}),l.initial),(0,l.watch)((()=>this._chartUpdateParams),(()=>this._updateChart(this._chartUpdateParams)),l.initial)])}destroy(){this._destroyChart(),null!=this._defaultViewModel&&this.viewModel!==this._defaultViewModel&&this._defaultViewModel.destroy()}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}get input(){return this.viewModel.input}set input(e){this.viewModel.input=e}get profiles(){return this.viewModel.profiles}set profiles(e){this.viewModel.profiles=e}get unitOptions(){return this.viewModel.unitOptions}set unitOptions(e){this.viewModel.unitOptions=e}get unit(){return this.viewModel.unit}set unit(e){this.viewModel.unit=e}get icon(){return"altitude"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get visible(){return this.viewModel.visible}set visible(e){this.viewModel.visible=e}get test(){return{chart:this._chart}}get _selectButtonVisible(){return!0===this.visibleElements.selectButton&&this.viewModel.selectAvailable}get _chartUpdateParams(){const e=this.view;return this._getChartUpdateParamsMemoized(this._chart,this.viewModel.chartData,null==e||e.stationary,this._chartMessages)}get _chartMessages(){return{...this.messagesUnits,...this.messages}}get _profilesArray(){return this.profiles.toArray()}render(){const{viewModel:e,visible:t}=this;return(0,U.K)("div",{"aria-label":this.messages.widgetLabel,class:this.classes({[p.base]:t,[z.D.widget]:t,[z.D.panel]:t,[z.D.widgetDisabled]:t&&"disabled"===e.state,[p.refined]:1===e.progress}),key:this},(0,U.K)("div",{bind:this,key:"content-wrapper"},t?this._renderContentForState():null))}_renderContentForState(){switch(this.viewModel.state){case B.o8.Ready:return this._renderContentForReadyState();case B.o8.Selecting:return this._renderContentForSelectingState();case B.o8.Creating:return this._renderContentForCreatingState();case B.o8.Selected:return this._renderContentForSelectedState();case B.o8.Created:return this._renderContentForCreatedState();case B.o8.Disabled:return this._renderContentForReadyState()}}_renderContentForReadyState(){const{messages:e,visibleElements:t,_selectButtonVisible:i}=this,{sketchButton:n}=t;let s;return s=n&&i?e.readyPrompt:n?e.readyPromptCreateOnly:i?e.readyPromptSelectOnly:e.errors?.noProfile,this._renderContent({prompt:s,chart:!1,actions:F})}_renderContentForSelectingState(){const{view:e}=this;if(null==e)return null;const t=this.messages[`selectingPrompt-${e.type}`];return this._renderContent({prompt:t,chart:!1,actions:[{type:O.SelectCancel}]})}_renderContentForCreatingState(){const{view:e,viewModel:t}=this;if(null==e)return null;const i=t.hasVertices?[{type:O.SketchCancel},{type:O.SketchDone,disabled:!t.tool.interaction.canStopCreating}]:[{type:O.Select},{type:O.Sketch,disabled:!0}];if(t.errorState===B.GJ.NoValidInput){const t=this.messages[`creatingPrompt-${e.type}`];return this._renderContent({chart:!1,actions:i,prompt:t})}const n=this._getErrorMessage();return n?this._renderContent({chart:!1,actions:i,prompt:n}):this._renderContent({chart:!0,actions:i})}_renderContentForSelectedState(){const e=this._getErrorMessage();return e?this._renderContent({chart:!1,actions:F,prompt:e}):this._renderContent({chart:!0,actions:F})}_renderContentForCreatedState(){const e=this._getErrorMessage();return e?this._renderContent({chart:!1,actions:F,prompt:e}):this._renderContent({chart:!0,actions:F})}_getErrorMessage(){const e=G[this.viewModel.errorState];return e?this.messages?.errors?.[e]:null}_renderContent(e){const t=null!=e.prompt?this._renderPrompt(e.prompt):e.chart&&this._renderChart(),{viewModel:i}=this,n=null!=i.input;return(0,U.K)(U.w,null,(0,U.K)("header",{class:p.header,key:"header"},this._zoomOutButtonVisible?this._renderZoomOutButton():null,this.visibleElements.clearButton&&n?this._renderClearButton():null,this.visibleElements.settingsButton?(0,U.K)(I,{messages:this.messages,uniformChartScaling:i.uniformChartScaling,unit:i.unit,unitOptions:i.unitOptions,visibleElements:this.visibleElements,onUniformChartScalingChange:e=>i.uniformChartScaling=e,onUnitChange:e=>i.unit=e}):null),(0,U.K)("div",{class:p.mainContainer,key:"main-container"},t),this.visibleElements.legend?(0,U.K)(V,{effectiveUnits:i.effectiveUnits,messages:this.messages,profiles:this._profilesArray}):null,this._renderActions(e))}_renderZoomOutButton(){const e=this.messages.zoomOut;return(0,U.K)("calcite-action",{appearance:"transparent",class:p.zoomOutButton,"data-testid":"zoom-out-button",icon:"magnifying-glass-minus",key:"zoom-out",onclick:this._onZoomOutButtonClick,scale:"s",text:e,title:e})}_renderClearButton(){const e=this.messages.clearProfile;return(0,U.K)("calcite-action",{appearance:"transparent",class:p.clearButton,"data-testid":"clear-button",icon:"trash",key:"clear-profile",onclick:this._onClearButtonClick,scale:"s",text:e,title:e})}_renderPrompt(e){return[(0,U.K)("div",{bind:this,class:p.promptContainer,key:"prompt-container"},(0,U.K)("p",null,e))]}_renderChart(){if(!this.visibleElements.chart)return(0,U.K)("div",{class:p.chartContainer,key:"empty-chart-container"});const{chartData:e,progress:t}=this.viewModel,i=this._chartIsRefined||this._canRenderChart(),n=null!=e&&t<1;return i?(0,U.K)(U.w,null,this._renderSpinner({size:i?"small":"large",visible:n}),(0,U.K)("div",{afterCreate:this._onChartContainerUpdate,afterRemoved:this._onChartContainerRemoved,afterUpdate:this._onChartContainerUpdate,bind:this,class:p.chartContainer,key:"chart-container"})):(0,U.K)(U.w,null,this._renderSpinner({size:"large",visible:n}),(0,U.K)("div",{class:p.chartContainer,key:"chart-container-empty"}))}_renderSpinner(e){const t="small"===e.size,i=e.visible??!0;return(0,U.K)("calcite-loader",{class:this.classes(p.chartSpinner,t&&p.chartSpinnerSmall,i&&p.chartSpinnerVisible),"data-testid":"chart-spinner",inline:t,key:"spinner",label:"",scale:"s"})}_canRenderChart(){const e=this.viewModel.chartData;if(null==e)return!1;if(!this.viewModel.inputIsSketched)return e.refined;let t=0;for(const{samples:i}of e.lines)t+=null!=i?i.length:0;return e.refined||t<=(0,B.zj)().largeChartSamples}_renderActions(e){let{actions:t}=e;const i=t.map((e=>{switch(e.type){case O.Sketch:return this.visibleElements.sketchButton&&this._renderAction({action:e,className:p.sketchButton,label:this.messages.sketchButtonLabel,onClick:this._onSketchButtonClick,primary:!0});case O.SketchCancel:return this.visibleElements.sketchButton&&this._renderAction({action:e,onClick:this._onCancelButtonClick,className:p.sketchCancelButton,label:this.messagesCommon.cancel,primary:!1});case O.SketchDone:return this.visibleElements.sketchButton&&this._renderAction({action:e,onClick:this._onDoneButtonClick,className:p.sketchDoneButton,label:this.messagesCommon.done,primary:!0});case O.Select:return this._selectButtonVisible&&this._renderAction({action:e,onClick:this._onSelectButtonClick,className:p.selectButton,label:this.messages.selectButtonLabel,primary:!1});case O.SelectCancel:return this._selectButtonVisible&&this._renderAction({action:e,onClick:this._onCancelButtonClick,className:p.selectCancelButton,label:this.messagesCommon.cancel,primary:!1})}})).filter(Boolean);return i.length?(0,U.K)("footer",{class:p.footer,key:"footer"},i):null}_renderAction(e){let{action:t,className:i,label:n,onClick:s,primary:o}=e;return(0,U.K)("calcite-button",{appearance:o?"solid":"outline-fill",bind:this,class:this.classes(p.actionButton,i),disabled:t.disabled,key:`action-${t.type}`,onclick:s},n)}_onSketchButtonClick(){this.viewModel.start({mode:"sketch"})}_onSelectButtonClick(){this.viewModel.start({mode:"select"})}_onCancelButtonClick(){this.viewModel.cancel()}_onDoneButtonClick(){this.viewModel.stop()}_updateChart(e){const{data:t,chart:i,messages:n,stationary:s}=e;null!=i&&null!=n&&s&&this._canRenderChart()&&(i.update(e),this._chartIsRefined=null!=t&&t.refined)}_onChartContainerUpdate(e){this._chartContainer=e}_onChartContainerRemoved(){this._chartContainer=null}_initializeChart(e){(0,o.DC)(this._chartInitTask),this._chartInitTask=(0,s.UT)((async t=>{const{createChart:n}=await Promise.all([i.e(59041),i.e(81520),i.e(64405),i.e(93518),i.e(39061),i.e(76684)]).then(i.bind(i,76684));(0,a.throwIfAborted)(t);const s=await n({container:e,abortOptions:{signal:t},onRangeChange:(e,t)=>{this._zoomOutButtonVisible=1!==e||1!==t},onCursorPositionChange:e=>{this.viewModel.hoveredChartPosition=e}});if(t.aborted)throw(0,o.pR)(s),(0,a.createAbortError)();this._chart=s,this._updateChart(this._chartUpdateParams)}))}_destroyChart(){this._chartInitTask=(0,o.DC)(this._chartInitTask),this._chart=(0,o.pR)(this._chart),this._chartIsRefined=!1}};(0,n._)([(0,c.MZ)({type:y.default})],R.prototype,"viewModel",void 0),(0,n._)([(0,c.MZ)()],R.prototype,"view",null),(0,n._)([(0,c.MZ)()],R.prototype,"input",null),(0,n._)([(0,c.MZ)()],R.prototype,"profiles",null),(0,n._)([(0,c.MZ)()],R.prototype,"unitOptions",null),(0,n._)([(0,c.MZ)()],R.prototype,"unit",null),(0,n._)([(0,c.MZ)({type:M,nonNullable:!0})],R.prototype,"visibleElements",void 0),(0,n._)([(0,c.MZ)()],R.prototype,"icon",null),(0,n._)([(0,c.MZ)()],R.prototype,"label",null),(0,n._)([(0,c.MZ)()],R.prototype,"visible",null),(0,n._)([(0,c.MZ)(),(0,E.G)("esri/widgets/ElevationProfile/t9n/ElevationProfile")],R.prototype,"messages",void 0),(0,n._)([(0,c.MZ)(),(0,E.G)("esri/t9n/common")],R.prototype,"messagesCommon",void 0),(0,n._)([(0,c.MZ)(),(0,E.G)("esri/core/t9n/Units")],R.prototype,"messagesUnits",void 0),(0,n._)([(0,c.MZ)()],R.prototype,"_chartContainer",void 0),(0,n._)([(0,c.MZ)()],R.prototype,"_chart",void 0),(0,n._)([(0,c.MZ)()],R.prototype,"_chartInitTask",void 0),(0,n._)([(0,c.MZ)()],R.prototype,"_chartIsRefined",void 0),(0,n._)([(0,c.MZ)()],R.prototype,"_zoomOutButtonVisible",void 0),(0,n._)([(0,c.MZ)()],R.prototype,"_selectButtonVisible",null),(0,n._)([(0,c.MZ)()],R.prototype,"_chartUpdateParams",null),(0,n._)([(0,c.MZ)()],R.prototype,"_chartMessages",null),(0,n._)([(0,c.MZ)()],R.prototype,"_profilesArray",null),R=(0,n._)([(0,h.$)("esri.widgets.ElevationProfile")],R);const N=R},88992:(e,t,i)=>{function n(e,t){let{profiles:i}=t;const n=e.title;if(null!=n)return n;switch(e.type){case"ground":return i.ground;case"input":return i.input;case"query":return i.query;case"view":return i.view;default:return""}}i.d(t,{l:()=>n})}}]);