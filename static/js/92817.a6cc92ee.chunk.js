"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[41543,52266,63924,92817],{1696:(t,e,n)=>{n.d(e,{Rc:()=>f,J8:()=>v,oG:()=>l,rq:()=>d,Km:()=>p});n(21265);var i=n(22029),r=n(13473),o=n(10382),s=n(66509),a=n(98080),c=n(28473),u=n(24646);class h{constructor(t){this._create=t,this._items=new Array,this._itemsPtr=0}get(){return 0===this._itemsPtr&&(0,i.d)((()=>this._reset())),this._itemsPtr>=this._items.length&&this._items.push(this._create()),this._items[this._itemsPtr++]}_reset(){const t=2*this._itemsPtr;this._items.length>t&&(this._items.length=t),this._itemsPtr=0}static createVec2f64(){return new h(a.vt)}static createVec3f64(){return new h(c.vt)}static createVec4f64(){return new h(u.vt)}static createMat3f64(){return new h(r.vt)}static createMat4f64(){return new h(o.vt)}static createQuatf64(){return new h(s.vt)}get test(){}}const l=h.createVec2f64(),d=h.createVec3f64(),p=h.createVec4f64(),f=(h.createMat3f64(),h.createMat4f64()),v=h.createQuatf64()},4542:(t,e,n)=>{n.d(e,{NE:()=>c,TU:()=>l,ac:()=>h,fn:()=>u,oe:()=>d});var i=n(62631),r=n(42198),o=n(45622),s=n(51232),a=n(21935);const c={redo:"r",undo:"z",center:"Alt",constraint:"Shift",cancel:"Escape",delete:["Backspace","Delete"],complete:"Enter",vertexAdd:"f",pan:" "},u={toggle:"Control"},h={enterInputMode:"Tab",commit:"Enter",discard:"Escape",next:"Tab"},l={moveUp:{key:"ArrowUp",modifier:"Shift",repeats:!0},moveDown:{key:"ArrowDown",modifier:"Shift",repeats:!0},moveLeft:{key:"ArrowLeft",modifier:"Shift",repeats:!0},moveRight:{key:"ArrowRight",modifier:"Shift",repeats:!0},scaleUp:{key:"+",modifier:"Shift"},scaleDown:{key:"-",modifier:"Shift"},factorModifier:{key:a.i,continuePropagation:!0},toggleOpacity:"t",preserveAspectRatio:{key:"Shift",continuePropagation:!0},rotateIncrements:{key:"Shift",continuePropagation:!0},editSourcePoints:{key:"Alt",continuePropagation:!0},undo:"z",redo:"r"};class d{constructor(){this._bindings=new Map}add(t,e){return this.addToggle(t,(t=>{"key-down"===t.type&&e(t)}))}addToggle(t,e){const n=p.fromDefinition(t,e),s=(0,o.tE)(this._bindings,n.key,(()=>[]));return s.push(n),(0,r.hA)((()=>(0,i.TF)(s,n)))}register(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.o.WIDGET;return(0,r.vE)([t.on("key-down",(e=>this.dispatch(t.inputManager,e)),e),t.on("key-up",(e=>this.dispatch(t.inputManager,e)),e)])}dispatch(t,e){const n=e.key,i=this._bindings.get(n);if(i)for(const r of i)r.process(t,e)}}class p{constructor(t,e,n,i,r){this.key=t,this.modifiers=e,this.repeats=n,this.continuePropagation=i,this.callback=r}process(t,e){if(!(e.key!==this.key||"repeat"in e&&e.repeat&&!this.repeats)){for(const e of this.modifiers)if(!t.isModifierKeyDown(e))return;this.continuePropagation||e.stopPropagation(),this.callback(e)}}static fromDefinition(t,e){if("string"==typeof t)return new p(t,[],!1,!1,e);const{key:n,modifier:i,repeats:r,continuePropagation:o}=t;return new p(n,i?Array.isArray(i)?i:[i]:[],!!r,!!o,e)}}},10382:(t,e,n)=>{function i(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function r(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}function o(t,e,n,i,r,o,s,a,c,u,h,l,d,p,f,v){return[t,e,n,i,r,o,s,a,c,u,h,l,d,p,f,v]}n.d(e,{fA:()=>o,o8:()=>r,vt:()=>i,zK:()=>s});const s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:s,clone:r,create:i,createView:function(t,e){return new Float64Array(t,e,16)},fromValues:o},Symbol.toStringTag,{value:"Module"}))},10872:(t,e,n)=>{n.d(e,{$Q:()=>A,C:()=>l,Cr:()=>_,Io:()=>R,LV:()=>h,Nj:()=>U,O_:()=>v,Qj:()=>d,T7:()=>C,Tj:()=>V,U5:()=>O,UB:()=>f,Ui:()=>x,Z1:()=>H,_I:()=>k,b6:()=>D,ci:()=>I,fA:()=>p,gv:()=>b,lU:()=>g,mN:()=>L,mP:()=>N,mR:()=>S,v1:()=>G,vE:()=>F,vt:()=>u,ze:()=>M});var i=n(64682),r=n(89227),o=n(28473),s=(n(60548),n(49943)),a=n(1696),c=n(11741);function u(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;return[t[0],t[1],t[2],t[3]]}function h(){return p(arguments.length>0&&void 0!==arguments[0]?arguments[0]:z[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:z[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:z[2],arguments.length>3&&void 0!==arguments[3]?arguments[3]:z[3],a.Km.get())}function l(t,e){return p(e[0],e[1],e[2],e[3],t)}function d(t){return t}function p(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:u();return r[0]=t,r[1]=e,r[2]=n,r[3]=i,r}function f(t,e,n){return(0,r.c)(n,t),n[3]=e,n}function v(t,e,n){const i=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=Math.abs(i-1)>1e-5&&i>1e-12?1/Math.sqrt(i):1;return n[0]=e[0]*r,n[1]=e[1]*r,n[2]=e[2]*r,n[3]=-(n[0]*t[0]+n[1]*t[1]+n[2]*t[2]),n}function _(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u();const r=n[0]-e[0],o=n[1]-e[1],s=n[2]-e[2],a=t[0]-e[0],c=t[1]-e[1],h=t[2]-e[2],l=o*h-s*c,d=s*a-r*h,p=r*c-o*a,f=l*l+d*d+p*p,v=Math.abs(f-1)>1e-5&&f>1e-12?1/Math.sqrt(f):1;return i[0]=l*v,i[1]=d*v,i[2]=p*v,i[3]=-(i[0]*t[0]+i[1]*t[1]+i[2]*t[2]),i}function g(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Math.floor(n*(1/3)),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Math.floor(n*(2/3));if(n<3)return!1;e(P,i);let a=o,c=!1;for(;a<n-1&&!c;)e(y,a),a++,c=!(0,r.p)(P,y);if(!c)return!1;for(a=Math.max(a,s),c=!1;a<n&&!c;)e(T,a),a++,(0,r.d)(E,P,y),(0,r.n)(E,E),(0,r.d)(w,y,T),(0,r.n)(w,w),c=!(0,r.p)(P,T)&&!(0,r.p)(y,T)&&Math.abs((0,r.f)(E,w))<m;return c?(_(P,y,T,t),!0):(0!==i||1!==o||2!==s)&&g(t,e,n,0,1,2)}function I(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=e.length/3;return g(t,((t,n)=>(0,r.i)(t,e[3*n+0],e[3*n+1],e[3*n+2])),n?i-1:i)}const m=.99619469809,P=(0,o.vt)(),y=(0,o.vt)(),T=(0,o.vt)(),E=(0,o.vt)(),w=(0,o.vt)();function N(t,e,n){return e!==t&&l(t,e),t[3]=-(0,r.f)(t,n),t}function M(t,e){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function S(t,e,n,i){return(0,r.e)(T,e,t),v(n,T,i)}function O(t,e,n,i){return q(F(t,e,(0,r.d)(a.rq.get(),n,e),Z,i))}function x(t,e,n){return null!=e&&q(F(t,e.origin,e.direction,X,n))}function C(t,e,n){return q(F(t,e.origin,e.vector,G.NONE,n))}function b(t,e,n){return q(F(t,e.origin,e.vector,G.CLAMP,n))}function V(t,e){return L(t,e)>=0}function A(t,e){const n=(0,r.f)(t,e.ray.direction),i=-L(t,e.ray.origin);if(i<0&&n>=0)return!1;if(n>-1e-6&&n<1e-6)return i>0;if((i<0||n<0)&&!(i<0&&n<0))return!0;const o=i/n;return n>0?o<e.c1&&(e.c1=o):o>e.c0&&(e.c0=o),e.c0<=e.c1}function D(t,e){const n=(0,r.f)(t,e.ray.direction),i=-L(t,e.ray.origin);if(n>-1e-6&&n<1e-6)return i>0;const o=i/n;return n>0?o<e.c1&&(e.c1=o):o>e.c0&&(e.c0=o),e.c0<=e.c1}function k(t,e,n){const i=(0,r.h)(a.rq.get(),t,-t[3]),o=function(t,e,n){const i=(0,r.h)(a.rq.get(),t,(0,r.f)(t,e));return(0,r.d)(n,e,i),n}(t,(0,r.d)(a.rq.get(),e,i),a.rq.get());return(0,r.g)(n,o,i),n}function H(t,e,n,i){const o=t,u=a.rq.get(),h=a.rq.get();(0,c.VV)(o,u,h);const l=(0,r.d)(a.rq.get(),n,e),d=(0,s.gr)(u,l),p=(0,s.gr)(h,l),f=(0,s.gr)(o,l);return(0,r.i)(i,d,p,f)}function R(t,e){return Math.abs(L(t,e))}function L(t,e){return(0,r.f)(t,e)+t[3]}var U;function q(t){return t===U.INTERSECTS_INSIDE_OUT||t===U.INTERSECTS_OUTSIDE_IN}function F(t,e,n,o,s){const a=(0,r.f)(t,n),c=L(t,e);if(0===a)return c>=0?U.INSIDE:U.OUTSIDE;let u=-c/a;return o&G.CLAMP&&(u=(0,i.qE)(u,0,1)),!(o&G.INFINITE_MIN)&&u<0||!(o&G.INFINITE_MAX)&&u>1?c>=0?U.INSIDE:U.OUTSIDE:((0,r.g)(s,e,(0,r.h)(s,n,u)),c>=0?U.INTERSECTS_INSIDE_OUT:U.INTERSECTS_OUTSIDE_IN)}!function(t){t[t.INTERSECTS_INSIDE_OUT=0]="INTERSECTS_INSIDE_OUT",t[t.INTERSECTS_OUTSIDE_IN=1]="INTERSECTS_OUTSIDE_IN",t[t.INSIDE=2]="INSIDE",t[t.OUTSIDE=3]="OUTSIDE"}(U||(U={}));const z=[0,0,1,0];var G;!function(t){t[t.NONE=0]="NONE",t[t.CLAMP=1]="CLAMP",t[t.INFINITE_MIN=4]="INFINITE_MIN",t[t.INFINITE_MAX=8]="INFINITE_MAX"}(G||(G={}));const Z=G.INFINITE_MIN|G.INFINITE_MAX,X=G.INFINITE_MAX},11741:(t,e,n)=>{n.d(e,{BI:()=>h,VV:()=>u,YH:()=>c,e9:()=>v,g7:()=>p,hG:()=>s,is:()=>d,ix:()=>_,nu:()=>l,su:()=>f,wp:()=>a});var i=n(64682),r=n(89227),o=n(28473);function s(t){const e=t[0]*t[0]+t[4]*t[4]+t[8]*t[8],n=t[1]*t[1]+t[5]*t[5]+t[9]*t[9],i=t[2]*t[2]+t[6]*t[6]+t[10]*t[10];return Math.sqrt(Math.max(e,n,i))}function a(t,e){const n=Math.sqrt(e[0]*e[0]+e[4]*e[4]+e[8]*e[8]),i=Math.sqrt(e[1]*e[1]+e[5]*e[5]+e[9]*e[9]),o=Math.sqrt(e[2]*e[2]+e[6]*e[6]+e[10]*e[10]);return(0,r.i)(t,n,i,o),t}function c(t,e,n){n=n||t;const i=(0,r.f)(t,e);(0,r.i)(n,t[0]-i*e[0],t[1]-i*e[1],t[2]-i*e[2]),(0,r.n)(n,n)}function u(t,e,n){Math.abs(t[0])>Math.abs(t[1])?(0,r.i)(e,0,1,0):(0,r.i)(e,1,0,0),(0,r.e)(n,t,e),(0,r.e)(e,n,t),(0,r.n)(n,n),(0,r.n)(e,e)}function h(t,e,n,i,r,o){const s=t+(e-t)*r;return s+(n+(i-n)*r-s)*o}function l(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,o.vt)();const s=(0,r.l)(t),a=(0,r.l)(e),c=(0,r.f)(t,e)/(s*a);if(c<.9999999999999999){const o=Math.acos(c),u=((1-n)*s+n*a)/Math.sin(o),h=u/s*Math.sin((1-n)*o),l=u/a*Math.sin(n*o);return(0,r.h)(P,t,h),(0,r.h)(y,e,l),(0,r.g)(i,P,y)}return(0,r.m)(i,t,e,n)}function d(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,o.vt)(),s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(0,o.vt)();const a=(0,r.l)(t),c=(0,r.l)(e),u=(0,r.f)(t,e)/(a*c);if(u<.9999999999999999){const o=Math.acos(u),h=Math.sin(o),l=Math.sin(n*o),d=Math.sin((1-n)*o),p=(1-n)*a+n*c;{const n=p/h,o=n/c*l;(0,r.h)(P,t,n/a*d),(0,r.h)(y,e,o),(0,r.g)(i,P,y)}{const i=1/a*(-Math.cos((1-n)*o)*o*p+d*(-a+c));(0,r.h)(P,t,i);const u=1/c*(Math.cos(n*o)*o*p+l*(-a+c));(0,r.h)(y,e,u),(0,r.g)(s,P,y),(0,r.h)(s,s,1/h)}return s}return(0,r.m)(i,t,e,n),(0,r.d)(s,e,t),(0,r.n)(s,s),s}function p(t,e,n){t=(0,r.n)(P,t),e=(0,r.n)(y,e);const o=(0,i.XM)((0,r.f)(t,e));if(n){const i=(0,r.e)(m,t,e);if((0,r.f)(i,n)<0)return-o}return o}function f(t){const e=t.length;return n=>{if(n<=t[0][0])return t[0][1];if(n>=t[e-1][0])return t[e-1][1];let i=1;for(;n>t[i][0];)i++;const r=t[i-1][0],o=t[i][0],s=(o-n)/(o-r);return s*t[i-1][1]+(1-s)*t[i][1]}}function v(t,e,n,i){(0,r.d)(g,e,t),(0,r.d)(I,n,t),(0,r.e)(i,g,I),(0,r.n)(i,i),i[3]=-(0,r.f)(t,i)}function _(t,e){if((0,r.i)(e,0,0,0),t.length>0){for(let n=0;n<t.length;++n)(0,r.g)(e,e,t[n]);(0,r.h)(e,e,1/t.length)}}const g=(0,o.vt)(),I=(0,o.vt)(),m=(0,o.vt)(),P=(0,o.vt)(),y=(0,o.vt)()},27845:(t,e,n)=>{n.d(e,{O:()=>h});var i=n(93800),r=n(6946),o=n(17741),s=n(49959),a=n(48602),c=(n(21265),n(50925),n(14746),n(75269)),u=n(19565);let h=class extends r.default{constructor(t){super(t),this.constrainResult=t=>t,this._snapPoints=null,this._frameTask=null,this._abortController=null,this._stagedPoint=null,this._snap=(0,s.debounce)((async(t,e,n,i)=>{const r=this._frameTask;if(null==r)return;const o=await r.schedule((()=>e.snap({...t,context:n,signal:i})),i);o.valid&&await r.schedule((()=>{this.stagedPoint=o.apply(),t!==this._snapPoints&&null!=this._snapPoints&&(this.stagedPoint=e.update({...this._snapPoints,context:n}))}),i)}))}get stagedPoint(){return this._stagedPoint}set stagedPoint(t){this._stagedPoint=this.constrainResult(t)}initialize(){const t="3d"===this.view.type?this.view?.resourceController?.scheduler:null;this._frameTask=null!=t?t.registerTask(u.W6.SNAPPING):u.nu}destroy(){this._abortController=(0,o.DC)(this._abortController),this._frameTask=(0,o.xt)(this._frameTask)}update(t,e,n){this._snapPoints=t;const{point:i,scenePoint:r}=t,o=e.update({point:i,scenePoint:r,context:n});return this.stagedPoint=o,o}async snap(t,e,n){const{point:i,scenePoint:r}=t;return this.stagedPoint=e.update({point:i,scenePoint:r,context:n}),this._snapPoints=t,null==this._abortController&&(this._abortController=new AbortController),this._snap(t,e,n,this._abortController.signal)}async snapAgainNearPreviousMapPoint(t,e){null!=this._snapPoints&&await this.snap(this._snapPoints,t,e)}abort(){this._abortController=(0,o.DC)(this._abortController),this._snapPoints=null}};(0,i._)([(0,a.MZ)({constructOnly:!0})],h.prototype,"view",void 0),(0,i._)([(0,a.MZ)()],h.prototype,"stagedPoint",null),(0,i._)([(0,a.MZ)()],h.prototype,"constrainResult",void 0),(0,i._)([(0,a.MZ)()],h.prototype,"_stagedPoint",void 0),h=(0,i._)([(0,c.$)("esri.views.interactive.snapping.SnappingOperation")],h)},29383:(t,e,n)=>{n.d(e,{Dh:()=>c,IB:()=>h,Vv:()=>i,fg:()=>a,jI:()=>u});n(64682);var i,r=n(32006),o=n(98080);function s(t,e){return t[0]*e[1]-t[1]*e[0]}function a(t,e,n,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n;return(0,r.Re)(d,i,n),(0,r.Re)(f,e,o),function(t,e,n){const i=(0,r.Om)(n,e)/(0,r.m3)(n);(0,r.hs)(t,n,i)}(v,f,d),(0,r.WQ)(t,o,v)}function c(t,e,n,i){(0,r.Re)(d,e,n);const o=i/(0,r.Bw)(d);return(0,r.Ln)(t,n,d,o)}function u(t,e){const n=t.start,o=t.end,a=e.start,c=e.end,u=(0,r.Re)(d,o,n),h=(0,r.Re)(p,c,a),_=s(u,h);if(Math.abs(_)<=l)return[];const g=(0,r.Re)(f,n,a),I=s(h,g)/_,m=s(u,g)/_;if(I>=0){if(m>=0||e.type===i.LINE)return[(0,r.Ln)(v,n,u,I)]}else if(t.type===i.LINE&&(m>=0||e.type===i.LINE))return[(0,r.Ln)(v,n,u,I)];return[]}function h(t,e,n){const o=[],s=(0,r.Re)(d,t.end,t.start),a=(0,r.Re)(p,t.start,e),c=(0,r.m3)(s),u=2*(0,r.Om)(s,a),h=u*u-4*c*((0,r.m3)(a)-n*n);if(0===h){const e=-u/(2*c);(t.type===i.LINE||e>=0)&&o.push((0,r.Ln)(v,t.start,s,e))}else if(h>0){const e=Math.sqrt(h),n=(-u+e)/(2*c);(t.type===i.LINE||n>=0)&&o.push((0,r.Ln)(v,t.start,s,n));const a=(-u-e)/(2*c);(t.type===i.LINE||a>=0)&&o.push((0,r.Ln)(f,t.start,s,a))}return o}!function(t){t[t.RAY=0]="RAY",t[t.LINE=1]="LINE"}(i||(i={}));const l=1e-6,d=(0,o.vt)(),p=(0,o.vt)(),f=(0,o.vt)(),v=(0,o.vt)()},49281:(t,e,n)=>{n.d(e,{Ex:()=>f,FH:()=>m,Hh:()=>c,Lp:()=>v,Xz:()=>h,_7:()=>u,de:()=>p,fA:()=>l,io:()=>g,o8:()=>d,vf:()=>_,vt:()=>a,xF:()=>I});var i,r=n(28473),o=n(62240),s=n(41317);function a(t,e,n){return c(t,e,n)}function c(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,r.fA)(t,e,n)}function u(t){return t}function h(t){return t}function l(t,e,n){return(0,r.fA)(t,e,n)}function d(t){const[e,n,i]=t;return t.length>3?[e,n,i,t[3]]:[e,n,i]}function p(t){return t[3]=((t.length>3?t[3]:void 0)??i.NONE)|i.TARGET,t}function f(t){return Boolean(((t.length>3?t[3]:void 0)??i.NONE)&i.TARGET)}function v(t,e,n,i){let{coordinateHelper:r,elevationInfo:o}=n;return t?_(r.vectorToDehydratedPoint(t,P),e,o,i):null}function _(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c();return i[0]=t.x,i[1]=t.y,i[2]=t.z??0,null==e||("2d"===e.type?i[2]=0:i[2]=(0,s.wS)(e,t,n,s.qt)??0),i}function g(t,e,n){return n?((0,o.J)(n,t[0],t[1],t[2],e),n):(0,o.T)(t[0],t[1],t[2],e)}function I(t,e,n,i,r){let{z:a,m:c}=n;const{spatialReference:u,elevationInfo:h}=i;let l;l=null==a&&null==c?void 0:null==e||"2d"===e.type?a??void 0:(0,s.xS)(e,t,u,s.qt,h)??0;const[d,p]=t;return r?(0,o.J)(r,d,p,l,u):r=(0,o.T)(d,p,l,u),null!=c&&(r.m=c,r.hasM=!0),r}function m(t,e,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:c();const[a,u]=t;return o[0]=a,o[1]=u,t.length>3&&(o[3]=t[3]??i.NONE),"3d"!==n?.type?(o[2]=e.value,o):(o[2]=(0,s.Fo)(n,a,u,e.value,r,e.elevationInfo,s.qt)??0,o)}!function(t){t[t.NONE=0]="NONE",t[t.TARGET=1]="TARGET"}(i||(i={}));const P=(0,o.T)(0,0,0,null)},49943:(t,e,n)=>{n.d(e,{EJ:()=>u,_I:()=>s,g7:()=>c,gr:()=>a});var i=n(64682),r=n(89227),o=n(28473);function s(t,e,n){const i=(0,r.f)(t,e)/(0,r.f)(t,t);return(0,r.h)(n,t,i)}function a(t,e){return(0,r.f)(t,e)/(0,r.l)(t)}function c(t,e){const n=(0,r.f)(t,e)/((0,r.l)(t)*(0,r.l)(e));return-(0,i.XM)(n)}function u(t,e,n){(0,r.n)(h,t),(0,r.n)(l,e);const o=(0,r.f)(h,l),s=(0,i.XM)(o),a=(0,r.e)(h,h,l);return(0,r.f)(a,n)<0?2*Math.PI-s:s}const h=(0,o.vt)(),l=(0,o.vt)()},65330:(t,e,n)=>{n.r(e),n.d(e,{default:()=>f});var i=n(93800),r=(n(50925),n(21265),n(14746),n(74719),n(75269)),o=n(75400),s=n(56347),a=n(94761),c=n(51232),u=n(4542),h=n(53605);const l=Symbol("view-handles"),d=Symbol("undo-redo-handles");let p=class extends s.default{constructor(t){super(t),this._popVertexOnPointerMove=!1,this._addVertexOnPointerUp=!1}initialize(){this._addViewHandles(),this._addUndoRedoHandles()}destroy(){this._removeViewHandles(),this._removeUndoRedoHandles(),this.emit("destroy")}undo(){super.undo(),this.notifyChange("vertices")}redo(){super.redo(),this.notifyChange("vertices")}complete(){this._completeDrawing()}_addViewHandles(){this._removeViewHandles(),this.addHandles([this.view.on("click",(t=>{t.stopPropagation()}),c.o.TOOL),this.view.on("pointer-down",(t=>{this._shouldHandlePointerEvent(t)&&(this._abortSnapping(),this._activePointerId=t.pointerId,this._addVertexOnPointerUp=!0,this._cursorScreenPoint=(0,h.ZV)(t),"touch"===t.pointerType&&this._updateCursor())}),c.o.TOOL),this.view.on("pointer-move",(t=>{this._popVertexOnPointerMove&&(this.undo(),this._popVertexOnPointerMove=!1),this._abortSnapping(),this._cursorScreenPoint=(0,h.ZV)(t),"touch"!==t.pointerType&&this._updateCursor()}),c.o.TOOL),this.view.on("pointer-drag",(t=>{this._shouldHandlePointerEvent(t)&&(this._abortSnapping(),this._addVertexOnPointerUp=!1)}),c.o.TOOL),this.view.on("pointer-up",(t=>{if(this._shouldHandlePointerEvent(t))if(this._abortSnapping(),this._activePointerId=null,this._addVertexOnPointerUp)this._vertexAddHandler(t);else{const e="touch"===t.pointerType;this._updateCursor(e)}}),c.o.TOOL),this.view.on("drag",["Shift"],(t=>{t.stopPropagation()}),c.o.TOOL),this.view.on("double-click",(t=>{t.stopPropagation(),this._drawCompleteHandler(t)}),c.o.TOOL),this.view.on("double-click",["Control"],(t=>{t.stopPropagation(),this._drawCompleteHandler(t)}),c.o.TOOL),this.view.on("key-down",(t=>{const{key:e,repeat:n}=t;e===u.NE.vertexAdd&&!n&&this._cursorScreenPoint?(t.stopPropagation(),this._abortSnapping(),this._vertexAddHandler(t)):e!==u.NE.complete||n?e!==u.NE.undo||this.interactiveUndoDisabled||n?e!==u.NE.redo||this.interactiveUndoDisabled||n?e!==u.NE.pan||n||t.stopPropagation():(t.stopPropagation(),this.redo()):(t.stopPropagation(),this.undo()):(t.stopPropagation(),this._drawCompleteHandler(t))}),c.o.TOOL),this.view.on("key-up",(t=>{t.key===u.NE.pan&&t.stopPropagation()}),c.o.TOOL)],l)}_addUndoRedoHandles(){this._removeUndoRedoHandles(),this.addHandles([this._editGeometryOperations.on("vertex-remove",(t=>{if(this.notifyChange("vertices"),"undo"===t.operation){const e=[...this._committedVertices];null!=this._stagedVertex&&e.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit("undo",new a.NM(this.view,t.vertices[0].index,e))}})),this._editGeometryOperations.on("vertex-add",(t=>{if(this.notifyChange("vertices"),"apply"===t.operation){const t=this._committedVertices.length-1,e=new a.Sf(this.view,t,this.vertices);this.emit("vertex-add",e),e.defaultPrevented&&(this._popVertexOnPointerMove=!0)}else if("redo"===t.operation){const e=[...this._committedVertices];null!=this._stagedVertex&&e.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit("redo",new a.Sf(this.view,t.vertices[0].index,e))}}))],d)}_removeViewHandles(){this.removeHandles(l)}_removeUndoRedoHandles(){this.removeHandles(d)}_addVertex(t){const e=this._coordinateHelper.arrayToVector(t);this._isDuplicateOfLastVertex(e)||this._editGeometryOperations.appendVertex(e)}_updateCursor(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._popCursorVertex(),!this._cursorScreenPoint)return;const e=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);null==e||t||this._pushCursorVertex(e.vertex,(()=>this.emit("cursor-update",new a.sQ(this.view,this._activeComponent.vertices.length,this.vertices,null!=this._stagedVertex?new o.default(this._stagedVertex):null))))}_completeDrawing(){if(this._activePointerId=null,this._popCursorVertex(),this._abortSnapping(),null!=this._snappingManager&&this._snappingManager.doneSnapping(),this.vertices.length<1)return;const t=new a.cH(this.vertices);this.emit("draw-complete",t),t.defaultPrevented||this._removeViewHandles()}};p=(0,i._)([(0,r.$)("esri.views.draw.MultipointDrawAction")],p);const f=p},66509:(t,e,n)=>{function i(){return[0,0,0,1]}function r(t){return[t[0],t[1],t[2],t[3]]}function o(t,e,n,i){return[t,e,n,i]}n.d(e,{fA:()=>o,o8:()=>r,vt:()=>i,zK:()=>s});const s=[0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:s,clone:r,create:i,fromValues:o},Symbol.toStringTag,{value:"Module"}))},68263:(t,e,n)=>{n.d(e,{e:()=>i});class i{constructor(t){this.vertexHandle=null,this.excludeFeature=null,this.visualizer=null,this.selfSnappingZ=null,this.drawConstraints=null,this.editGeometryOperations=t.editGeometryOperations,this.elevationInfo=t.elevationInfo,this.pointer=t.pointer,this.vertexHandle=t.vertexHandle,this.excludeFeature=t.excludeFeature,this.feature=t.feature,this.visualizer=t.visualizer,this.selfSnappingZ=t.selfSnappingZ,this.drawConstraints=t.drawConstraints}get coordinateHelper(){return this.editGeometryOperations.data.coordinateHelper}get spatialReference(){return this.coordinateHelper.spatialReference}}},94761:(t,e,n)=>{n.d(e,{NM:()=>r,Sf:()=>i,cH:()=>s,sQ:()=>o});class i{constructor(t,e,n){this.view=t,this.vertexIndex=e,this.vertices=n,this.defaultPrevented=!1,this.type="vertex-add"}preventDefault(){this.defaultPrevented=!0}}class r{constructor(t,e,n){this.view=t,this.vertexIndex=e,this.vertices=n,this.defaultPrevented=!1,this.type="vertex-remove"}preventDefault(){this.defaultPrevented=!0}}class o{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.view=t,this.vertexIndex=e,this.vertices=n,this.mapPoint=i,this.coordinates=null,this.defaultPrevented=!1,this.type="cursor-update",this.coordinates=1===n.length?n[0]:null}preventDefault(){this.defaultPrevented=!0}}class s{constructor(t){this.vertices=t,this.coordinates=null,this.defaultPrevented=!1,this.type="draw-complete",this.coordinates=1===t.length?t[0]:null}preventDefault(){this.defaultPrevented=!0}}}}]);