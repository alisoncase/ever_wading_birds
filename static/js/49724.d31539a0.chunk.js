"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[49724,79538,81060],{28245:(e,t,n)=>{n.d(t,{bG:()=>i,Ty:()=>l,YJ:()=>c,Fq:()=>m,vt:()=>o});var r=n(82301),s=n(79538);class a{constructor(e){const{name:t,label:n,description:r,schemes:a}=e;this.name=t,this.label=n,this.description=r,this.schemes=a;const i=e.basemapGroups||s.Np;let o=[];Object.keys(i).forEach((e=>{o=o.concat(i[e])})),this.supportedBasemaps=o,this.basemapGroups=i}isBasemapSupported(e){const t=(0,s.T1)(e,this.supportedBasemaps);return!(!t||!this.supportedBasemaps.includes(t))}getRawSchemes(e){const{basemapId:t,basemapTheme:n}=function(e,t,n){let r=null,a=null;if(t&&(r=(0,s.T1)(t,e,!1),r)){const e=(0,s.BV)(r);null!=e&&(a=e)}return!r&&n&&(r="dark"===n?"dark-gray":"gray",a=n),r||a||(r="gray",a="light"),{basemapId:r,basemapTheme:a}}(this.supportedBasemaps,e.basemap,e.basemapTheme);let a=n;if(t){const e=(0,s.BV)(t,this.basemapGroups);null!=e&&(a=e)}let i=e.geometryType;"multipoint"===i?i="point":"mesh"===i&&(i="polygon");const o=this.schemes[i]||this.schemes.default;return{schemesInfo:(0,r.clone)(o[a]),basemapId:t,basemapTheme:n}}}function i(e){const t=e.themeDictionary,n=new Map;for(const r in t){const e=t[r];n.set(r,new a(e))}return n}function o(e,t){const n=[];return e.forEach((e=>{e.isBasemapSupported(t)&&n.push({name:e.name,label:e.label,description:e.description,basemaps:[...e.supportedBasemaps]})})),n}function l(e,t){if(!e)return;if(!t)return;let n=null;const r=[t.primaryScheme,...t.secondarySchemes];for(const s of r)if(s.name?.toLowerCase()===e.toLowerCase()){n=s;break}return n}function c(e,t,n){if(!e&&!t)return[];if(!n)return[];const r=!e?.length,s=!t?.length,a=[n.primaryScheme,...n.secondarySchemes],i=[];for(const o of a){const n=!!r||e.some((e=>o.tags.includes(e))),a=!s&&t.some((e=>o.tags.includes(e)));n&&!a&&i.push(o)}return i}function m(e){const t=e.theme;if(t)return t.getRawSchemes({basemap:e.basemap,geometryType:e.geometryType,basemapTheme:e.basemapTheme})}},42648:(e,t,n)=>{n.d(t,{_J:()=>c,_t:()=>l});var r=n(16804),s=n(79538);const a=s.Np.light,i=s.Np.dark;function o(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b}function l(e,t){let n=0;if(e.length===t.length){let r=e.every(((e,n)=>o(e,t[n])));r?n=1:(r=e.slice().reverse().every(((e,n)=>o(e,t[n]))),r&&(n=-1))}return n}function c(e,t){return Math.ceil(function(e){const t=e.width,n=e.height;let s=e.pixelSizeAt(e.toMap((0,r.tc)(.5*t,.5*n),{exclude:[]}));if(s<=0&&(s=e.pixelSizeAt(e.toMap((0,r.tc)(.5*t,.95*n),{exclude:[]})),s<=0&&"camera"in e)){const t=e.camera.position.clone();t.z=0,s=2*e.pixelSizeAt(t)}return s}(t)*(0,r.Lz)((0,r.cr)(e)))}},75629:(e,t,n)=>{n.r(t),n.d(t,{cloneScheme:()=>y,getSchemeByName:()=>h,getSchemes:()=>f,getSchemesByTag:()=>g,getThemes:()=>d});var r=n(88102),s=n(62631),a=n(72410),i=n(43073),o=n(28245);const l={color:"#4c64c9",density:.8,layerEffect:"drop-shadow(1px, 1px, 3px, rgba(0,0,0,0.75))"},c={color:"#00ffff",density:.8,layerEffect:"bloom(1.4, 0.6px, 0)"},m={flowSpeed:10,trailLength:100,trailWidth:1,trailCap:"butt",minSize:1,maxSize:4},u={flowSpeed:3,trailLength:.7,trailWidth:8,trailCap:"butt",minSize:4,maxSize:16},p=(0,o.bG)({themeDictionary:{"flow-line":{name:"flow-line",label:"TODO",description:"TODO",schemes:{default:{light:{common:{...m,...l},primary:"seq-lines-purple-brown",secondary:[...a.sequentialLightSchemes,...a.sequentialDarkSchemes].filter((e=>"seq-lines-purple-brown"!==e))},dark:{common:{...m,...c},primary:"seq-mentone-beach",secondary:[...a.sequentialDarkSchemes,...a.sequentialLightSchemes].filter((e=>"seq-mentone-beach"!==e))}}}},"wave-front":{name:"wave-front",label:"TODO",description:"TODO",schemes:{default:{light:{common:{...u,...l},primary:"seq-lines-purple-brown",secondary:[...a.sequentialLightSchemes,...a.sequentialDarkSchemes].filter((e=>"seq-lines-purple-brown"!==e))},dark:{common:{...u,...c},primary:"seq-mentone-beach",secondary:[...a.sequentialDarkSchemes,...a.sequentialLightSchemes].filter((e=>"seq-mentone-beach"!==e))}}}}}});function d(e){return(0,o.vt)(p,e)}function f(e){const t=e.theme||"flow-line",n=(0,o.Fq)({basemap:e.basemap,basemapTheme:e.basemapTheme,theme:p.get(t)});if(!n)return;const{schemesInfo:r,basemapId:a,basemapTheme:i}=n,l=r.common,c={...e,basemap:a};return{primaryScheme:b(c,r.primary,l),secondarySchemes:r.secondary.map((e=>b(c,e,l))).filter(s.Ru),basemapId:a,basemapTheme:i}}function h(e){return(0,o.Ty)(e.name,f(e))}function g(e){return(0,o.YJ)(e.includedTags,e.excludedTags,f(e))}function y(e){if(!e)return;const t={...e};return t.colors=t.colors.map((e=>new r.default(e))),t.tags=[...t.tags],t.color&&(t.color=new r.default(t.color)),t}function b(e,t,n){const s=e.theme||"flow-line",a=i.A[t];if(!a)return;const o=a.stops;return{id:`${s}/${e.basemap}/${t}`,name:a.name,tags:[...a.tags],theme:s,color:new r.default(n.color),colors:o.map((e=>new r.default(e))),density:n.density,flowSpeed:n.flowSpeed,trailLength:"wave-front"===s&&e.hasSizeVariable?2*n.trailLength:n.trailLength,trailWidth:n.trailWidth,trailCap:n.trailCap,layerEffect:n.layerEffect,minSize:n.minSize,maxSize:n.maxSize,minOpacity:.25,maxOpacity:1}}},79538:(e,t,n)=>{n.d(t,{BV:()=>D,EG:()=>S,Lk:()=>k,Ll:()=>$,Np:()=>m,R3:()=>z,SO:()=>f,T1:()=>x,UH:()=>c,Wy:()=>w,XR:()=>d,aM:()=>q,fs:()=>b,i0:()=>O,i3:()=>y});var r=n(66845),s=n(95011),a=n(96247),i=n(76983),o=n(73210),l=n(40731);const c=",",m={light:["streets","gray","topo","terrain","oceans","osm","gray-vector","streets-vector","topo-vector","streets-relief-vector","streets-navigation-vector","topo-3d","navigation-3d","streets-3d","osm-3d","gray-3d"],dark:["satellite","hybrid","dark-gray","dark-gray-vector","streets-night-vector","navigation-dark-3d","streets-dark-3d","dark-gray-3d"]},u="percent-of-total",p="field",d={exclude:["median"]},f={years:365,months:30,days:1,hours:1/24,minutes:1/1440,seconds:1/86400,milliseconds:1/864e5},h=new Set(["integer","small-integer"]);let g=null;const y=["date","date-only","timestamp-offset"];function b(e){return(0,s.isDateField)(e)||(0,s.isDateOnlyField)(e)||(0,s.isTimestampOffsetField)(e)}async function S(e){const{field:t,field2:n,field3:r,normalizationField:s,valueExpression:i}=e;let o=[];if(i){if(!g){const{arcadeUtils:e}=await(0,a.lw)();g=e}o=g.extractFieldNames(i)}return t&&o.push(t),n&&o.push(n),r&&o.push(r),s&&o.push(s),o}function w(e){let t=e.normalizationType;return t||(e.normalizationField?t=p:null!=e.normalizationTotal&&(t=u)),t??void 0}function T(e){return String(e).padStart(2,"0")}function v(e,t,n){let r;return"date"===t||"number"===t?("number"===t&&(e=new Date(e)),r=`TIMESTAMP'${n?e.getFullYear():e.getUTCFullYear()}-${T((n?e.getMonth():e.getUTCMonth())+1)}-${T(n?e.getDate():e.getUTCDate())} ${T(n?e.getHours():e.getUTCHours())}:${T(n?e.getMinutes():e.getUTCMinutes())}:${T(n?e.getSeconds():e.getUTCSeconds())}'`):r=e,r}function q(e,t,n,r){const{hasQueryEngine:s}=e,a=`(${v(n,k(e,n),s)} - ${v(t,k(e,t),s)})`;let i=f[r],o="/";return i<1&&(i=1/i,o="*"),{sqlExpression:1===i?a:`(${a} ${o} ${i})`,sqlWhere:null}}function k(e,t){if(t instanceof Date)return"date";if("number"==typeof t)return"number";if("string"==typeof t){const n=e.getField(t);if("<now>"===t.toLowerCase())return;if((0,s.isDateField)(n))return"field"}}function D(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m;for(const n in t)if(t[n].includes(e))return n}function x(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=null;return e&&("string"==typeof e?t.includes(e)&&(r=e):r=(0,i.q3)(e)),n?r||"gray":r}function z(e,t){const n=t&&e.getField(t);return!!n&&h.has(n.type)}function $(e){return`cast(${e} as float)`}function O(e,t){const{format:n,timeZoneOptions:s,fieldType:a}=t??{};let i,c;if(s&&({timeZone:i,timeZoneName:c}=(0,l.hv)(s.layerTimeZone,s.datesInUnknownTimezone,s.viewTimeZone,(0,r.J2)(n||"short-date-short-time"),a)),"string"==typeof e&&isNaN(Date.parse("time-only"===a?`1970-01-01T${e}Z`:e)))return e;switch(a){case"date-only":{const t=(0,r.J2)(n||"short-date");return"string"==typeof e?(0,r.iS)(e,{...t}):(0,r.Yq)(e,{...t,timeZone:o.n$})}case"time-only":{const t=(0,r.J2)(n||"short-time");return"string"==typeof e?(0,r.F8)(e,t):(0,r.Yq)(e,{...t,timeZone:o.n$})}case"timestamp-offset":{if(!i&&"string"==typeof e&&new Date(e).toISOString()!==e)return e;const t=n||s?(0,r.J2)(n||"short-date-short-time"):void 0,a=t?{...t,timeZone:i,timeZoneName:c}:void 0;return"string"==typeof e?(0,r.Ey)(e,a):(0,r.Yq)(e,a)}default:{const t=n||s?(0,r.J2)(n||"short-date-short-time"):void 0;return(0,r.Yq)("string"==typeof e?new Date(e):e,t?{...t,timeZone:i,timeZoneName:c}:void 0)}}}}}]);