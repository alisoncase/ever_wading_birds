"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[20250,53010],{12069:(e,t,s)=>{s.r(t),s.d(t,{default:()=>r});var i=s(93800),a=s(48602),n=(s(21265),s(50925),s(14746),s(75269)),l=s(65455);let o=class extends l.default{constructor(e){super(e),this.handlesSyncedToPrimary=!0}set primaryHandleEnabled(e){this._set("primaryHandleEnabled",e)}get primaryHandleEnabled(){const{stops:e}=this;if(!e?.length)return!1;const t=e.length;return(3===t||5===t)&&this._get("primaryHandleEnabled")}get values(){const{primaryHandleEnabled:e,stops:t}=this;if(!t?.length||t.length<2)return[];const s=this.getValuesFromStops();return e?3===s.length?[s[0],s[1],s[2]]:[s[0],s[2],s[4]]:[s[0],s[s.length-1]]}setValue(e,t){const{max:s,min:i,values:a}=this,n=a[e];if(isNaN(t)||n===t||t>s||t<i)return;t=this.toPrecision(t);const l=this.primaryHandleEnabled&&this.handlesSyncedToPrimary;if(l){const s=a.slice().sort(((e,t)=>e>t?1:-1))[1];(0===e&&t>s||2===e&&t<s)&&(t=s)}const o=this.getStopChanges(e,t);this.updateStops(o),l?this.notifyChange("values"):(a[e]=t,this._set("values",[...a])),this.notifyChange("labels")}getStopIndexFromValueIndex(e){const{handlesSyncedToPrimary:t,primaryHandleEnabled:s}=this;if(s){const{values:s}=this,i=s[e];if(t)return e;const a=s.slice().sort(((e,t)=>e>t?1:-1)),n=a.indexOf(i);return s.some(((e,t)=>e===i&&t!==n))?a.lastIndexOf(i):n}return super.getStopIndexFromValueIndex(e)}getStopChanges(e,t){return this.primaryHandleEnabled?this._getStopChanges(e,t):super.getStopChanges(e,t)}_getStopChanges(e,t){const{max:s,min:i,stops:a,values:n}=this,l=this.handlesSyncedToPrimary&&1===e,o=n[e],r=n.slice();l||(r[e]=t);const u=r.sort(((e,t)=>e>t?1:-1)),h=l?t:u[1],d=t-o,p=l?this.toPrecision(Math.max(Math.min(u[0]+d,s),i)):u[0],m=l?this.toPrecision(Math.max(Math.min(u[2]+d,s),i)):u[2];return 5===a.length?[{index:0,value:p},{index:1,value:this.toPrecision((h+p)/2)},{index:2,value:h},{index:3,value:this.toPrecision((h+m)/2)},{index:4,value:m}]:[{index:0,value:p},{index:1,value:h},{index:2,value:m}]}};(0,i._)([(0,a.MZ)()],o.prototype,"handlesSyncedToPrimary",void 0),(0,i._)([(0,a.MZ)()],o.prototype,"primaryHandleEnabled",null),(0,i._)([(0,a.MZ)({dependsOn:["handlesSyncedToPrimary"],readOnly:!0})],o.prototype,"values",null),o=(0,i._)([(0,n.$)("esri.widgets.smartMapping.SmartMappingPrimaryHandleSliderViewModel")],o);const r=o},20250:(e,t,s)=>{s.r(t),s.d(t,{default:()=>S});var i,a=s(93800),n=s(74719),l=s(48602),o=(s(21265),s(50925),s(14746),s(75269)),r=s(80382),u=s(53010),h=s(88311),d=s(81467),p=s(30692),m=s(63354),c=s(20348),g=s(50821),v=s(17745),b=s(76697),f=s(87118);const x="esri-color-size-slider",y={base:x,rampElement:`${x}__ramp`,sliderContainer:`${x}__slider-container`,histogramContainer:`${x}__histogram-container`,primaryHandle:`${x}--primary-handle`,track:`${x}--interactive-track`};let _=i=class extends p.default{constructor(e,t){super(e,t),this._backgroundFillColor="#e0e0e0",this._minRampFillWidth=.2,this._rampNode=null,this._maxRampFillWidth=1,this.messages=null,this.viewModel=new m.default,this._bgFillId=`${this.id}-bg-fill`,this._rampFillId=`${this.id}-linear-gradient`}get handlesSyncedToPrimary(){return this.viewModel.handlesSyncedToPrimary}set handlesSyncedToPrimary(e){this.viewModel.handlesSyncedToPrimary=e}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get persistSizeRangeEnabled(){return this.viewModel.persistSizeRangeEnabled}set persistSizeRangeEnabled(e){this.viewModel.persistSizeRangeEnabled=e}get primaryHandleEnabled(){return this.viewModel.primaryHandleEnabled}set primaryHandleEnabled(e){this.viewModel.primaryHandleEnabled=e}get stops(){return this.viewModel.stops}set stops(e){this.viewModel.stops=e}static fromRendererResult(e,t){const s=e.size.visualVariables,a=e.renderer.authoringInfo?.univariateTheme,l=e.color?.visualVariable.stops,{statistics:o}=e,{avg:h,stddev:d}=o;if(!l)throw new n.default("ColorSizeSlider-fromRendererResult:invalid-renderer-result","'result' must include 'color' variable.");const p="above-and-below"===a,[m,c]=(0,r.N)(e.renderer.authoringInfo),g=s.find((e=>"outline"!==e?.target&&!(e?.axis&&!e?.field&&!e?.valueExpression)&&(e?.field||e?.valueExpression))),v=g.stops,b=l.map(((e,t)=>{const{color:s,label:i,value:a}=e;let n;return n=v&&v.length>0?v[t].size:0===t?g.minSize:t===l.length-1?g.maxSize:null,new u.default({color:s,label:i,value:a,size:n})}));return new i({max:c,min:m,stops:b,primaryHandleEnabled:p,handlesSyncedToPrimary:p,persistSizeRangeEnabled:p,histogramConfig:{average:h??void 0,standardDeviation:d??void 0,bins:t?t.bins:[]}})}updateFromRendererResult(e,t){const s=e.size.visualVariables,i=e.renderer.authoringInfo?.univariateTheme,a=e.color?.visualVariable.stops,{statistics:l}=e,{avg:o,stddev:h}=l;if(!a)throw new n.default("ColorSizeSlider-fromRendererResult:invalid-renderer-result","'result' must include 'color' variable.");const d="above-and-below"===i,[p,m]=(0,r.N)(e.renderer.authoringInfo),c=s.find((e=>"outline"!==e?.target&&!(e?.axis&&!e?.field&&!e?.valueExpression)&&(e?.field||e?.valueExpression))),g=c.stops,v=a.map(((e,t)=>{const{color:s,label:i,value:n}=e;let l;return l=g&&g.length>0?g[t].size:0===t?c.minSize:t===a.length-1?c.maxSize:null,new u.default({color:s,label:i,value:n,size:l})}));this.set({max:m,min:p,stops:v,primaryHandleEnabled:d,handlesSyncedToPrimary:d,persistSizeRangeEnabled:d,histogramConfig:{average:o,standardDeviation:h,bins:t?t.bins:[]}})}updateRenderer(e){const{stops:t}=this,s=t[0],i=t[t.length-1],a=t[Math.floor(t.length/2)],n=e.clone(),l=n.visualVariables?.map((e=>{if("size"===e.type){if("outline"===e?.target||e?.axis&&!e?.field&&!e?.valueExpression)return e;null!=e.minSize&&null!=e.maxSize?e.set({maxDataValue:i.value,minDataValue:s.value,maxSize:i.size,minSize:s.size}):e.stops&&e.set({stops:t.map((e=>{const{label:t,size:s,value:i}=e;return new d.default({label:t,size:s,value:i})}))})}else"color"===e.type&&e.set({stops:this.stops.map((e=>{const{color:t,label:s,value:i}=e;return new h.default({color:t,label:s,value:i})}))});return e}))??null;if(n.visualVariables=l,n.classBreakInfos.length>1){const e=a.value;n.classBreakInfos[0].maxValue=e,n.classBreakInfos[1].minValue=e}return n}updateVisualVariables(e){return e.map((e=>{const t=e.clone();if("size"===e.type){if("outline"===e?.target||e?.axis&&!e?.field&&!e?.valueExpression)return t;if(null!=e.minSize&&null!=e.maxSize){const{stops:e}=this,s=e[0],i=e[e.length-1];t.set({maxDataValue:i.value,minDataValue:s.value,maxSize:i.size,minSize:s.size})}else e.stops&&t.set({stops:this.stops.map((e=>{const{label:t,size:s,value:i}=e;return new d.default({label:t,size:s,value:i})}))})}else"color"===e.type&&t.set({stops:this.stops.map((e=>{const{color:t,label:s,value:i}=e;return new h.default({color:t,label:s,value:i})}))});return t}))}render(){const{label:e,primaryHandleEnabled:t,state:s,visibleElements:i}=this,a="disabled"===s,n=this.classes(y.base,g.D.widget,g.D.panel,{[g.D.disabled]:a,[y.primaryHandle]:t,[y.track]:!!i.interactiveTrack});return(0,f.K)("div",{"aria-label":e,class:n},a?null:this.renderContent(this._renderRamp(),y.sliderContainer,y.histogramContainer))}_renderRamp(){const{_bgFillId:e,_rampFillId:t,viewModel:s,zoomOptions:i}=this,a=s.getStopInfo();return(0,f.K)("div",{afterCreate:v.cA,bind:this,class:y.rampElement,"data-node-ref":"_rampNode"},(0,f.K)("svg",{xmlns:"http://www.w3.org/2000/svg"},(0,f.K)("defs",null,this.renderRampFillDefinition(t,a),this.renderBackgroundFillDefinition(e)),(0,f.K)("rect",{fill:this._backgroundFillColor,height:"100%",width:"100%",x:"0",y:"0"}),this._renderPaths()),i?this.renderZoomCaps():null)}_renderPaths(){if(!this._rampNode)return;const{offsetHeight:e=0,offsetWidth:t=0}=this._rampNode;if(null==e||null==t)return;const{primaryHandleEnabled:s,stops:i,values:a,viewModel:{max:n,min:l},_bgFillId:o,_maxRampFillWidth:r,_minRampFillWidth:u,_rampFillId:h}=this,d=[r,u];i[0].size<i[i.length-1].size&&d.reverse();const p=a.slice().sort(((e,t)=>e>t?1:-1)),[m,g]=d,[v,b]=p,x=s?(0,c.getDynamicPathForSizeStops)({max:n,min:l,pathHeight:e,pathWidth:t,stops:i,padding:u}):(0,c.getPathForSizeStops)({bottomValue:v,bottomWidth:m,max:n,min:l,pathHeight:e,pathWidth:t,topValue:b,topWidth:g});return[(0,f.K)("path",{d:x,fill:`url(#${o})`,key:"background"}),(0,f.K)("path",{d:x,fill:`url(#${h})`,key:"fill"})]}};(0,a._)([(0,l.MZ)()],_.prototype,"label",null),(0,a._)([(0,l.MZ)(),(0,b.G)("esri/widgets/smartMapping/ColorSizeSlider/t9n/ColorSizeSlider")],_.prototype,"messages",void 0),(0,a._)([(0,l.MZ)()],_.prototype,"persistSizeRangeEnabled",null),(0,a._)([(0,l.MZ)()],_.prototype,"primaryHandleEnabled",null),(0,a._)([(0,l.MZ)()],_.prototype,"stops",null),(0,a._)([(0,l.MZ)({type:m.default})],_.prototype,"viewModel",void 0),_=i=(0,a._)([(0,o.$)("esri.widgets.smartMapping.ColorSizeSlider")],_);const S=_},53010:(e,t,s)=>{s.r(t),s.d(t,{default:()=>m});var i,a=s(93800),n=s(88102),l=s(19455),o=s(16804),r=s(48602),u=s(80556),h=(s(21265),s(14746),s(75269)),d=s(15484);let p=i=class extends l.A{constructor(e){super(e),this.color=null,this.label=null,this.size=null,this.value=null}writeValue(e,t,s){t[s]=e??0}clone(){return new i({color:this.color,label:this.label,size:this.size,value:this.value})}};(0,a._)([(0,r.MZ)({type:n.default,json:{type:[u.jz],write:!0}})],p.prototype,"color",void 0),(0,a._)([(0,r.MZ)({type:String,json:{write:!0}})],p.prototype,"label",void 0),(0,a._)([(0,r.MZ)({type:Number,cast:o.cr,json:{write:!0}})],p.prototype,"size",void 0),(0,a._)([(0,r.MZ)({type:Number,json:{write:{allowNull:!0}}})],p.prototype,"value",void 0),(0,a._)([(0,d.K)("value")],p.prototype,"writeValue",null),p=i=(0,a._)([(0,h.$)("esri.renderers.visualVariables.support.ColorSizeStop")],p);const m=p},63354:(e,t,s)=>{s.r(t),s.d(t,{default:()=>o});var i=s(93800),a=(s(50925),s(21265),s(14746),s(74719),s(75269)),n=s(87392);let l=class extends n.default{constructor(e){super(e)}getStopInfo(){const{min:e,max:t,stops:s}=this;return s?.length?s.map((s=>({color:s.color,offset:(t-s.value)/(t-e)}))):[]}};l=(0,i._)([(0,a.$)("esri.widgets.smartMapping.ColorSizeSlider.ColorSizeSliderViewModel")],l);const o=l},65455:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var i=s(93800),a=s(48602),n=(s(21265),s(50925),s(14746),s(75269)),l=s(99400),o=s(20348);let r=class extends l.default{constructor(e){super(e),this._initialStopValues=[],this._max=null,this._min=null,this.hasTimeData=!1,this.inputFormatFunction=(e,t)=>"max"===t?this.getUnzoomedMax().toString():"min"===t?this.getUnzoomedMin().toString():e.toString(),this.inputParseFunction=null,this.labelFormatFunction=e=>{if(this.hasTimeData)return(0,o.formatDateLabel)(e);const{max:t,min:s,precision:i}=this,a=t-s>10?2:i;return(0,o.formatNumberLabel)(parseFloat(e.toFixed(a)))},this.thumbsConstrained=!1,this.zoomingEnabled=!0}set breaks(e){this._set("breaks",e),this.notifyChange("max"),this.notifyChange("min")}set stops(e){if(e?.length){const{max:t,min:s}=this,i=this.getValuesFromStops(e),a={};null!=s&&i.some((e=>e<s))&&(a.min=Math.min(...i)),null!=t&&i.some((e=>e>t))&&(a.max=Math.max(...i)),this.set({...a}),this._initialStopValues=i}else this._initialStopValues=null;this._set("stops",e||null),this.notifyChange("values")}get labels(){const{values:e}=this,t=e&&e.length?e.map(((e,t)=>this.getLabelForValue(e,"value",t))):[],s=this.getUnzoomedMax(),i=this.getUnzoomedMin();return{max:this.getLabelForValue(s,"max"),min:this.getLabelForValue(i,"min"),values:t}}get max(){const{breaks:e}=this;return e?.length?e[e.length-1].max:this.max}set max(e){const{zoomOptions:t}=this;if(null!=t?.max){const s=this.values;let i=t.max;if(e<i&&(i=e,t.max=e),s&&s.length)for(let t=0;t<s.length;t++)e<s[t]&&this.setValue(t,e);this._storeZoomMax(i,e)}else this.updateBreakMax(e),this.setMax(e);this.notifyChange("labels")}get min(){const{breaks:e}=this;return e?.length?e[0].min:this.min}set min(e){const{zoomOptions:t}=this;if(null!=t?.min){const s=this.values;let i=t.min;if(e>i&&(i=e,t.min=e),s&&s.length)for(let t=0;t<s.length;t++)e>s[t]&&this.setValue(t,e);this._storeZoomMin(i,e)}else this.updateBreakMin(e),this.setMin(e);this.notifyChange("labels")}get state(){const{max:e,min:t,values:s}=this;return null!=e&&null!=t&&s.length>0?"ready":"disabled"}get values(){const{breaks:e,stops:t}=this;if(!e&&!t)return[];if(e?.length){const t=e.map((e=>e.max));return t.pop(),t}if(t?.length<2)return[];const s=this.getValuesFromStops();return[s[0],s[s.length-1]]}set zoomOptions(e){const{zoomingEnabled:t,zoomOptions:s}=this;if(t){if(s){const t=null!=this._max?this._max:this.max,s=null!=this._min?this._min:this.min;if(e){const{max:i,min:a}=e,n=null!=i,l=null!=a,o=l?e.min:s,r=l?s:null,u=n?e.max:t,h=n?t:null;this._storeZoomMin(o,r),this._storeZoomMax(u,h)}else this.setMax(t),this.setMin(s),this._min=null,this._max=null}else if(e){const{max:t,min:s}=e;null!=s&&this._storeZoomMin(e.min,this.min),null!=t&&this._storeZoomMax(e.max,this.max)}this._set("zoomOptions",e),this.notifyChange("max"),this.notifyChange("min")}}getStopIndexFromValueIndex(e){const{stops:t}=this,s=this.values[e];return 0===e?s<=this.values[1]?0:t.length-1:1===e?this.values[0]>=s?0:t.length-1:null}getStopChanges(e,t){const s=this.stops,i=this.getStopIndexFromValueIndex(e),a=this.getValuesFromStops();a[i]=t;const[n,l]=[a[0],a[a.length-1]].sort(((e,t)=>e>t?1:-1)),o=l-n,r=s.length-1;return a.map(((e,t)=>({index:t,value:this.toPrecision(n+t*o/r)})))}setValue(e,t){const{max:s,min:i,values:a}=this,n=a[e];if(isNaN(t)||n===t||t>s||t<i)return;a[e]=this.toPrecision(t),this._set("values",[...a]);const l=a.slice().sort(((e,t)=>e>t?1:-1)),r=l[0],u=l[l.length-1],h=(0,o.getStopChanges)(r,u,this._initialStopValues??[]);this.updateStops(h),this.updateBreaks(),this.notifyChange("labels")}getValuesFromStops(e){const t=e||this.stops;return t?.map((e=>e.hasOwnProperty("ratio")?e.ratio:e.value))}updateBreaks(){const{breaks:e,values:t}=this;e?.length&&t.slice().sort(((e,t)=>e>t?1:-1)).forEach(((t,s)=>{e[s].max=t,null!=e[s+1]&&(e[s+1].min=t)}))}updateBreakMax(e){const{breaks:t,max:s,min:i}=this;!isNaN(e)&&s!==e&&null!=i&&e>i&&t?.length&&(t[t.length-1].max=e)}updateBreakMin(e){const{breaks:t,max:s,min:i}=this;!isNaN(e)&&i!==e&&null!=s&&e<s&&t?.length&&(t[0].min=e)}updateStops(e){const{stops:t}=this,s=this.getValuesFromStops();if(s?.length){for(const t of e)s[t.index]=t.value;t.forEach(((e,t)=>{e.hasOwnProperty("ratio")?e.ratio=s[t]:e.value=s[t]}))}}getUnzoomedMax(){return this.zoomOptions&&null!=this._max?this._max:this.max}getUnzoomedMin(){return this.zoomOptions&&null!=this._min?this._min:this.min}_storeZoomMax(e,t){this._max=t,this.setMax(e)}_storeZoomMin(e,t){this._min=t,this.setMin(e)}};(0,i._)([(0,a.MZ)()],r.prototype,"breaks",null),(0,i._)([(0,a.MZ)()],r.prototype,"stops",null),(0,i._)([(0,a.MZ)()],r.prototype,"hasTimeData",void 0),(0,i._)([(0,a.MZ)()],r.prototype,"inputFormatFunction",void 0),(0,i._)([(0,a.MZ)()],r.prototype,"inputParseFunction",void 0),(0,i._)([(0,a.MZ)()],r.prototype,"labelFormatFunction",void 0),(0,i._)([(0,a.MZ)({readOnly:!0})],r.prototype,"labels",null),(0,i._)([(0,a.MZ)()],r.prototype,"max",null),(0,i._)([(0,a.MZ)()],r.prototype,"min",null),(0,i._)([(0,a.MZ)({readOnly:!0})],r.prototype,"state",null),(0,i._)([(0,a.MZ)()],r.prototype,"thumbsConstrained",void 0),(0,i._)([(0,a.MZ)({readOnly:!0})],r.prototype,"values",null),(0,i._)([(0,a.MZ)()],r.prototype,"zoomingEnabled",void 0),(0,i._)([(0,a.MZ)()],r.prototype,"zoomOptions",null),r=(0,i._)([(0,n.$)("esri.widgets.smartMapping.SmartMappingSliderViewModel")],r);const u=r},80382:(e,t,s)=>{function i(e){return a(e?.visualVariables[0])}function a(e){return[e?.minSliderValue??0,e?.maxSliderValue??0]}s.d(t,{N:()=>i,n:()=>a})},87392:(e,t,s)=>{s.r(t),s.d(t,{default:()=>r});var i=s(93800),a=s(48602),n=(s(21265),s(50925),s(14746),s(75269)),l=s(12069);let o=class extends l.default{constructor(e){super(e),this.persistSizeRangeEnabled=!1}updateStops(e){const{primaryHandleEnabled:t,persistSizeRangeEnabled:s,stops:i}=this,a=this.getValuesFromStops();if(a?.length&&(e.sort(((e,t)=>e.value>t.value?1:-1)).forEach((e=>{a[e.index]=e.value})),i.forEach(((e,t)=>e.value=a[t])),t&&s)){const{stops:e}=this,t=this.getValuesFromStops(),s=e.map((e=>e.size)),i=Math.max(...s),a=Math.min(...s),n=Math.max(...t),l=Math.min(...t),o=e[5===e.length?2:1].value,r=Math.abs(n-o),u=Math.abs(l-o),h=r>u?r:u,d=i-a;if(0===h)return;e.forEach((e=>{e.size=Math.abs(e.value-o)/h*d+a}))}}};(0,i._)([(0,a.MZ)()],o.prototype,"persistSizeRangeEnabled",void 0),o=(0,i._)([(0,n.$)("esri.widgets.smartMapping.SizeSlider.SizeSliderViewModel")],o);const r=o}}]);