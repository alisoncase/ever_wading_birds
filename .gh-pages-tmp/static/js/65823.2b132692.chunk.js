"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[65823],{1277:(t,e,n)=>{n.d(e,{C:()=>u,Cr:()=>h,H6:()=>p,LV:()=>l,_I:()=>d,dz:()=>T,fA:()=>f,kb:()=>g,ld:()=>_,sd:()=>m,vt:()=>c});var r=n(64682),i=n(32636),s=n(89227),a=n(28473),o=n(1696);function c(t){return t?{origin:(0,a.o8)(t.origin),vector:(0,a.o8)(t.vector)}:{origin:(0,a.vt)(),vector:(0,a.vt)()}}function l(t,e){const n=O.get();return n.origin=t,n.vector=e,n}function u(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c();return f(t.origin,t.vector,e)}function f(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c();return(0,s.c)(n.origin,t),(0,s.c)(n.vector,e),n}function h(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c();return(0,s.c)(n.origin,t),(0,s.d)(n.vector,e,t),n}function g(t,e){const n=(0,s.d)(o.rq.get(),e,t.origin),i=(0,s.f)(t.vector,n),a=(0,s.f)(t.vector,t.vector),c=(0,r.qE)(i/a,0,1),l=(0,s.d)(o.rq.get(),(0,s.h)(o.rq.get(),t.vector,c),n);return(0,s.f)(l,l)}function d(t,e,n){return p(t,e,0,1,n)}function m(t,e,n){return(0,s.g)(n,t.origin,(0,s.h)(n,t.vector,e))}function p(t,e,n,i,a){const{vector:c,origin:l}=t,u=(0,s.d)(o.rq.get(),e,l),f=(0,s.f)(c,u)/(0,s.k)(c);return(0,s.h)(a,c,(0,r.qE)(f,n,i)),(0,s.g)(a,a,t.origin)}function T(t,e){if(v(t,l(e.origin,e.direction),!1,y)){const{tA:e,pB:n,distance2:r}=y;if(e>=0&&e<=1)return r;if(e<0)return(0,s.s)(t.origin,n);if(e>1)return(0,s.s)((0,s.g)(o.rq.get(),t.origin,t.vector),n)}return null}function _(t,e,n){return!!v(t,e,!0,y)&&((0,s.c)(n,y.pA),!0)}function v(t,e,n,i){const a=1e-6,c=t.origin,l=(0,s.g)(o.rq.get(),c,t.vector),u=e.origin,f=(0,s.g)(o.rq.get(),u,e.vector),h=o.rq.get(),g=o.rq.get();if(h[0]=c[0]-u[0],h[1]=c[1]-u[1],h[2]=c[2]-u[2],g[0]=f[0]-u[0],g[1]=f[1]-u[1],g[2]=f[2]-u[2],Math.abs(g[0])<a&&Math.abs(g[1])<a&&Math.abs(g[2])<a)return!1;const d=o.rq.get();if(d[0]=l[0]-c[0],d[1]=l[1]-c[1],d[2]=l[2]-c[2],Math.abs(d[0])<a&&Math.abs(d[1])<a&&Math.abs(d[2])<a)return!1;const m=h[0]*g[0]+h[1]*g[1]+h[2]*g[2],p=g[0]*d[0]+g[1]*d[1]+g[2]*d[2],T=h[0]*d[0]+h[1]*d[1]+h[2]*d[2],_=g[0]*g[0]+g[1]*g[1]+g[2]*g[2],v=(d[0]*d[0]+d[1]*d[1]+d[2]*d[2])*_-p*p;if(Math.abs(v)<a)return!1;let y=(m*p-T*_)/v,O=(m+p*y)/_;n&&(y=(0,r.qE)(y,0,1),O=(0,r.qE)(O,0,1));const b=o.rq.get(),R=o.rq.get();return b[0]=c[0]+y*d[0],b[1]=c[1]+y*d[1],b[2]=c[2]+y*d[2],R[0]=u[0]+O*g[0],R[1]=u[1]+O*g[1],R[2]=u[2]+O*g[2],i.tA=y,i.tB=O,i.pA=b,i.pB=R,i.distance2=(0,s.s)(b,R),!0}const y={tA:0,tB:0,pA:(0,a.vt)(),pB:(0,a.vt)(),distance2:0},O=new i.I((()=>c()))},1700:(t,e,n)=>{n.d(e,{$e:()=>o,Eo:()=>c,j1:()=>l,mO:()=>u,vt:()=>a});var r=n(32636),i=n(89227),s=n(91102);function a(t){return t?{ray:(0,s.vt)(t.ray),c0:t.c0,c1:t.c1}:{ray:(0,s.vt)(),c0:0,c1:Number.MAX_VALUE}}function o(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a();return(0,s.C)(t,e.ray),e.c0=0,e.c1=Number.MAX_VALUE,e}function c(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a();const r=(0,i.l)(t.vector);return(0,s.fA)(t.origin,e,n.ray),n.c0=0,n.c1=r,n}function l(t,e){return f(t,t.c0,e)}function u(t,e){return f(t,t.c1,e)}function f(t,e,n){return(0,i.g)(n,t.ray.origin,(0,i.h)(n,t.ray.direction,e))}new r.I((()=>a()))},8609:(t,e,n)=>{n.d(e,{G7:()=>b,TH:()=>m,hz:()=>_});var r=n(87752),i=n(10382),s=n(89227),a=n(28473),o=n(60548),c=n(24646),l=n(91102),u=n(51064),f=n(92453),h=n(15828),g=n(27464),d=n(64863);const m=1e-5;class p{constructor(t){this.options=new f.H6,this._results=new v,this.transform=new d.dg,this.tolerance=m,this.verticalOffset=null,this._ray=(0,l.vt)(),this._rayEnd=(0,a.vt)(),this._rayBeginTransformed=(0,a.vt)(),this._rayEndTransformed=(0,a.vt)(),this.viewingMode=t??u.RT.Global}get results(){return this._results}get ray(){return this._ray}get rayBegin(){return this._ray.origin}get rayEnd(){return this._rayEnd}reset(t,e,n){this.resetWithRay((0,l.Cr)(t,e,this._ray),n)}resetWithRay(t,e){this.camera=e,t!==this._ray&&(0,l.C)(t,this._ray),0!==this.options.verticalOffset?this.viewingMode===u.RT.Local?this._ray.origin[2]-=this.options.verticalOffset:this.verticalOffset=this.options.verticalOffset:this.verticalOffset=null,(0,s.g)(this._rayEnd,this._ray.origin,this._ray.direction),this._results.init(this._ray)}intersect(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;this.point=e,this.filterPredicate=r,this.tolerance=n??m;const s=(0,d.ou)(this.verticalOffset);if(t&&t.length>0){const e=i?t=>{i(t)&&this.intersectObject(t)}:t=>{this.intersectObject(t)};for(const n of t){const t=n.getSpatialQueryAccelerator?.();null!=t?(null!=s?t.forEachAlongRayWithVerticalOffset(this._ray.origin,this._ray.direction,e,s):t.forEachAlongRay(this._ray.origin,this._ray.direction,e),this.options.selectionMode&&this.options.hud&&t.forEachDegenerateObject(e)):n.objects.forAll((t=>e(t)))}}this.sortResults()}intersectObject(t){const e=t.geometries;if(!e)return;const n=t.effectiveTransformation,r=(0,d.ou)(this.verticalOffset);for(const a of e){if(!a.visible)continue;const{material:e,id:o}=a;if(!e.visible)continue;this.transform.setAndInvalidateLazyTransforms(n,a.transformation),(0,s.t)(this._rayBeginTransformed,this.rayBegin,this.transform.inverse),(0,s.t)(this._rayEndTransformed,this.rayEnd,this.transform.inverse);const c=this.transform.transform;null!=r&&(r.objectTransform=this.transform),e.intersect(a,this.transform.transform,this,this._rayBeginTransformed,this._rayEndTransformed,((e,n,r,s,a,l)=>{if(e>=0){if(null!=this.filterPredicate&&!this.filterPredicate(this._ray.origin,this._rayEnd,e))return;const u=s?this._results.hud:this._results,g=s?s=>{const c=new h.B$(t,o,r,l);s.set(f.dz.HUD,c,e,n,i.zK,a)}:i=>i.set(f.dz.OBJECT,{object:t,geometryId:o,triangleNr:r},e,n,c,a);if((null==u.min.drapedLayerOrder||a>=u.min.drapedLayerOrder)&&(null==u.min.dist||e<u.min.dist)&&g(u.min),this.options.store!==f.oH.MIN&&(null==u.max.drapedLayerOrder||a<u.max.drapedLayerOrder)&&(null==u.max.dist||e>u.max.dist)&&g(u.max),this.options.store===f.oH.ALL)if(s){const t=new O(this._ray);g(t),this._results.hud.all.push(t)}else{const t=new y(this._ray);g(t),this._results.all.push(t)}}}))}}sortResults(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._results.all).sort(((t,e)=>t.dist!==e.dist?(t.dist??0)-(e.dist??0):t.drapedLayerOrder!==e.drapedLayerOrder?T(t.drapedLayerOrder,e.drapedLayerOrder):T(t.drapedLayerGraphicOrder,e.drapedLayerGraphicOrder)))}}function T(t,e){return(e??-Number.MAX_VALUE)-(t??-Number.MAX_VALUE)}function _(t){return new p(t)}class v{constructor(){this.min=new y((0,l.vt)()),this.max=new y((0,l.vt)()),this.hud={min:new O((0,l.vt)()),max:new O((0,l.vt)()),all:new Array},this.ground=new y((0,l.vt)()),this.all=[]}init(t){this.min.init(t),this.max.init(t),this.ground.init(t),this.all.length=0,this.hud.min.init(t),this.hud.max.init(t),this.hud.all.length=0}}class y{get ray(){return this._ray}get distanceInRenderSpace(){return null!=this.dist?((0,s.h)(R,this.ray.direction,this.dist),(0,s.l)(R)):null}withinDistance(t){return!!(0,g.i3)(this)&&this.distanceInRenderSpace<=t}getIntersectionPoint(t){return!!(0,g.i3)(this)&&((0,s.h)(R,this.ray.direction,this.dist),(0,s.g)(t,this.ray.origin,R),!0)}getTransformedNormal(t){return(0,s.c)(A,this.normal),A[3]=0,(0,o.t)(A,A,this.transformation),(0,s.c)(t,A),(0,s.n)(t,t)}constructor(t){this.intersector=f.dz.OBJECT,this.normal=(0,a.vt)(),this.transformation=(0,i.vt)(),this._ray=(0,l.vt)(),this.init(t)}init(t){this.dist=null,this.target=null,this.drapedLayerOrder=null,this.drapedLayerGraphicOrder=null,this.intersector=f.dz.OBJECT,(0,l.C)(t,this._ray)}set(t,e,n,o,c,l,u){this.intersector=t,this.dist=n,(0,s.c)(this.normal,o??a.Cb),(0,r.C)(this.transformation,c??i.zK),this.target=e,this.drapedLayerOrder=l,this.drapedLayerGraphicOrder=u}copy(t){(0,l.C)(t.ray,this._ray),this.intersector=t.intersector,this.dist=t.dist,this.target=t.target,this.drapedLayerOrder=t.drapedLayerOrder,this.drapedLayerGraphicOrder=t.drapedLayerGraphicOrder,(0,s.c)(this.normal,t.normal),(0,r.C)(this.transformation,t.transformation)}}class O extends y{constructor(){super(...arguments),this.intersector=f.dz.HUD}}function b(t){return new y(t)}const R=(0,a.vt)(),A=(0,c.vt)()},12096:(t,e,n)=>{n.d(e,{C:()=>T,DV:()=>v,FB:()=>r,J7:()=>i,Qy:()=>p,ST:()=>R,YH:()=>w,bU:()=>A,c8:()=>E,ig:()=>b,m7:()=>y,pw:()=>O,ui:()=>_,vt:()=>m});var r,i,s,a=n(32636),o=n(87752),c=n(89227),l=n(28473),u=n(60548),f=n(24646),h=n(1700),g=n(10872),d=n(1696);function m(t){return t?[(0,g.vt)(t[0]),(0,g.vt)(t[1]),(0,g.vt)(t[2]),(0,g.vt)(t[3]),(0,g.vt)(t[4]),(0,g.vt)(t[5])]:[(0,g.vt)(),(0,g.vt)(),(0,g.vt)(),(0,g.vt)(),(0,g.vt)(),(0,g.vt)()]}function p(){return[(0,l.vt)(),(0,l.vt)(),(0,l.vt)(),(0,l.vt)(),(0,l.vt)(),(0,l.vt)(),(0,l.vt)(),(0,l.vt)()]}function T(t,e){for(let n=0;n<w;n++)(0,g.C)(t[n],e[n]);return t}function _(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:F;const i=(0,o.lw)(d.Rc.get(),e,t);(0,o.B8)(i,i);for(let s=0;s<x;++s){const t=(0,u.t)(d.Km.get(),I[s],i);(0,c.i)(r[s],t[0]/t[3],t[1]/t[3],t[2]/t[3])}v(n,r)}function v(t,e){(0,g.Cr)(e[i.FAR_BOTTOM_LEFT],e[i.NEAR_BOTTOM_LEFT],e[i.NEAR_TOP_LEFT],t[r.LEFT]),(0,g.Cr)(e[i.NEAR_BOTTOM_RIGHT],e[i.FAR_BOTTOM_RIGHT],e[i.FAR_TOP_RIGHT],t[r.RIGHT]),(0,g.Cr)(e[i.FAR_BOTTOM_LEFT],e[i.FAR_BOTTOM_RIGHT],e[i.NEAR_BOTTOM_RIGHT],t[r.BOTTOM]),(0,g.Cr)(e[i.NEAR_TOP_LEFT],e[i.NEAR_TOP_RIGHT],e[i.FAR_TOP_RIGHT],t[r.TOP]),(0,g.Cr)(e[i.NEAR_BOTTOM_LEFT],e[i.NEAR_BOTTOM_RIGHT],e[i.NEAR_TOP_RIGHT],t[r.NEAR]),(0,g.Cr)(e[i.FAR_BOTTOM_RIGHT],e[i.FAR_BOTTOM_LEFT],e[i.FAR_TOP_LEFT],t[r.FAR])}function y(t,e){for(let n=0;n<w;n++){const r=t[n];if(r[0]*e[0]+r[1]*e[1]+r[2]*e[2]+r[3]>=e[3])return!1}return!0}function O(t,e){return M(t,(0,h.$e)(e,L.get()))}function b(t,e){for(let n=0;n<w;n++){const r=t[n];if(!(0,g.b6)(r,e))return!1}return!0}function R(t,e,n){return M(t,(0,h.Eo)(e,n,L.get()))}function A(t,e){for(let n=0;n<w;n++)if((0,g.mN)(t[n],e)>0)return!1;return!0}function M(t,e){for(let n=0;n<w;n++)if(!(0,g.$Q)(t[n],e))return!1;return!0}(s=r||(r={}))[s.LEFT=0]="LEFT",s[s.RIGHT=1]="RIGHT",s[s.BOTTOM=2]="BOTTOM",s[s.TOP=3]="TOP",s[s.NEAR=4]="NEAR",s[s.FAR=5]="FAR",function(t){t[t.NEAR_BOTTOM_LEFT=0]="NEAR_BOTTOM_LEFT",t[t.NEAR_BOTTOM_RIGHT=1]="NEAR_BOTTOM_RIGHT",t[t.NEAR_TOP_RIGHT=2]="NEAR_TOP_RIGHT",t[t.NEAR_TOP_LEFT=3]="NEAR_TOP_LEFT",t[t.FAR_BOTTOM_LEFT=4]="FAR_BOTTOM_LEFT",t[t.FAR_BOTTOM_RIGHT=5]="FAR_BOTTOM_RIGHT",t[t.FAR_TOP_RIGHT=6]="FAR_TOP_RIGHT",t[t.FAR_TOP_LEFT=7]="FAR_TOP_LEFT"}(i||(i={}));const E={bottom:[i.FAR_BOTTOM_RIGHT,i.NEAR_BOTTOM_RIGHT,i.NEAR_BOTTOM_LEFT,i.FAR_BOTTOM_LEFT],near:[i.NEAR_BOTTOM_LEFT,i.NEAR_BOTTOM_RIGHT,i.NEAR_TOP_RIGHT,i.NEAR_TOP_LEFT],far:[i.FAR_BOTTOM_RIGHT,i.FAR_BOTTOM_LEFT,i.FAR_TOP_LEFT,i.FAR_TOP_RIGHT],right:[i.NEAR_BOTTOM_RIGHT,i.FAR_BOTTOM_RIGHT,i.FAR_TOP_RIGHT,i.NEAR_TOP_RIGHT],left:[i.FAR_BOTTOM_LEFT,i.NEAR_BOTTOM_LEFT,i.NEAR_TOP_LEFT,i.FAR_TOP_LEFT],top:[i.FAR_TOP_LEFT,i.NEAR_TOP_LEFT,i.NEAR_TOP_RIGHT,i.FAR_TOP_RIGHT]},w=6,x=8,I=[(0,f.fA)(-1,-1,-1,1),(0,f.fA)(1,-1,-1,1),(0,f.fA)(1,1,-1,1),(0,f.fA)(-1,1,-1,1),(0,f.fA)(-1,-1,1,1),(0,f.fA)(1,-1,1,1),(0,f.fA)(1,1,1,1),(0,f.fA)(-1,1,1,1)],L=new a.I(h.vt),F=p()},13473:(t,e,n)=>{function r(){return[1,0,0,0,1,0,0,0,1]}function i(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]}function s(t,e,n,r,i,s,a,o,c){return[t,e,n,r,i,s,a,o,c]}n.d(e,{fA:()=>s,o8:()=>i,vt:()=>r,zK:()=>a});const a=[1,0,0,0,1,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:a,clone:i,create:r,createView:function(t,e){return new Float64Array(t,e,9)},fromValues:s},Symbol.toStringTag,{value:"Module"}))},15828:(t,e,n)=>{n.d(e,{B$:()=>s,HE:()=>a,R6:()=>o});var r=n(28473);class i{constructor(t,e,n){this.object=t,this.geometryId=e,this.triangleNr=n}}class s extends i{constructor(t,e,n,i){super(t,e,n),this.center=null!=i?(0,r.o8)(i):null}}class a{constructor(t){this.layerUid=t}}class o extends a{constructor(t,e){super(t),this.graphicUid=e}}},25071:(t,e,n)=>{n.d(e,{B:()=>_,a:()=>y,b:()=>Y,c:()=>w,d:()=>v,e:()=>G,f:()=>O,g:()=>A,h:()=>B,i:()=>M,n:()=>C,r:()=>z,t:()=>P,u:()=>b});n(21265);var r=n(50925),i=n(64682),s=n(32636),a=n(87752),o=n(10382),c=n(89227),l=n(28473),u=n(90772),f=n(91345),h=n(1277),g=n(10872),d=n(91102),m=n(49943),p=n(1696);const T=()=>r.A.getLogger("esri.views.3d.support.geometryUtils.boundedPlane");const _=class{constructor(){this.plane=(0,g.vt)(),this.origin=(0,l.vt)(),this.basis1=(0,l.vt)(),this.basis2=(0,l.vt)()}};function v(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S;return{plane:(0,g.vt)(t.plane),origin:(0,l.o8)(t.origin),basis1:(0,l.o8)(t.basis1),basis2:(0,l.o8)(t.basis2)}}function y(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v();return O(t.origin,t.basis1,t.basis2,e)}function O(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:v();return(0,c.c)(r.origin,t),(0,c.c)(r.basis1,e),(0,c.c)(r.basis2,n),b(r),function(t,e){Math.abs((0,c.f)(t.basis1,t.basis2)/((0,c.l)(t.basis1)*(0,c.l)(t.basis2)))>1e-6&&T().warn(e,"Provided basis vectors are not perpendicular"),Math.abs((0,c.f)(t.basis1,C(t)))>1e-6&&T().warn(e,"Basis vectors and plane normal are not perpendicular"),Math.abs(-(0,c.f)(C(t),t.origin)-t.plane[3])>1e-6&&T().warn(e,"Plane offset is not consistent with plane origin")}(r,"fromValues()"),r}function b(t){(0,g.mR)(t.basis2,t.basis1,t.origin,t.plane)}function R(t,e,n){t!==n&&y(t,n);const r=(0,c.h)(p.rq.get(),C(t),e);return(0,c.g)(n.origin,n.origin,r),n.plane[3]-=e,n}function A(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v();const n=(t[2]-t[0])/2,r=(t[3]-t[1])/2;return(0,c.i)(e.origin,t[0]+n,t[1]+r,0),(0,c.i)(e.basis1,n,0,0),(0,c.i)(e.basis2,0,r,0),(0,g.fA)(0,0,1,0,e.plane),e}function M(t,e,n){return!!(0,g.Ui)(t.plane,e,n)&&H(t,n)}function E(t,e,n){const r=Z.get();V(t,e,r,Z.get());let s=Number.POSITIVE_INFINITY;for(const a of W){const o=q(t,a,D.get()),l=p.rq.get();if((0,g.T7)(r,o,l)){const t=(0,c.o)(p.rq.get(),e.origin,l),r=Math.abs((0,i.XM)((0,c.f)(e.direction,t)));r<s&&(s=r,(0,c.c)(n,l))}}return s===Number.POSITIVE_INFINITY?x(t,e,n):n}function w(t,e){return(e-t)/e}function x(t,e,n){if(M(t,e,n))return n;const r=Z.get(),i=Z.get();V(t,e,r,i);let s=Number.POSITIVE_INFINITY;for(const a of W){const o=q(t,a,D.get()),l=p.rq.get();if((0,g.gv)(r,o,l)){const t=(0,d.kb)(e,l);if(!(0,g.Tj)(i,l))continue;t<s&&(s=t,(0,c.c)(n,l))}}return F(t,e.origin)<s&&I(t,e.origin,n),n}function I(t,e,n){const r=(0,g._I)(t.plane,e,p.rq.get()),i=(0,h.H6)(j(t,t.basis1),r,-1,1,p.rq.get()),s=(0,h.H6)(j(t,t.basis2),r,-1,1,p.rq.get());return(0,c.d)(n,(0,c.g)(p.rq.get(),i,s),t.origin),n}function L(t,e,n){const{origin:r,basis1:i,basis2:s}=t,a=(0,c.d)(p.rq.get(),e,r),o=(0,m.gr)(i,a),l=(0,m.gr)(s,a),u=(0,m.gr)(C(t),a);return(0,c.i)(n,o,l,u)}function F(t,e){const n=L(t,e,p.rq.get()),{basis1:r,basis2:i}=t,s=(0,c.l)(r),a=(0,c.l)(i),o=Math.max(Math.abs(n[0])-s,0),l=Math.max(Math.abs(n[1])-a,0),u=n[2];return o*o+l*l+u*u}function B(t,e){return Math.sqrt(F(t,e))}function G(t,e){return(0,g.Tj)(t.plane,e)&&H(t,e)}function N(t,e){const n=-t.plane[3];return(0,m.gr)(C(t),e)-n}function P(t,e,n){return t!==n&&y(t,n),(0,a.B8)(X,e),(0,a.mg)(X,X),(0,c.t)(n.basis1,t.basis1,X),(0,c.t)(n.basis2,t.basis2,X),(0,c.t)((0,g.Qj)(n.plane),(0,g.Qj)(t.plane),X),(0,c.t)(n.origin,t.origin,e),(0,g.mP)(n.plane,n.plane,n.origin),n}function z(t,e,n,r){return t!==r&&y(t,r),(0,a.$0)(J,e,n),(0,c.t)(r.basis1,t.basis1,J),(0,c.t)(r.basis2,t.basis2,J),b(r),r}function C(t){return(0,g.Qj)(t.plane)}function H(t,e){const n=(0,c.d)(p.rq.get(),e,t.origin),r=(0,c.k)(t.basis1),i=(0,c.k)(t.basis2),s=(0,c.f)(t.basis1,n),a=(0,c.f)(t.basis2,n);return-s-r<0&&s-r<0&&-a-i<0&&a-i<0}function j(t,e){const n=D.get();return(0,c.c)(n.origin,t.origin),(0,c.c)(n.vector,e),n}function q(t,e,n){const{basis1:r,basis2:i,origin:s}=t,a=(0,c.h)(p.rq.get(),r,e.origin[0]),o=(0,c.h)(p.rq.get(),i,e.origin[1]);(0,c.g)(n.origin,a,o),(0,c.g)(n.origin,n.origin,s);const l=(0,c.h)(p.rq.get(),r,e.direction[0]),u=(0,c.h)(p.rq.get(),i,e.direction[1]);return(0,c.h)(n.vector,(0,c.g)(l,l,u),2),n}function V(t,e,n,r){const i=C(t);(0,g.mR)(i,e.direction,e.origin,n),(0,g.mR)((0,g.Qj)(n),i,e.origin,r)}const S={plane:(0,g.vt)(),origin:(0,l.fA)(0,0,0),basis1:(0,l.fA)(1,0,0),basis2:(0,l.fA)(0,1,0)},Z=new s.I(g.vt),D=new s.I(h.vt),U=(0,l.vt)(),k=new s.I((()=>v())),W=[{origin:[-1,-1],direction:[1,0]},{origin:[1,-1],direction:[0,1]},{origin:[1,1],direction:[-1,0]},{origin:[-1,1],direction:[0,-1]}],X=(0,o.vt)(),J=(0,o.vt)(),Y=Object.freeze(Object.defineProperty({__proto__:null,BoundedPlaneClass:_,altitudeAt:N,axisAt:function(t,e,n,r){return function(t,e,n){switch(e){case f._.X:(0,c.c)(n,t.basis1),(0,c.n)(n,n);break;case f._.Y:(0,c.c)(n,t.basis2),(0,c.n)(n,n);break;case f._.Z:(0,c.c)(n,C(t))}return n}(t,n,r)},cameraFrustumCoverage:w,closestPoint:x,closestPointOnSilhouette:E,copy:y,copyWithoutVerify:function(t,e){(0,c.c)(e.origin,t.origin),(0,c.c)(e.basis1,t.basis1),(0,c.c)(e.basis2,t.basis2),(0,g.C)(e.plane,t.plane)},create:v,distance:B,distance2:F,distanceToSilhouette:function(t,e){let n=Number.NEGATIVE_INFINITY;for(const r of W){const i=q(t,r,D.get()),s=(0,h.kb)(i,e);s>n&&(n=s)}return Math.sqrt(n)},elevate:R,equals:function(t,e){return(0,c.p)(t.basis1,e.basis1)&&(0,c.p)(t.basis2,e.basis2)&&(0,c.p)(t.origin,e.origin)},extrusionContainsPoint:G,fromAABoundingRect:A,fromValues:O,getExtent:function(t,e){const n=t.basis1[0],r=t.basis2[1],[i,s]=t.origin;return(0,u.fA)(i-n,s-r,i+n,s+r,e)},intersectRay:M,intersectRayClosestSilhouette:function(t,e,n){if(M(t,e,n))return n;const r=E(t,e,p.rq.get());return(0,c.g)(n,e.origin,(0,c.h)(p.rq.get(),e.direction,(0,c.j)(e.origin,r)/(0,c.l)(e.direction))),n},normal:C,projectPoint:I,projectPointLocal:L,rotate:z,setAltitudeAt:function(t,e,n,r){const i=N(t,e),s=(0,c.h)(U,C(t),n-i);return(0,c.g)(r,e,s),r},setExtent:function(t,e,n){return A(e,n),R(n,N(t,t.origin),n),n},transform:P,up:S,updateUnboundedPlane:b,wrap:function(t,e,n){const r=k.get();return r.origin=t,r.basis1=e,r.basis2=n,r.plane=(0,g.LV)(0,0,0,0),b(r),r}},Symbol.toStringTag,{value:"Module"}))},27464:(t,e,n)=>{n.d(e,{$I:()=>l,Q5:()=>c,hH:()=>u,i3:()=>o});var r=n(89227),i=n(28473),s=n(25071),a=n(92453);function o(t){return null!=t?.dist}function c(t){return(e,n,i)=>((0,r.m)(f,e,n,i),!(0,s.e)(t,f))}function l(t){return o(t)&&t.intersector===a.dz.OBJECT&&!!t.target}function u(t){return o(t)&&t.intersector===a.dz.HUD&&!!t.target&&"center"in t.target&&null!=t.target.center}const f=(0,i.vt)()},49807:(t,e,n)=>{function r(t){return"point"===t.type}n.d(e,{v:()=>r})},52714:(t,e,n)=>{n.d(e,{Qq:()=>H,on:()=>P,toCameraAsync:()=>z,vt:()=>j});var r=n(29306),i=n(79625),s=n(99104),a=n(58828),o=(n(21265),n(5839)),c=n(74719),l=n(49959),u=n(67965),f=n(13473),h=n(10382),g=n(89227),d=n(28473),m=n(12560),p=n(47800),T=n(76493),_=n(75400),v=n(96913),y=n(93321),O=n(42276),b=n(31183),R=n(70075),A=n(18162),M=n(4309),E=n(90772),w=n(12096),x=n(11099),I=n(68662),L=n(64566),F=n(96504);const B=.66;function G(t){return 360-o.ie.normalize(t)}function N(t){return o.ie.normalize(360-t)}function P(t,e,n){const r=e.camera;if(null!=r)return function(t,e){const n=t.position;let r;try{r=(0,v.tryProjectWithZConversion)(n,e)}catch(s){return null}if(!r)return null;const i=t.clone();return i.position=r.clone(),i}(r,(0,L.v2)(t));const{targetGeometry:i}=e;if(null==i)return null;const{camera:s,mode:a}=C(t,e.rotation,n);if("point"===i.type)return function(t,e,n,r,i){const s=t.spatialReference;let a;try{a=(0,v.tryProjectWithZConversion)(n.clone(),s)}catch(c){return null}if(!a)return null;const o=null!=e.scale?(0,L.tv)(t,e.scale):t.state.camera.distance;return(0,L.CA)(t,a,o,r,i)}(t,e,i,s,a);const o=i.extent;return null==o?null:(0,L.wI)(t,o,s.heading,s.tilt,a)}async function z(t,e,n,r){const i=e.camera;if(null!=i)return async function(t,e,n){const r=t.position,i=await(0,v.projectWithZConversion)(r,e,{signal:n});(0,l.throwIfAborted)(n);const s=t.clone();return s.position=i.clone(),s}(i,(0,L.v2)(t),r);const{targetGeometry:s}=e;if(null==s)throw new Error("Viewpoint has no targetGeometry!");const{camera:a,mode:o}=C(t,e.rotation,n);if("point"===s.type)return async function(t,e,n,r,i,s){const a=t.spatialReference,o=await(0,v.projectWithZConversion)(n.clone(),a,{signal:s});(0,l.throwIfAborted)(s);const c=null!=e.scale?(0,L.tv)(t,e.scale):t.state.camera.distance;return(0,L.V2)(t,o,c,r,i,s)}(t,e,s,a,o,r);const c=s.extent;if(null==c)throw new Error("Target geometry has no extent!");return(0,L.F3)(t,c,a.heading,a.tilt,o,r)}function C(t,e,n){const r=(0,L.dl)(t,t.state.camera);let i=L.AO.ADJUST;return null!=e&&(r.heading=G(e),i=L.AO.LOCKED),null!=n&&(r.tilt=n),{camera:r,mode:i}}function H(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return null==n&&(n=new s.default),S(t,null,e.clone(),n)}async function j(t,e,n){const i=function(t,e){if(!e||!t.spatialReference)return null;const n={target:void 0};return"declaredClass"in e||Array.isArray(e)?n.target=e:(Object.assign(n,e),!n.target&&"center"in e&&e.center&&(n.target=e.center)),n}(t,e);if(!i)throw new c.default("viewpointutils-create:no-target","Missing target for creating viewpoint");const a=new r.default({fov:t.camera.fov}),o=new s.default({camera:a});if(i.target instanceof s.default)return W(await async function(t,e,n,r,i){if(e.camera)return U(t,e.camera,r,i);i.scale=e.scale,i.rotation=e.rotation,i.targetGeometry=null!=e.targetGeometry?e.targetGeometry.clone():null,i.camera=null,null!=n.heading?i.rotation=N(n.heading):null!=n.rotation&&(i.rotation=n.rotation);const s=q(t,n);return null!=s&&(i.scale=s),i.camera=await z(t,i,n.tilt,r),i}(t,i.target,i,n,o));if(i.target instanceof r.default)return W(await U(t,i.target,n,o));const l=null!=i.scale||null!=i.zoom;if(i.target instanceof m.default){const e=i.target.xmin===i.target.xmax||i.target.ymin===i.target.ymax;return W(l||e?await k(t,i,i.target.center,a,n,o):await async function(t,e,n,r,i,s){s.targetGeometry=n.clone();const a=(0,I.bZ)(t);(0,L.dl)(t,a,r);const o=V(r,e)?L.AO.LOCKED:L.AO.ADJUST;return s.camera=await(0,L.F3)(t,n,r.heading,r.tilt,o,i),s}(t,i,i.target,a,n,o))}const f=new X,h=l?function(t,e){const n=q(t,e);return n?(0,x.j8)(n):void 0}(t,i):void 0;if(await D(t,i.target,h,f,n),isFinite(f.boundingBox[0])){let e;if((0,M.gX)(f.boundingBox,J),it.x=J[0],it.y=J[1],it.z=J[2],it.spatialReference=t.spatialReference,isFinite(it.z)&&f.hasZ?e=(0,M.fT)(f.boundingBox):(it.z=void 0,e=(0,E.ye)((0,M.ES)(f.boundingBox,$))),l||e)return W(await k(t,i,it,a,n,o));const r=function(t,e){const n=B;if(!e.length)return n;let r=Number.NEGATIVE_INFINITY;for(let i=0;i<e.length;i++){const t=e[i].screenSpaceBoundingRect;r=Math.max(r,Math.abs(t[0]),Math.abs(t[1]),Math.abs(t[2]),Math.abs(t[3]))}return n-r/Math.min(t.width,t.height)*2}(t,f.screenSpaceObjects);return W(await async function(t,e,n,r,i,s,a,o){o.targetGeometry=n.clone();const c=(0,I.bZ)(t),l=function(t,e,n,r,i){let s=0;null!=n.z?s=n.z:t.basemapTerrain&&t.elevationProvider&&(s=(0,F.R1)(t.elevationProvider,n)),(0,g.i)(J,n.x,n.y,s),(0,O.l)(t.spatialReference,J,Y,t.renderSpatialReference),(0,u.z0)(K,Y),(0,u.mg)(K,K),(0,M.Ie)(Q);const a=[[0,1,2],[3,1,2],[0,4,2],[3,4,2],[0,1,5],[3,1,5],[0,4,5],[3,4,5]];for(let u=0;u<a.length;u++){const e=a[u];let n=r[e[2]];isFinite(n)||(n=s),(0,g.i)(J,r[e[0]],r[e[1]],n),(0,A.F)(J,t.spatialReference,J,t.renderSpatialReference),(0,M.iT)(Q,(0,g.q)(J,J,K))}const o=(0,M.VL)(Q),c=(0,M.uJ)(Q),l=(0,M.yr)(Q),f=1/Math.tan(e.fovX/2),h=1/Math.tan(e.fovY/2),d=.5*Math.sqrt(o*o+l*l)*Math.max(h,f)+.5*c,m=.5*c*h+.5*Math.max(o,l);return Math.max(d,m)/i}(t,c,n,r,i);(0,L.dl)(t,c,s);const f=V(s,e)?L.AO.LOCKED:L.AO.ADJUST;return o.camera=await(0,L.V2)(t,o.targetGeometry,l,s,f,a),o.scale=(0,L.Fj)(t,l),o}(t,i,it,f.boundingBox,r,a,n,o))}return i.position?W(await async function(t,e,n,r,i){const s=(0,I.bZ)(t);(0,g.c)(tt,s.viewForward),(0,L.gn)(t,s.eye,tt,s.up,rt);const a=t.spatialReference,{position:o}=e;if(o){const t=await(0,v.projectWithZConversion)(o,a,{signal:i});n.position=t}else n.position=new _.default;return n.heading=null!=e.heading?e.heading:rt.heading,n.tilt=null!=e.tilt?e.tilt:rt.tilt,S(t,null,n,r)}(t,i,a,o,n)):W(await async function(t,e,n,r,i){if(null!=e.heading||null!=e.rotation||null!=e.scale||null!=e.tilt||null!=e.zoom||null!=e.zoomFactor){const s=(0,I.bZ)(t),{spatialReference:a,renderSpatialReference:o}=t,c=new _.default({spatialReference:a});return(0,R.E)(s.center,o,c)?k(t,e,c,n,r,i):i}return i.scale=t.scale,i.camera=t.camera.clone(),V(i.camera,e),i}(t,i,a,n,o))}function q(t,e){return null==e.scale&&null!=e.zoom?(0,L.XM)(t,e.zoom):e.scale}function V(t,e){let n=!1;return null!=e.heading?(t.heading=e.heading,n=!0):null!=e.rotation&&(t.heading=G(e.rotation),n=!0),null!=e.tilt&&(t.tilt=e.tilt,n=!0),null!=e.fov&&(t.fov=e.fov),n}function S(t,e,n,r){const i=t.spatialReference||y.default.WGS84;if(e??=(0,L.Cz)(t,n),null==e)return r;const s=new _.default({spatialReference:i});return(0,R.E)(e.center,t.renderSpatialReference,s)?(r.targetGeometry=s,r.scale=(0,L.Fj)(t,e.distance),r.rotation=N(n.heading),r.camera=n,r):r}async function Z(t,e,n,r){const i=()=>new c.default("viewpointutils:invalid-geometry","The target is missing a valid geometry");if(!e)throw i();"mesh"===e.type&&(e=e.extent);const s=t.basemapTerrain.spatialReference;if(!e.hasZ&&t.basemapTerrain){let n;switch(e.type){case"point":n=e;break;case"multipoint":case"polyline":n=e.extent?.center;break;case"extent":n=e.center;break;case"polygon":n=e.centroid}null!=n&&s&&t.elevationProvider?(n=await(0,v.projectWithZConversion)(n,s,{signal:r}),J[2]=(0,F.R1)(t.elevationProvider,n)??0):J[2]=0}const a=st[e.type],o=new Array;if(a(e,e.hasZ?t=>{o.push([t[0],t[1],t[2]])}:t=>{o.push([t[0],t[1]])},J),0===o.length)throw i();const l=e.spatialReference,u=t.spatialReference,f=await(0,v.projectWithZConversion)(new T.default({spatialReference:l,hasZ:e.hasZ,hasM:!1,points:o}),u,{signal:r});if(e.hasZ&&(n.hasZ=!0),e.hasZ)for(const[c,h,g]of f.points)J[0]=c,J[1]=h,J[2]=g,(0,M.iT)(n.boundingBox,J);else for(const[c,h]of f.points)J[0]=c,J[1]=h,(0,M.iT)(n.boundingBox,J)}async function D(t,e,n,r,s){if(Array.isArray(e)&&2===e.length){const n=e[0],i=e[1];if("number"==typeof n&&"number"==typeof i)return it.x=n,it.y=i,it.z=void 0,it.spatialReference=t.spatialReference?.isGeographic?t.spatialReference:y.default.WGS84,void await Z(t,it,r,s)}e&&"map"in e&&"function"==typeof e.map?await Promise.allSettled(e.map((e=>D(t,e,n,r,s)))):e instanceof p.default?await Z(t,e,r,s):e instanceof i.default&&await async function(t,e,n,r,i){const s=await(0,a.Ke)(t.whenViewForGraphic(e));if(!1===s.ok||null==s.value||!("whenGraphicBounds"in s.value))return void await Z(t,e.geometry,r,i);const o=s.value,c=await(0,a.Ke)(o.whenGraphicBounds(e,{minDemResolution:n}));if(!1===c.ok||!c.value)return void await Z(t,e.geometry,r,i);const{screenSpaceObjects:l,boundingBox:u}=c.value;(0,M.RF)(r.boundingBox,u),l&&l.forEach((t=>{r.screenSpaceObjects.push(t)})),isFinite(u[2])&&(r.hasZ=!0)}(t,e,n,r,s)}async function U(t,e,n,r){const i=t.spatialReference,s=await(0,v.projectWithZConversion)(e.position,i,{signal:n}),a=e.clone();return a.position=s,S(t,null,a,r)}async function k(t,e,n,r,i,s){s.targetGeometry=n.clone();const a=(0,I.bZ)(t);if(e.position)return async function(t,e,n,r,i,s,a){const o=t.renderSpatialReference;return await(0,b.W)(e,nt,o,0,{signal:a}),await(0,b.W)(n,et,o,0,{signal:a}),s.targetGeometry=new _.default(e),i.position=new _.default(n),(0,g.d)(tt,nt,et),(0,L.gn)(t,et,tt,r.up,i),s.scale=(0,L.Fj)(t,(0,g.j)(et,nt)),s.rotation=N(i.heading),s.camera=i,s}(t,s.targetGeometry,e.position,a,r,s,i);if(e.zoomFactor){const n=a.distance/e.zoomFactor,r=(0,g.h)(J,a.viewForward,-n);a.eye=(0,g.g)(J,a.center,r),s.scale=(0,L.Fj)(t,n)}(0,L.dl)(t,a,r);const o=V(r,e)?L.AO.LOCKED:L.AO.ADJUST;if(!e.zoomFactor){const n=q(t,e);if(null==n){await(0,b.W)(s.targetGeometry,J,t.renderSpatialReference,0,{signal:i});const e=(0,w.bU)(a.frustum,J)?(0,g.j)(a.eye,J):a.distance;s.camera=await(0,L.V2)(t,s.targetGeometry,e,r,o),s.scale=(0,L.Fj)(t,e)}else s.scale=n,s.camera=await(0,L.gU)(t,s.targetGeometry,s.scale,r,o,i)}return s}function W(t){return null!=t?.camera&&(t.rotation=N(t.camera.heading)),t}class X{constructor(){this.hasZ=!1,this.boundingBox=(0,M.Ie)(),this.screenSpaceObjects=new Array}}const J=(0,d.vt)(),Y=(0,h.vt)(),K=(0,f.vt)(),Q=(0,M.vt)(),$=(0,E.vt)(),tt=(0,d.vt)(),et=(0,d.vt)(),nt=(0,d.vt)(),rt={heading:0,tilt:0},it=new _.default,st={point(t,e,n){n[0]=t.x,n[1]=t.y,null!=t.z&&(n[2]=t.z),e(n)},polygon(t,e,n){const r=t.hasZ;for(let i=0;i<t.rings.length;i++){const s=t.rings[i];for(let t=0;t<s.length;t++)n[0]=s[t][0],n[1]=s[t][1],r&&(n[2]=s[t][2]),e(n)}},polyline(t,e,n){const r=t.hasZ;for(let i=0;i<t.paths.length;i++){const s=t.paths[i];for(let t=0;t<s.length;t++)n[0]=s[t][0],n[1]=s[t][1],r&&(n[2]=s[t][2]),e(n)}},multipoint(t,e,n){const r=t.points,i=t.hasZ;for(let s=0;s<r.length;s++)n[0]=r[s][0],n[1]=r[s][1],i&&(n[2]=r[s][2]),e(n)},extent(t,e,n){null!=t.zmin&&null!=t.zmax?(e((0,g.i)(n,t.xmin,t.ymin,t.zmin)),e((0,g.i)(n,t.xmax,t.ymin,t.zmin)),e((0,g.i)(n,t.xmin,t.ymax,t.zmin)),e((0,g.i)(n,t.xmax,t.ymax,t.zmin)),e((0,g.i)(n,t.xmin,t.ymin,t.zmax)),e((0,g.i)(n,t.xmax,t.ymin,t.zmax)),e((0,g.i)(n,t.xmin,t.ymax,t.zmax)),e((0,g.i)(n,t.xmax,t.ymax,t.zmax))):(e((0,g.i)(n,t.xmin,t.ymin,n[2])),e((0,g.i)(n,t.xmax,t.ymin,n[2])),e((0,g.i)(n,t.xmin,t.ymax,n[2])),e((0,g.i)(n,t.xmax,t.ymax,n[2])))}}},62240:(t,e,n)=>{function r(t,e,n,r){return{x:t,y:e,z:n,hasZ:null!=n,hasM:!1,spatialReference:r,type:"point"}}function i(t,e,n,r,i){t.x=e,t.y=n,t.z=r,t.hasZ=null!=r,t.spatialReference=i}n.d(e,{J:()=>i,T:()=>r})},64863:(t,e,n)=>{n.d(e,{XG:()=>T,dd:()=>v,dg:()=>h,fo:()=>y,ou:()=>m});var r=n(67965),i=n(13473),s=n(87752),a=n(10382),o=n(89227),c=n(28473),l=n(89476),u=n(51064),f=n(99717);class h{constructor(){this._transform=(0,a.vt)(),this._transformInverse=new g({value:this._transform},s.B8,a.vt),this._transformInverseTranspose=new g(this._transformInverse,s.mg,a.vt),this._transformTranspose=new g({value:this._transform},s.mg,a.vt),this._transformInverseRotation=new g({value:this._transform},r.dR,i.vt)}_invalidateLazyTransforms(){this._transformInverse.invalidate(),this._transformInverseTranspose.invalidate(),this._transformTranspose.invalidate(),this._transformInverseRotation.invalidate()}get transform(){return this._transform}get inverse(){return this._transformInverse.value}get inverseTranspose(){return this._transformInverseTranspose.value}get inverseRotation(){return this._transformInverseRotation.value}get transpose(){return this._transformTranspose.value}setTransformMatrix(t){(0,s.C)(this._transform,t)}multiplyTransform(t){(0,s.lw)(this._transform,this._transform,t)}set(t){(0,s.C)(this._transform,t),this._invalidateLazyTransforms()}setAndInvalidateLazyTransforms(t,e){this.setTransformMatrix(t),this.multiplyTransform(e),this._invalidateLazyTransforms()}}class g{constructor(t,e,n){this._original=t,this._update=e,this._dirty=!0,this._transform=n()}invalidate(){this._dirty=!0}get value(){return this._dirty&&(this._update(this._transform,this._original.value),this._dirty=!1),this._transform}}const d=new class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.offset=t,this.sphere=(0,l.c)(),this.tmpVertex=(0,c.vt)()}applyToVertex(t,e,n){const r=this.objectTransform.transform,i=(0,o.i)(O,t,e,n),s=(0,o.t)(i,i,r),a=this.offset/(0,o.l)(s);(0,o.b)(s,s,s,a);const c=this.objectTransform.inverse;return(0,o.t)(this.tmpVertex,s,c),this.tmpVertex}applyToMinMax(t,e){const n=this.offset/(0,o.l)(t);(0,o.b)(t,t,t,n);const r=this.offset/(0,o.l)(e);(0,o.b)(e,e,e,r)}applyToAabb(t){const e=this.offset/Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]+=t[0]*e,t[1]+=t[1]*e,t[2]+=t[2]*e;const n=this.offset/Math.sqrt(t[3]*t[3]+t[4]*t[4]+t[5]*t[5]);return t[3]+=t[3]*n,t[4]+=t[4]*n,t[5]+=t[5]*n,t}applyToBoundingSphere(t){const e=(0,o.l)((0,l.a)(t)),n=this.offset/e;return(0,o.b)((0,l.a)(this.sphere),(0,l.a)(t),(0,l.a)(t),n),this.sphere[3]=t[3]+t[3]*this.offset/e,this.sphere}};function m(t){return null!=t?(d.offset=t,d):null}const p=new class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.componentLocalOriginLength=0,this._totalOffset=0,this._offset=0,this._tmpVertex=(0,c.vt)(),this._tmpMbs=(0,l.c)(),this._tmpObb=new f.ab,this._resetOffset(t)}_resetOffset(t){this._offset=t,this._totalOffset=t}set offset(t){this._resetOffset(t)}get offset(){return this._offset}set componentOffset(t){this._totalOffset=this._offset+t}set localOrigin(t){this.componentLocalOriginLength=(0,o.l)(t)}applyToVertex(t,e,n){const r=(0,o.i)(O,t,e,n),i=(0,o.i)(b,t,e,n+this.componentLocalOriginLength),s=this._totalOffset/(0,o.l)(i);return(0,o.b)(this._tmpVertex,r,i,s),this._tmpVertex}applyToAabb(t){const e=this.componentLocalOriginLength,n=t[0],r=t[1],i=t[2]+e,s=t[3],a=t[4],o=t[5]+e,c=Math.abs(n),l=Math.abs(r),u=Math.abs(i),f=Math.abs(s),h=Math.abs(a),g=Math.abs(o),d=.5*(1+Math.sign(n*s))*Math.min(c,f),m=.5*(1+Math.sign(r*a))*Math.min(l,h),p=.5*(1+Math.sign(i*o))*Math.min(u,g),T=Math.max(c,f),_=Math.max(l,h),v=Math.max(u,g),y=Math.sqrt(d*d+m*m+p*p),O=Math.sign(c+n),b=Math.sign(l+r),R=Math.sign(u+i),A=Math.sign(f+s),M=Math.sign(h+a),E=Math.sign(g+o),w=this._totalOffset;if(y<w)return t[0]-=(1-O)*w,t[1]-=(1-b)*w,t[2]-=(1-R)*w,t[3]+=A*w,t[4]+=M*w,t[5]+=E*w,t;const x=w/Math.sqrt(T*T+_*_+v*v),I=w/y,L=I-x,F=-L;return t[0]+=n*(O*F+I),t[1]+=r*(b*F+I),t[2]+=i*(R*F+I),t[3]+=s*(A*L+x),t[4]+=a*(M*L+x),t[5]+=o*(E*L+x),t}applyToMbs(t){const e=(0,o.l)((0,l.a)(t)),n=this._totalOffset/e;return(0,o.b)((0,l.a)(this._tmpMbs),(0,l.a)(t),(0,l.a)(t),n),this._tmpMbs[3]=t[3]+t[3]*this._totalOffset/e,this._tmpMbs}applyToObb(t){return(0,f.gm)(t,this._totalOffset,this._totalOffset,u.RT.Global,this._tmpObb),this._tmpObb}};function T(t){return null!=t?(p.offset=t,p):null}const _=new class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.offset=t,this.tmpVertex=(0,c.vt)()}applyToVertex(t,e,n){const r=(0,o.i)(O,t,e,n),i=(0,o.g)(b,r,this.localOrigin),s=this.offset/(0,o.l)(i);return(0,o.b)(this.tmpVertex,r,i,s),this.tmpVertex}applyToAabb(t){const e=R,n=A,r=M;for(let o=0;o<3;++o)e[o]=t[0+o]+this.localOrigin[o],n[o]=t[3+o]+this.localOrigin[o],r[o]=e[o];const i=this.applyToVertex(e[0],e[1],e[2]);for(let o=0;o<3;++o)t[o]=i[o],t[o+3]=i[o];const s=e=>{const n=this.applyToVertex(e[0],e[1],e[2]);for(let r=0;r<3;++r)t[r]=Math.min(t[r],n[r]),t[r+3]=Math.max(t[r+3],n[r])};for(let o=1;o<8;++o){for(let t=0;t<3;++t)r[t]=o&1<<t?n[t]:e[t];s(r)}let a=0;for(let o=0;o<3;++o)e[o]*n[o]<0&&(a|=1<<o);if(0!==a&&7!==a)for(let o=0;o<8;++o)if(!(a&o)){for(let t=0;t<3;++t)r[t]=a&1<<t?0:o&1<<t?e[t]:n[t];s(r)}for(let o=0;o<3;++o)t[o]-=this.localOrigin[o],t[o+3]-=this.localOrigin[o];return t}};function v(t){return null!=t?(_.offset=t,_):null}const y="terrain",O=(0,c.vt)(),b=(0,c.vt)(),R=(0,c.vt)(),A=(0,c.vt)(),M=(0,c.vt)()},92453:(t,e,n)=>{var r,i;n.d(e,{H6:()=>s,dz:()=>r,oH:()=>i}),function(t){t[t.OBJECT=0]="OBJECT",t[t.HUD=1]="HUD",t[t.TERRAIN=2]="TERRAIN",t[t.OVERLAY=3]="OVERLAY",t[t.I3S=4]="I3S",t[t.PCL=5]="PCL",t[t.LOD=6]="LOD",t[t.VOXEL=7]="VOXEL",t[t.TILES3D=8]="TILES3D"}(r||(r={}));class s{constructor(){this.verticalOffset=0,this.selectionMode=!1,this.hud=!0,this.selectOpaqueTerrainOnly=!0,this.invisibleTerrain=!1,this.backfacesTerrain=!0,this.isFiltered=!1,this.filteredLayerUids=[],this.store=i.ALL,this.normalRequired=!0,this.excludeLabels=!1}}!function(t){t[t.MIN=0]="MIN",t[t.MINMAX=1]="MINMAX",t[t.ALL=2]="ALL"}(i||(i={}))}}]);