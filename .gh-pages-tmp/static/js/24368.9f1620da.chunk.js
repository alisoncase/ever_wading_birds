"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[3885,24368,26266,71028],{4542:(t,e,n)=>{n.d(e,{NE:()=>c,TU:()=>f,ac:()=>l,fn:()=>u,oe:()=>h});var r=n(62631),s=n(42198),i=n(45622),o=n(51232),a=n(21935);const c={redo:"r",undo:"z",center:"Alt",constraint:"Shift",cancel:"Escape",delete:["Backspace","Delete"],complete:"Enter",vertexAdd:"f",pan:" "},u={toggle:"Control"},l={enterInputMode:"Tab",commit:"Enter",discard:"Escape",next:"Tab"},f={moveUp:{key:"ArrowUp",modifier:"Shift",repeats:!0},moveDown:{key:"ArrowDown",modifier:"Shift",repeats:!0},moveLeft:{key:"ArrowLeft",modifier:"Shift",repeats:!0},moveRight:{key:"ArrowRight",modifier:"Shift",repeats:!0},scaleUp:{key:"+",modifier:"Shift"},scaleDown:{key:"-",modifier:"Shift"},factorModifier:{key:a.i,continuePropagation:!0},toggleOpacity:"t",preserveAspectRatio:{key:"Shift",continuePropagation:!0},rotateIncrements:{key:"Shift",continuePropagation:!0},editSourcePoints:{key:"Alt",continuePropagation:!0},undo:"z",redo:"r"};class h{constructor(){this._bindings=new Map}add(t,e){return this.addToggle(t,(t=>{"key-down"===t.type&&e(t)}))}addToggle(t,e){const n=d.fromDefinition(t,e),o=(0,i.tE)(this._bindings,n.key,(()=>[]));return o.push(n),(0,s.hA)((()=>(0,r.TF)(o,n)))}register(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.o.WIDGET;return(0,s.vE)([t.on("key-down",(e=>this.dispatch(t.inputManager,e)),e),t.on("key-up",(e=>this.dispatch(t.inputManager,e)),e)])}dispatch(t,e){const n=e.key,r=this._bindings.get(n);if(r)for(const s of r)s.process(t,e)}}class d{constructor(t,e,n,r,s){this.key=t,this.modifiers=e,this.repeats=n,this.continuePropagation=r,this.callback=s}process(t,e){if(!(e.key!==this.key||"repeat"in e&&e.repeat&&!this.repeats)){for(const e of this.modifiers)if(!t.isModifierKeyDown(e))return;this.continuePropagation||e.stopPropagation(),this.callback(e)}}static fromDefinition(t,e){if("string"==typeof t)return new d(t,[],!1,!1,e);const{key:n,modifier:r,repeats:s,continuePropagation:i}=t;return new d(n,r?Array.isArray(r)?r:[r]:[],!!s,!!i,e)}}},26266:(t,e,n)=>{n.r(e),n.d(e,{InverseGeodeticSolverResult:()=>w,directGeodeticSolver:()=>L,geodesicAreas:()=>m,geodesicCompatibleSpatialReference:()=>_,geodesicDensify:()=>M,geodesicDistance:()=>E,geodesicLengths:()=>y,inverseGeodeticSolver:()=>A,isSupported:()=>g,pointFromDistance:()=>R});var r=n(74719),s=n(84190),i=n(80556),o=n(75400),a=n(65920),c=n(54824),u=n(93321),l=n(64226),f=n(70576);function h(t){if(!t)return null;const e=t.wkid;if(e)return l.uw[e];const n=t.wkt2??t.wkt;return n?function(t){const e=l._f.exec(t);if(!e||2!==e.length)return null;const n=e[1].split(",");if(!n||n.length<3)return null;const r=parseFloat(n[1]),s=parseFloat(n[2]);return isNaN(r)||isNaN(s)?null:{a:r,f:0===s?0:1/s}}(n):null}function d(t){const e=h(t);if(function(t){return null!=t&&"b"in t&&"eSq"in t&&"radius"in t}(e))return e;const n=e.a*(1-e.f);return Object.assign(e,{b:n,eSq:1-(n/e.a)**2,radius:(2*e.a+n)/3,densificationRatio:1e4/((2*e.a+n)/3)})}function p(t){return null!=t&&t<0?t+360:t}function v(t,e,n){const{a:r,eSq:s}=d(n),i=Math.sqrt(s),o=Math.sin(e[1]*l.eh),a=r*e[0]*l.eh;let c;return c=s>0?r*((1-s)*(o/(1-s*(o*o))-1/(2*i)*Math.log((1-i*o)/(1+i*o))))*.5:r*o,t[0]=a,t[1]=c,t}function g(t){return(0,f.EA)(t)&&!!h(t)}function m(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"square-meters";if(t.some((t=>!g(t.spatialReference))))throw new r.default("geodesic-areas:invalid-spatial-reference","the input geometries spatial reference is not supported");const n=[];for(let r=0;r<t.length;r++){const e=t[r],s=e.spatialReference,{radius:i,densificationRatio:o}=d(s),a=i*o;n.push(M(e,a))}const i=[],o=[0,0],a=[0,0];for(let r=0;r<n.length;r++){const{rings:t,spatialReference:c}=n[r];let u=0;for(let e=0;e<t.length;e++){const n=t[e];v(o,n[0],c),v(a,n[n.length-1],c);let r=a[0]*o[1]-o[0]*a[1];for(let t=0;t<n.length-1;t++)v(o,n[t+1],c),v(a,n[t],c),r+=a[0]*o[1]-o[0]*a[1];u+=r}u=(0,s.oU)(u,"square-meters",e),i.push(u/-2)}return i}function y(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"meters";if(!t)throw new r.default("geodesic-lengths:invalid-geometries","the input geometries type is not supported");if(t.some((t=>!g(t.spatialReference))))throw new r.default("geodesic-lengths:invalid-spatial-reference","the input geometries spatial reference is not supported");const n=[];for(let r=0;r<t.length;r++){const i=t[r],{spatialReference:o}=i,a="polyline"===i.type?i.paths:i.rings;let c=0;for(let t=0;t<a.length;t++){const e=a[t];let n=0;for(let t=1;t<e.length;t++){const r=e[t-1][0],s=e[t][0],i=e[t-1][1],a=e[t][1];if(i!==a||r!==s){const t=new w;A(t,[r,i],[s,a],o),n+=t.distance}}c+=n}c=(0,s.oU)(c,"meters",e),n.push(c)}return n}function M(t,e){if("polyline"!==t.type&&"polygon"!==t.type)throw new r.default("geodesic-densify:invalid-geometry","the input geometry is neither polyline nor polygon");const{spatialReference:n}=t;if(!g(n))throw new r.default("geodesic-densify:invalid-spatial-reference","the input geometry spatial reference is not supported");const s="polyline"===t.type?t.paths:t.rings,o=[],l=[0,0],f=new w;for(const r of s){const t=[];o.push(t),t.push([r[0][0],r[0][1]]);let s,i,a=r[0][0],c=r[0][1];for(let o=0;o<r.length-1;o++){if(s=r[o+1][0],i=r[o+1][1],a===s&&c===i)continue;const u=[a,c];A(f,[a,c],[s,i],n);const{azimuth:h,distance:d}=f,p=d/e;if(p>1){for(let r=1;r<=p-1;r++)L(l,u,h,r*e,n),t.push(l.slice());L(l,u,h,(d+Math.floor(p-1)*e)/2,n),t.push(l.slice())}L(l,u,h,d,n),t.push(l.slice()),a=l[0],c=l[1]}}const h=(0,i.PZ)(u.default,n);return"polyline"===t.type?new c.default({paths:o,spatialReference:h}):new a.default({rings:o,spatialReference:h})}class w{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.distance=t,this.azimuth=e,this.reverseAzimuth=n}}function L(t,e,n,r,s){const i=e[0],o=e[1],a=i*l.eh,c=o*l.eh,u=(n??0)*l.eh,{a:f,b:h,f:p}=d(s),v=Math.sin(u),g=Math.cos(u),m=(1-p)*Math.tan(c),y=1/Math.sqrt(1+m*m),M=m*y,w=Math.atan2(m,g),L=y*v,A=L*L,E=1-A,R=E*(f*f-h*h)/(h*h),_=1+R/16384*(4096+R*(R*(320-175*R)-768)),N=R/1024*(256+R*(R*(74-47*R)-128));let k,b,z,T=r/(h*_),I=2*Math.PI;for(;Math.abs(T-I)>1e-12;)z=Math.cos(2*w+T),k=Math.sin(T),b=Math.cos(T),I=T,T=r/(h*_)+N*k*(z+N/4*(b*(2*z*z-1)-N/6*z*(4*k*k-3)*(4*z*z-3)));const P=M*k-y*b*g,x=Math.atan2(M*b+y*k*g,(1-p)*Math.sqrt(A+P*P)),S=p/16*E*(4+p*(4-3*E)),q=Math.atan2(k*v,y*b-M*k*g)-(1-S)*p*L*(T+S*k*(z+S*b*(2*z*z-1)));return t[0]=(a+q)/l.eh,t[1]=x/l.eh,t}function A(t,e,n,r){const s=e[0]*l.eh,i=e[1]*l.eh,o=n[0]*l.eh,a=n[1]*l.eh,{a:c,b:u,f:f,radius:h}=d(r),p=o-s,v=Math.atan((1-f)*Math.tan(i)),g=Math.atan((1-f)*Math.tan(a)),m=Math.sin(v),y=Math.cos(v),M=Math.sin(g),w=Math.cos(g);let L,A,E,R,_,N,k,b,z,T,I=1e3,P=p;do{if(k=Math.sin(P),b=Math.cos(P),E=Math.sqrt(w*k*(w*k)+(y*M-m*w*b)*(y*M-m*w*b)),0===E)return t.distance=0,t.azimuth=void 0,t.reverseAzimuth=void 0,t;_=m*M+y*w*b,N=Math.atan2(E,_),z=y*w*k/E,A=1-z*z,R=_-2*m*M/A,isNaN(R)&&(R=0),T=f/16*A*(4+f*(4-3*A)),L=P,P=p+(1-T)*f*z*(N+T*E*(R+T*_*(2*R*R-1)))}while(Math.abs(P-L)>1e-12&&--I>0);if(0===I){const e=h,n=Math.acos(Math.sin(i)*Math.sin(a)+Math.cos(i)*Math.cos(a)*Math.cos(o-s))*e,r=o-s,c=Math.sin(r)*Math.cos(a),u=Math.cos(i)*Math.sin(a)-Math.sin(i)*Math.cos(a)*Math.cos(r),f=Math.atan2(c,u);return t.azimuth=f/l.eh,t.distance=n,t.reverseAzimuth=void 0,t}const x=A*(c*c-u*u)/(u*u),S=x/1024*(256+x*(x*(74-47*x)-128)),q=u*(1+x/16384*(4096+x*(x*(320-175*x)-768)))*(N-S*E*(R+S/4*(_*(2*R*R-1)-S/6*R*(4*E*E-3)*(4*R*R-3)))),j=Math.atan2(w*Math.sin(P),y*M-m*w*Math.cos(P)),O=Math.atan2(y*Math.sin(P),y*M*Math.cos(P)-m*w);return t.azimuth=j/l.eh,t.distance=q,t.reverseAzimuth=O/l.eh,t}function E(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"meters";if(!t||!e)throw new r.default("geodesic-distance:missing-parameters","one or both input parameters are missing");if(!t.spatialReference||!e.spatialReference)throw new r.default("geodesic-distance:invalid-parameters","one or both input points do not have a spatial reference");if(!(0,f.aI)(t.spatialReference,e.spatialReference))throw new r.default("geodesic-distance:invalid-parameters","spatial references of input parameters do not match");const{spatialReference:i}=t;if(!g(i))throw new r.default("geodesic-distance:not-supported","input geometry spatial reference is not supported");if(t.x===e.x&&t.y===e.y)return new w(0,0,0);const o=new w;return A(o,[t.x,t.y],[e.x,e.y],i),o.distance=(0,s.oU)(o.distance,"meters",n),o.azimuth=p(o.azimuth),o.reverseAzimuth=p(o.reverseAzimuth),o}function R(t,e,n){if(!t||null==e||null==n)throw new r.default("point-from-distance:missing-parameters","one or more input parameters are missing or undefined");if(n<0||n>360)throw new r.default("point-from-distance:-of-bounds","azimuth is restricted to angles between, and including, 0\xb0 to 360\xb0 degrees");if(!t.spatialReference)throw new r.default("point-from-distance:missing-spatial-reference","the input point must have a spatial reference");const{spatialReference:s}=t;if(!g(s))throw new r.default("geodesic-distance:not-supported","input geometry spatial reference is not supported");const i=[0,0];return L(i,[t.x,t.y],n,e,s),new o.default({x:i[0],y:i[1],spatialReference:s})}function _(t){return g(t)?t:(0,f.K8)(t)?u.default.WGS84:null}},29383:(t,e,n)=>{n.d(e,{Dh:()=>c,IB:()=>l,Vv:()=>r,fg:()=>a,jI:()=>u});n(64682);var r,s=n(32006),i=n(98080);function o(t,e){return t[0]*e[1]-t[1]*e[0]}function a(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n;return(0,s.Re)(h,r,n),(0,s.Re)(p,e,i),function(t,e,n){const r=(0,s.Om)(n,e)/(0,s.m3)(n);(0,s.hs)(t,n,r)}(v,p,h),(0,s.WQ)(t,i,v)}function c(t,e,n,r){(0,s.Re)(h,e,n);const i=r/(0,s.Bw)(h);return(0,s.Ln)(t,n,h,i)}function u(t,e){const n=t.start,i=t.end,a=e.start,c=e.end,u=(0,s.Re)(h,i,n),l=(0,s.Re)(d,c,a),g=o(u,l);if(Math.abs(g)<=f)return[];const m=(0,s.Re)(p,n,a),y=o(l,m)/g,M=o(u,m)/g;if(y>=0){if(M>=0||e.type===r.LINE)return[(0,s.Ln)(v,n,u,y)]}else if(t.type===r.LINE&&(M>=0||e.type===r.LINE))return[(0,s.Ln)(v,n,u,y)];return[]}function l(t,e,n){const i=[],o=(0,s.Re)(h,t.end,t.start),a=(0,s.Re)(d,t.start,e),c=(0,s.m3)(o),u=2*(0,s.Om)(o,a),l=u*u-4*c*((0,s.m3)(a)-n*n);if(0===l){const e=-u/(2*c);(t.type===r.LINE||e>=0)&&i.push((0,s.Ln)(v,t.start,o,e))}else if(l>0){const e=Math.sqrt(l),n=(-u+e)/(2*c);(t.type===r.LINE||n>=0)&&i.push((0,s.Ln)(v,t.start,o,n));const a=(-u-e)/(2*c);(t.type===r.LINE||a>=0)&&i.push((0,s.Ln)(p,t.start,o,a))}return i}!function(t){t[t.RAY=0]="RAY",t[t.LINE=1]="LINE"}(r||(r={}));const f=1e-6,h=(0,i.vt)(),d=(0,i.vt)(),p=(0,i.vt)(),v=(0,i.vt)()},37229:(t,e,n)=>{n.d(e,{BY:()=>A,H3:()=>y,Mo:()=>g,Tu:()=>E,io:()=>p,is:()=>w,nf:()=>M,pM:()=>v,xX:()=>m});var r=n(79953),s=n(35920),i=n(14125),o=n(87431),a=n(89227),c=n(62240),u=n(53512),l=n(51232),f=n(4542),h=n(49281),d=n(46047);const p=Symbol("grid-placement-graphic");function v(t,e){const n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function g(t,e){return Math.sqrt(v(t,e))}function m(t,e){e.sort(((e,n)=>(0,a.s)(e.targetPoint,t)-(0,a.s)(n.targetPoint,t)))}var y;function M(t,e,n){let{point:r,distance:a,returnEdge:l,vertexMode:f,coordinateHelper:{spatialReference:h},filter:d}=t;return n=null!=n?n.clone():new u.default({where:"1=1"}),d&&(n.geometry=d.geometry,n.distance=d.distance,n.spatialRelationship=d.spatialRelationship,n.where=(0,i.sqlAnd)(n.where,d.where),n.timeExtent=(0,o.pJ)(n.timeExtent,d.timeExtent),n.objectIds=function(t,e){return t||e?e?t?Array.from((0,s.E$)(new Set(t),new Set(e))):e:t:null}(n.objectIds,d.objectIds)),{point:(0,c.T)(r[0],r[1],r[2],h.toJSON()),mode:e,distance:a,returnEdge:l,vertexMode:f,query:n.toJSON()}}function w(t,e,n){return{left:(0,h.Lp)(t.leftVertex.pos,e,n),right:(0,h.Lp)(t.rightVertex.pos,e,n)}}!function(t){t[t.TARGET=0]="TARGET",t[t.REFERENCE=1]="REFERENCE",t[t.REFERENCE_EXTENSION=2]="REFERENCE_EXTENSION"}(y||(y={}));const L=Symbol("snapping-toggle");function A(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};const n=(0,r.watch)((()=>({view:t.view,snappingOptions:t.snappingOptions})),(n=>{let{view:r,snappingOptions:s}=n;if(t.removeHandles(L),!r||!s)return;const i=l.o.TOOL,o=[r.on("key-down",(t=>{t.key!==f.fn.toggle||t.repeat||(s.enabledToggled=!0,e())}),i),r.on("key-up",(t=>{t.key===f.fn.toggle&&(s.enabledToggled=!1,e())}),i),r.on("pointer-move",(t=>{const n=t.native.ctrlKey;s.enabledToggled!==n&&(s.enabledToggled=n,e())}),i)];t.addHandles(o,L)}),r.syncAndInitial);t.addHandles(n)}function E(t){return(0,d.r)(t)&&"utilityNetworks"in t&&!!t.utilityNetworks?.length}},49281:(t,e,n)=>{n.d(e,{Ex:()=>p,FH:()=>M,Hh:()=>c,Lp:()=>v,Xz:()=>l,_7:()=>u,de:()=>d,fA:()=>f,io:()=>m,o8:()=>h,vf:()=>g,vt:()=>a,xF:()=>y});var r,s=n(28473),i=n(62240),o=n(41317);function a(t,e,n){return c(t,e,n)}function c(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,s.fA)(t,e,n)}function u(t){return t}function l(t){return t}function f(t,e,n){return(0,s.fA)(t,e,n)}function h(t){const[e,n,r]=t;return t.length>3?[e,n,r,t[3]]:[e,n,r]}function d(t){return t[3]=((t.length>3?t[3]:void 0)??r.NONE)|r.TARGET,t}function p(t){return Boolean(((t.length>3?t[3]:void 0)??r.NONE)&r.TARGET)}function v(t,e,n,r){let{coordinateHelper:s,elevationInfo:i}=n;return t?g(s.vectorToDehydratedPoint(t,w),e,i,r):null}function g(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c();return r[0]=t.x,r[1]=t.y,r[2]=t.z??0,null==e||("2d"===e.type?r[2]=0:r[2]=(0,o.wS)(e,t,n,o.qt)??0),r}function m(t,e,n){return n?((0,i.J)(n,t[0],t[1],t[2],e),n):(0,i.T)(t[0],t[1],t[2],e)}function y(t,e,n,r,s){let{z:a,m:c}=n;const{spatialReference:u,elevationInfo:l}=r;let f;f=null==a&&null==c?void 0:null==e||"2d"===e.type?a??void 0:(0,o.xS)(e,t,u,o.qt,l)??0;const[h,d]=t;return s?(0,i.J)(s,h,d,f,u):s=(0,i.T)(h,d,f,u),null!=c&&(s.m=c,s.hasM=!0),s}function M(t,e,n,s){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:c();const[a,u]=t;return i[0]=a,i[1]=u,t.length>3&&(i[3]=t[3]??r.NONE),"3d"!==n?.type?(i[2]=e.value,i):(i[2]=(0,o.Fo)(n,a,u,e.value,s,e.elevationInfo,o.qt)??0,i)}!function(t){t[t.NONE=0]="NONE",t[t.TARGET=1]="TARGET"}(r||(r={}));const w=(0,i.T)(0,0,0,null)},72248:(t,e,n)=>{n.d(e,{FX:()=>O,Mn:()=>A,QT:()=>G,WG:()=>D,ej:()=>_,en:()=>Z,fT:()=>it,i7:()=>w,jf:()=>H,qR:()=>T,xW:()=>rt});var r=n(62631),s=n(64682),i=n(32006),o=n(98080),a=n(89227),c=n(28473),u=n(60548),l=n(24646),f=n(64226),h=n(26266),d=n(10872),p=n(89476),v=n(11741),g=n(49281),m=n(82048),y=n(29383);class M{intersect(t){return B(this,t)}closestPoints(t){return[this.closestTo(t)]}}class w extends M{constructor(t){super(),this.point=t}equals(t){return this===t||it(t)&&(0,a.p)(this.point,t.point)}closestTo(){return(0,g.o8)(this.point)}}class L extends M{constructor(t,e,n){super(),this.start=t,this.end=e,this.lineLike={start:t,end:e,type:n}}equals(t){return this===t||ot(t)&&this.lineLike.type===t.lineLike.type&&(0,a.p)(this.start,t.start)&&(0,a.p)(this.end,t.end)}closestTo(t){const e=(0,g.Hh)();return(0,m.Yv)(t,this.lineLike,e),e}}class A extends L{constructor(t,e){super(t,e,y.Vv.LINE)}}class E extends L{constructor(t,e){super(t,e,y.Vv.RAY)}}class R extends M{constructor(t){super(),this.constraints=t}equals(t){return this===t||st(t)&&(0,r.aI)(this.constraints,t.constraints,((t,e)=>t.equals(e)))}closestTo(t){let e,n=1/0;for(const r of this.constraints){const s=r.closestTo(t),i=(0,a.s)(t,s);i<n&&(n=i,e=s)}return(0,g.o8)(e??t)}closestPoints(t){return this.constraints.flatMap((e=>e===this?[]:e.closestPoints(t)))}}class _ extends M{constructor(t,e){super(),this.center=t,this.radius=e}equals(t){return this===t||ut(t)&&this.center[0]===t.center[0]&&this.center[1]===t.center[1]&&this.radius===t.radius}closestTo(t){const e=(0,g.Hh)();return(0,m.Nm)(t,this.center,this.radius,e),e}}class N extends M{constructor(t,e){super(),this.center=t,this.radius=e}equals(t){return this===t||lt(t)&&(0,a.p)(this.center,t.center)&&this.radius===t.radius}closestTo(t){const e=(0,g.Hh)();return(0,m.Nm)(t,this.center,this.radius,e),e[2]=this.center[2],e}asCircle(){return new k((0,g.o8)(this.center),this.radius,(0,g.fA)(0,0,1))}}class k extends M{constructor(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;super(),this.center=t,this.radius=e,this.normal=n,this.slicePlane=r}equals(t){return this===t||ft(t)&&(0,a.p)(this.center,t.center)&&(0,a.p)(this.normal,t.normal)&&this.radius===t.radius}closestTo(t){const{center:e,radius:n}=this;(0,d._I)(this.getPlane(z),t,b);const r=(0,a.a)(b,b,e),s=(0,a.k)(r);if((0,m.Zj)(s,0))return(0,g.o8)(t);const i=n/Math.sqrt(s),o=(0,g.Hh)();(0,a.b)(o,e,r,i);const{slicePlane:c}=this;if(c&&!(0,m.F2)(c,o)){const e=J(c,this);return e?.closestTo(t)??(0,g.o8)(t)}return o}getPlane(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,d.vt)();return(0,d.O_)(this.center,this.normal,t)}}const b=(0,c.vt)(),z=(0,d.vt)();class T extends M{constructor(t){super(),this.z=t}equals(t){return this===t||at(t)&&this.z===t.z}closestTo(t){return(0,g.fA)(t[0],t[1],this.z)}getPlane(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,d.vt)();return(0,a.i)(I,0,0,this.z),(0,d.O_)(I,c.Cb,t)}}const I=(0,c.vt)();class P extends M{constructor(t,e,n){super(),this.start=t,this.end=e,this.planeLike={start:(0,g.Xz)(t),end:(0,g.Xz)(e),type:n}}equals(t){return this===t||ct(t)&&this.planeLike.type===t.planeLike.type&&(0,a.p)(this.start,t.start)&&(0,a.p)(this.end,t.end)}closestTo(t){const e=(0,g.Hh)();return(0,m.r2)(t,this.planeLike,e),e}closestEndTo(t){const{start:e,end:n}=this.planeLike;return Math.sign((0,i.Om)((0,i.Re)(x,n,e),(0,i.Re)(S,(0,g.Xz)(t),e)))>0?this.end:this.start}getPlane(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,d.vt)();const e=(0,a.c)(q,this.end);return e[2]+=1,(0,d.Cr)(this.start,this.end,e,t)}getSlicePlane(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,d.vt)();const{start:e,end:n,type:r}=this.planeLike;if(r===m.pJ.PLANE)return;const s=(0,a.i)(q,e[0],e[1],0),i=(0,a.i)(j,n[0],n[1],0),o=(0,a.d)(j,i,s);return(0,d.O_)(s,o,t),t}}const x=(0,o.vt)(),S=(0,o.vt)(),q=(0,c.vt)(),j=(0,c.vt)();class O extends P{constructor(t,e){super(t,e,m.pJ.HALF_PLANE)}}class D extends P{constructor(t,e){super(t,e,m.pJ.PLANE)}}class F extends M{constructor(t,e){super(),this.sphere=(0,p.l)(t,e)}equals(t){return this===t||ht(t)&&(0,p.m)(this.sphere,t.sphere)}closestTo(t){const e=(0,g.Hh)();return(0,p.p)(this.sphere,t,e),e}get center(){return(0,p.a)(this.sphere)}get radius(){return this.sphere[3]}}class Z extends M{constructor(t,e,n){super(),this.start=t,this.end=e,this.getZ=n,this.planeLike={start:(0,g.Xz)(t),end:(0,g.Xz)(e),type:m.pJ.PLANE}}equals(t){return this===t||dt(t)&&(0,a.p)(this.start,t.start)&&(0,a.p)(this.end,t.end)&&this.getZ===t.getZ}closestTo(t){return function(t,e){const n=(0,g.Hh)();return(0,m.r2)(e,t.planeLike,n),n[2]=t.getZ(n[0],n[1])??pt,n}(this,t)}addIfOnTheGround(t,e){for(const n of e){const e=this.getZ(n[0],n[1])??0;(0,m.Zj)(n[2],e)&&(n[2]=e,t.push(n))}}}class G extends M{constructor(t,e,n){super(),this._x=t,this._y=e,this._z=n}equals(t){return this===t||function(t){return t instanceof G}(t)&&this._x===t._x&&this._y===t._y&&this._z===t._z}closestTo(t){let[e,n,r]=t;return(0,g.vt)(this._x??e,this._y??n,this._z??r)}}class H extends M{constructor(t,e,n,r,s){super(),this._origin=t,this._spatialReference=e,this._distanceMeters=n,this._z=r,this._directionDegrees=s}equals(t){return this===t||function(t){return t instanceof H}(t)&&(0,i.t2)(this._origin,t._origin)&&this._spatialReference===t._spatialReference&&this._distanceMeters===t._distanceMeters&&this._z===t._z&&this._directionDegrees===t._directionDegrees}closestTo(t){let[e,n,r]=t;return(0,i.hZ)(V,e,n),(0,i.t2)(V,this._origin)||this._applyDirectionAndDistance(V),(0,g.vt)(V[0],V[1],this._z??r)}_applyDirectionAndDistance(t){if(null!=this._directionDegrees&&null!=this._distanceMeters)(0,h.directGeodeticSolver)(t,this._origin,this._directionDegrees,this._distanceMeters,this._spatialReference);else if(null!=this._directionDegrees)!function(t,e,n,r,s){let{azimuth:i,distance:o}=(0,h.inverseGeodeticSolver)(Y,e,r,s);i??=0;let a=o*Math.cos((i-n)*f.eh);a=Math.max(0,a),(0,h.directGeodeticSolver)(t,e,n,a,s)}(t,this._origin,this._directionDegrees,t,this._spatialReference);else if(null!=this._distanceMeters){const{azimuth:e}=(0,h.inverseGeodeticSolver)(X,this._origin,t,this._spatialReference);(0,h.directGeodeticSolver)(t,this._origin,e??0,this._distanceMeters,this._spatialReference)}}}const V=[0,0],X=new h.InverseGeodeticSolverResult;const Y=new h.InverseGeodeticSolverResult;function B(t,e){if(st(t)){const n=[];for(const r of t.constraints){const t=r.intersect(e);t&&n.push(t)}return rt(n)}if(st(e))return B(e,t);if(dt(t))return $(t,e);if(dt(e))return $(e,t);if(it(t)){const{point:n}=t;if(it(e))return(0,a.p)(n,e.point)?t:void 0;const r=e.closestTo(n);return(0,a.I)(r,n)?t:void 0}if(ot(t)){if(it(e))return B(e,t);if(ot(e))return et((0,m.SO)(t.lineLike,e.lineLike));if(at(e))return C(t,e);if(ct(e))return et((0,m.Mc)(e.planeLike,t.lineLike));if(ut(e))return et((0,m.K4)(t.lineLike,e.center,e.radius));if(ft(e))return et((0,m.IB)(t.lineLike,e));if(lt(e))return function(t,e){let{lineLike:n}=t,{center:r,radius:s}=e;const i=r[2];return et((0,m.K4)(n,r,s).filter((t=>(0,m.Zj)(t[2],i))))}(t,e);if(ht(e))return function(t,e){let{lineLike:n}=t,{sphere:r}=e;return et((0,p.n)(r,n.start,n.end))}(t,e)}else if(at(t)){if(it(e)||ot(e))return B(e,t);if(at(e))return function(t,e){return(0,m.Zj)(t.z,e.z)?t:void 0}(t,e);if(ct(e))return function(t,e){let{z:n}=t,{planeLike:r}=e;const[s,i]=r.start,[o,a]=r.end,c=(0,g.fA)(s,i,n),u=(0,g.fA)(o,a,n);return r.type===m.pJ.PLANE?new A(c,u):new E(c,u)}(t,e);if(ut(e))return function(t,e){const[n,r]=e.center;return new N((0,g.fA)(n,r,t.z),e.radius)}(t,e);if(ft(e))return U(t,e);if(lt(e))return function(t,e){return(0,m.Zj)(e.center[2],t.z)?e:void 0}(t,e);if(ht(e))return function(t,e){let{center:n,radius:r}=e;const s=Math.abs(n[2]-t.z);if(s>r&&!(0,m.Zj)(s,r))return;const i=(0,g.fA)(n[0],n[1],t.z),o=Math.sqrt(r**2-s**2);return(0,m.Zj)(o,0)?void 0:new N(i,o)}(t,e)}else if(ct(t)){if(it(e)||ot(e)||at(e))return B(e,t);if(ct(e))return tt((0,m.b_)(t.planeLike,e.planeLike));if(ut(e))return tt((0,m.Bn)(t.planeLike,e.center,e.radius));if(ft(e))return W(t,e);if(lt(e))return K(t,e);if(ht(e))return Q(t,e)}else if(ut(t)){if(it(e)||ot(e)||at(e)||ct(e))return B(e,t);if(ut(e))return tt((0,m.t1)((0,g.Xz)(t.center),t.radius,(0,g.Xz)(e.center),e.radius));if(ft(e))return;if(lt(e))return function(t,e){const n=(0,i.hG)((0,g.Xz)(t.center),(0,g.Xz)(e.center));return(0,m.Zj)(n,0)&&(0,m.Zj)(t.radius,e.radius)?e:nt((0,m.t1)((0,g.Xz)(t.center),t.radius,(0,g.Xz)(e.center),e.radius),e.center[2])}(t,e);if(ht(e))return}else if(ft(t)){if(it(e)||ot(e)||at(e)||ct(e)||ut(e))return B(e,t);if(ft(e))return;if(lt(e))return void e.asCircle();if(ht(e))return}else if(lt(t)){if(it(e)||ot(e)||at(e)||ct(e)||ut(e)||ft(e))return B(e,t);if(lt(e))return function(t,e){if(!(0,m.HG)(t.center,e.center))return;const n=(0,i.hG)((0,g.Xz)(t.center),(0,g.Xz)(e.center));return(0,m.Zj)(n,0)&&(0,m.Zj)(t.radius,e.radius)?t:nt((0,m.t1)((0,g.Xz)(t.center),t.radius,(0,g.Xz)(e.center),e.radius),t.center[2])}(e,t);if(ht(e))return}else if(ht(t)){if(it(e)||ot(e)||at(e)||ct(e)||ut(e)||lt(e))return B(e,t);if(ht(e))return}}const C=(()=>{const t=(0,d.vt)();return(e,n)=>{const{start:r,end:s}=e;if((0,m.HG)(r,s)&&(0,m.Zj)(r[2],n.z))return e;const i=(0,g.Hh)();return(0,d.U5)(n.getPlane(t),r,s,i)?new w(i):void 0}})();const J=(()=>{const t=(0,l.vt)(),e=(0,c.vt)(),n=(0,c.vt)();return(r,i,o)=>{const{normal:l,center:f,radius:h}=i;(0,v.VV)(l,e,n);const p=(0,d.Qj)(r),y=h*(0,a.f)(p,e),M=h*(0,a.f)(p,n);(0,u.s)(t,f[0],f[1],f[2],1);const L=(0,u.h)(r,t),A=Math.hypot(y,M),E=(0,m.Zj)(A,0);if((0,m.Zj)((0,d.Io)(r,f),0)){if(E)return i;if((0,m.Zj)(h,0))return!o||(0,m.F2)(o,f)?new w((0,g.o8)(f)):void 0;(0,a.e)(e,p,l),(0,a.n)(e,e);const t=new Array,n=(0,c.o8)(f);(0,a.b)(n,n,e,h),o&&!(0,m.F2)(o,n)||t.push(n);const r=(0,c.o8)(f);return(0,a.b)(r,r,e,-h),o&&!(0,m.F2)(o,r)||t.push(r),et(t)}if(E)return;const R=-L/A;if(Math.abs(R)>1||(0,m.Zj)(R,1))return;const _=Math.atan(y/M),N=(0,s.YN)(R)-_,k=Math.PI-N,b=new Array,z=(0,c.vt)();(0,a.b)(z,f,e,h*Math.cos(N)),(0,a.b)(z,z,n,h*Math.sin(N)),b.push(z);const T=(0,c.vt)();return(0,a.b)(T,f,e,h*Math.cos(k)),(0,a.b)(T,T,n,h*Math.sin(k)),b.push(T),et(o?(0,m.UL)(o,b):b)}})();const U=(()=>{const t=(0,d.vt)();return(e,n)=>J(e.getPlane(t),n,n.slicePlane)})();const K=(()=>{const t=(0,d.vt)();return(e,n)=>{let{center:r,radius:s}=n;const i=(0,m.Bn)(e.planeLike,r,s),o=r[2];e.getSlicePlane(t);const a=new Array;for(const[c,u]of i){const e=[c,u,o];(0,m.F2)(t,e)&&a.push(e)}return et(a)}})(),W=(()=>{const t=(0,d.vt)(),e=(0,d.vt)();return(n,r)=>J(n.getPlane(t),r,n.getSlicePlane(e))})(),Q=(()=>{const t=(0,d.vt)();return(e,n)=>{let{center:r,radius:s}=n;const i=e.getPlane(t),o=(0,d.mN)(i,r),u=Math.abs(o);if(u>s&&!(0,m.Zj)(u,s))return;const l=Math.sqrt(s**2-o**2);if((0,m.Zj)(l,0)){const t=(0,g.Hh)();return(0,d._I)(i,r,t),new w(t)}const f=(0,g.Hh)(),h=(0,c.o8)((0,d.Qj)(i));return(0,a.b)(f,r,h,o),new k(f,l,h,e.getSlicePlane())}})();function $(t,e){const{planeLike:n,getZ:r}=t,s=new Array;if(it(e))t.addIfOnTheGround(s,(0,m.VT)(n,e.point));else if(ot(e))t.addIfOnTheGround(s,(0,m.Mc)(n,e.lineLike));else if(ut(e))for(const[i,o]of(0,m.Bn)(n,e.center,e.radius)){const t=r(i,o);null!=t&&s.push((0,c.fA)(i,o,t))}else if(ct(e)||dt(e))for(const[i,o]of(0,m.b_)(n,e.planeLike)){const t=r(i,o)??pt;s.push((0,c.fA)(i,o,t))}return et(s)}function tt(t){return rt(t.map((t=>{let[e,n]=t;const r=(0,g.fA)(e,n,0),s=(0,g.fA)(e,n,1);return new A(r,s)})))}function et(t){return rt(t.map((t=>t?new w((0,g._7)(t)):void 0)))}function nt(t,e){return et(t.map((t=>{let[n,r]=t;return[n,r,e]})))}function rt(t){if(0!==t.length)return 1===t.length?t[0]??void 0:new R(t.filter(r.Ru))}function st(t){return t instanceof R}function it(t){return t instanceof w}function ot(t){return t instanceof L}function at(t){return t instanceof T}function ct(t){return t instanceof P}function ut(t){return t instanceof _}function lt(t){return t instanceof N}function ft(t){return t instanceof k}function ht(t){return t instanceof F}function dt(t){return t instanceof Z}const pt=0},82048:(t,e,n)=>{n.d(e,{Bn:()=>h,F2:()=>k,HG:()=>R,IB:()=>M,K4:()=>w,Mc:()=>d,Nm:()=>m,SO:()=>L,UL:()=>N,VT:()=>p,Yv:()=>y,Zj:()=>_,b_:()=>v,pJ:()=>b,r2:()=>g,t1:()=>A});var r=n(64682),s=n(32006),i=n(98080),o=n(89227),a=n(28473),c=n(12147),u=n(10872),l=n(11741),f=n(29383);function h(t,e,n){let{start:r,end:o,type:a}=t;const c=[],u=(0,s.Re)(T,o,r),l=(0,s.Re)(I,r,e),f=(0,s.m3)(u),h=2*(0,s.Om)(u,l),d=h*h-4*f*((0,s.m3)(l)-n*n);if(0===d){const t=-h/(2*f);(a===b.PLANE||t>=0)&&c.push((0,s.Ln)((0,i.vt)(),r,u,t))}else if(d>0){const t=Math.sqrt(d),e=(-h+t)/(2*f);(a===b.PLANE||e>=0)&&c.push((0,s.Ln)((0,i.vt)(),r,u,e));const n=(-h-t)/(2*f);(a===b.PLANE||n>=0)&&c.push((0,s.Ln)((0,i.vt)(),r,u,n))}return c}function d(t,e){const n=t.start,r=t.end,i=(0,s.Re)(T,r,n),u=(0,o.i)(x,-i[1],i[0],0),l=e.start,h=e.end,d=(0,o.a)(S,h,l),p=(0,o.f)(d,u),v=(0,o.i)(q,n[0],n[1],0),g=(0,o.a)(j,v,l),m=(0,o.f)(g,u),y=(0,c.FD)();if(Math.abs(p)<y)return Math.abs(m),[];const M=(0,o.b)(O,l,d,m/p);if(e.type===f.Vv.RAY){const t=(0,o.a)(D,M,l);if((0,o.f)(t,d)<-y)return[]}if(t.type===b.HALF_PLANE){const t=(0,s.jb)(I,M,n);if((0,s.Om)(t,i)<-y)return[]}return[(0,a.o8)(M)]}function p(t,e){return function(t,e){let{start:n,end:r,type:s}=t;const i=(0,o.a)(P,e,n),u=(0,o.a)(x,r,n),l=(0,o.e)(S,u,i),h=(0,o.z)(l)/(0,o.z)(u),d=(0,c.FD)();if(h<d)switch(s){case f.Vv.LINE:return[(0,a.o8)(e)];case f.Vv.RAY:return(0,o.f)(u,i)<-d?[]:[(0,a.o8)(e)]}return[]}(E(Z,e[2],t),e)}function v(t,e){return L(E(Z,0,t),E(G,0,e)).map((t=>{let[e,n]=t;return(0,i.fA)(e,n)}))}function g(t,e,n){return y(t,E(Z,t[2],e),n)}function m(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,a.vt)();const i=(0,s.Re)(T,t,e),o=(0,s.Bw)(i);return(0,s.Ln)(r,e,i,0===o?1:n/o),r[2]=t[2],r}function y(t,e){let{start:n,end:r,type:s}=e,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,a.vt)();const c=(0,o.a)(P,t,n),u=(0,o.a)(x,r,n),l=(0,o.f)(c,u)/(0,o.f)(u,u);return(0,o.b)(i,n,u,s===f.Vv.RAY?Math.max(l,0):l)}const M=(()=>{const t=(0,a.vt)(),e=(0,a.vt)(),n=(0,a.vt)();return(r,c)=>{let{start:h,end:d}=r,{center:p,radius:v,normal:g,slicePlane:m}=c;const y=(0,u.O_)(p,g,F);if(_((0,u.Io)(y,h),0)&&_((0,u.Io)(y,d),0)){(0,l.VV)(g,t,e);const r=(r,i)=>((0,o.d)(n,i,p),(0,s.hZ)(r,(0,o.f)(n,t),(0,o.f)(n,e)),r),c=(0,f.IB)({start:r(T,h),end:r(I,d),type:f.Vv.LINE},i.uY,v),u=[];for(const[n,s]of c){const r=(0,o.c)((0,a.vt)(),p);(0,o.b)(r,r,t,n),(0,o.b)(r,r,e,s),m&&!k(m,r)||u.push(r)}return u}const M=(0,a.vt)();return(0,u.U5)(y,h,d,M)?!_((0,o.j)(M,p),v)||m&&!k(m,M)?[]:[M]:[]}})();function w(t,e,n){let{start:r,end:i,type:c}=t;const u=[],l=(0,o.d)(P,i,r),h=(0,s.Re)(I,r,e),d=(0,s.m3)(l),p=2*(0,s.Om)(l,h),v=p*p-4*d*((0,s.m3)(h)-n*n);if(0===v){const t=-p/(2*d);(c===f.Vv.LINE||t>=0)&&u.push((0,o.b)((0,a.vt)(),r,l,t))}else if(v>0){const t=Math.sqrt(v),e=(-p+t)/(2*d);(c===f.Vv.LINE||e>=0)&&u.push((0,o.b)((0,a.vt)(),r,l,e));const n=(-p-t)/(2*d);(c===f.Vv.LINE||n>=0)&&u.push((0,o.b)((0,a.vt)(),r,l,n))}return u}function L(t,e){const n=t.start,r=t.end,s=e.start,i=e.end,u=(0,o.a)(P,r,n),l=(0,o.a)(x,i,s),h=(0,o.a)(S,s,n),d=(0,o.e)(q,u,l);if(!_((0,o.f)(h,d),0))return[];const p=(0,o.z)(d);if(_(p,0))return[];const v=(0,o.e)(j,h,l),g=(0,o.f)(v,d)/p,m=(0,o.b)(O,n,u,g);if(t.type===f.Vv.RAY){const t=(0,o.a)(D,m,n);if((0,o.f)(u,t)<-(0,c.FD)())return[]}if(e.type===f.Vv.RAY){const t=(0,o.a)(D,m,s);if((0,o.f)(l,t)<-(0,c.FD)())return[]}return[(0,a.o8)(m)]}function A(t,e,n,r){const[o,a]=t,[c,u]=n,l=c-o,f=u-a,h=l*l+f*f,d=Math.sqrt(h);if(d>e+r)return[];if(d<Math.abs(e-r))return[];if(_(d,0)&&_(e,r))return[];const p=(e*e-r*r+h)/(2*d),v=Math.sqrt(e*e-p*p),g=v*f/d,m=v*l/d,[y,M]=(0,s.Cc)(T,t,n,p/d);return _(g,m)?[(0,i.fA)(y,M)]:[(0,i.fA)(y+g,M-m),(0,i.fA)(y-g,M+m)]}function E(t,e,n){let{start:r,end:s,type:i}=n;return(0,o.i)(t.start,r[0],r[1],e),(0,o.i)(t.end,s[0],s[1],e),t.type=z[i],t}function R(t,e){return _(t[2],e[2])}function _(t,e){return(0,r.Sp)(Math.abs(t-e),0,(0,c.FD)())}function N(t,e){return e.filter((e=>k(t,e)))}function k(t,e){return(0,u.Tj)(t,e)}var b;!function(t){t[t.PLANE=0]="PLANE",t[t.HALF_PLANE=1]="HALF_PLANE"}(b||(b={}));const z={[b.PLANE]:f.Vv.LINE,[b.HALF_PLANE]:f.Vv.RAY},T=(0,i.vt)(),I=(0,i.vt)(),P=(0,a.vt)(),x=(0,a.vt)(),S=(0,a.vt)(),q=(0,a.vt)(),j=(0,a.vt)(),O=(0,a.vt)(),D=(0,a.vt)(),F=(0,u.vt)(),Z={start:(0,a.vt)(),end:(0,a.vt)(),type:f.Vv.LINE},G={start:(0,a.vt)(),end:(0,a.vt)(),type:f.Vv.LINE}}}]);