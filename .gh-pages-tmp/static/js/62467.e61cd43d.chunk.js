"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[52566,62467],{52566:(e,t,n)=>{n.r(t),n.d(t,{fromLatitude:()=>p,fromLatitudeLongitude:()=>d,fromLongitude:()=>f,fromMgrs:()=>h,fromUsng:()=>m,fromUtm:()=>g,isLoaded:()=>l,isSupported:()=>u,load:()=>c,toLatitudeLongitude:()=>_,toMgrs:()=>v,toUsng:()=>w,toUtm:()=>S});var r=n(74719),i=n(93205),o=n(75400),a=n(93321),s=n(23224);function l(){return(0,i.i)()}function u(){return(0,i.b)()}function c(){return(0,i.l)()}function d(e,t){const n=[];e=(e=(e=e.replaceAll(/[\u00B0\u00BA]/g,"^")).replaceAll("\u2032","'")).replaceAll("\u2033",'"');const r=M(t);return i.c.dmsToGeog(r,1,[e],n)?new o.default(n[0][0],n[0][1],t||a.default.WGS84):null}function f(e){return e&&l()?(0,s.$J)(e)??d(`0\xb0 0' 0" N | ${e}`)?.longitude??d(`0 | ${e}`)?.longitude??null:null}function p(e){return e&&l()?(0,s.$J)(e)??d(`${e} | 0\xb0 0' 0" E`)?.latitude??d(`${e} | 0`)?.latitude??null:null}function h(e,t,n){const r=[],s=P(n);if(-1===s)return console.warn(`invalid conversionMode: ${n}`),null;const l=M(t);return i.d.mgrsToGeogExtended(l,1,[e],s,r)?new o.default(r[0][0],r[0][1],t||a.default.WGS84):null}function m(e,t){const n=[];!t&&/\(.+27/.test(e)&&(t=a.default.GCS_NAD_1927);const r=M(t);return i.e.usngToGeog(r,1,[e],n)?new o.default(n[0][0],n[0][1],t||a.default.WGS84):null}function g(e,t,n){const r=[],s=y(n);if(-1===s)return console.warn(`invalid conversionMode: ${n}`),null;const l=M(t);return i.f.utmToGeog(l,1,[e],s,r)?new o.default(r[0][0],r[0][1],t||a.default.WGS84):null}function _(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[[e.x,e.y]],o=[],a=M(e.spatialReference);let s=0;switch(t){case"dd":s=i.c.geogToDd(a,1,r,n,o);break;case"ddm":s=i.c.geogToDdm(a,1,r,n,o);break;case"dms":s=i.c.geogToDms(a,1,r,n,o);break;default:return console.warn(`invalid format: ${t}`),null}return s?o[0]:null}function v(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=[[e.x,e.y]],a=[],s=M(e.spatialReference);let l=P(t);return-1===l?(console.warn(`invalid conversionMode: ${t}`),null):(r&&(l|=i.d.PE_MGRS_ADD_SPACES),i.d.geogToMgrsExtended(s,1,o,n,!1,l,a)?a[0]:null)}function w(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=[[e.x,e.y]],o=[],a=M(e.spatialReference);return i.e.geogToUsng(a,1,r,t,!1,n,o)?o[0]:null}function S(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=[[e.x,e.y]],o=[],a=M(e.spatialReference);let s=y(t);return-1===s?(console.warn(`invalid conversionMode: ${t}`),null):(n&&(s|=i.f.PE_UTM_OPTS_ADD_SPACES),i.f.geogToUtm(a,1,r,s,o)?o[0]:null)}function M(e){let t=null;if(e||(e=a.default.WGS84),e.wkid){if(t=i.P.geogcs(e.wkid),!t)throw new r.default("coordinate-formatter:invalid-spatial-reference","wkid is not valid")}else{if(!e.wkt2&&!e.wkt)throw new r.default("coordinate-formatter:invalid-spatial-reference","wkid and wkt are missing");if(t=i.P.fromString(i.a.PE_TYPE_GEOGCS,e.wkt2||e.wkt),!t)throw new r.default("coordinate-formatter:invalid-spatial-reference","wkt is not valid")}return t}function P(e){let t=-1;switch(e){case"automatic":t=i.d.PE_MGRS_STYLE_AUTO;break;case"new-180-in-zone-01":t=i.d.PE_MGRS_STYLE_NEW|i.d.PE_MGRS_180_ZONE_1_PLUS;break;case"new-180-in-zone-60":t=i.d.PE_MGRS_STYLE_NEW;break;case"old-180-in-zone-01":t=i.d.PE_MGRS_STYLE_OLD|i.d.PE_MGRS_180_ZONE_1_PLUS;break;case"old-180-in-zone-60":t=i.d.PE_MGRS_STYLE_OLD}return t}function y(e){let t=-1;switch(e){case"latitude-band-indicators":t=i.f.PE_UTM_OPTS_NONE;break;case"north-south-indicators":t=i.f.PE_UTM_OPTS_NS}return t}},62467:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var r=n(93800),i=n(6946),o=n(74719),a=(n(21265),n(48602)),s=(n(50925),n(14746),n(75269)),l=n(52566),u=n(96913),c=n(93321),d=n(70576),f=n(5616),p=n(97673);let h=class extends i.default{constructor(e){super(e),this.conversionInfo=null,this.coordinateSegments=null,this._currentPattern=void 0,this.defaultPattern=null,this.name=null,this.viewModel=null}get currentPattern(){return(this._currentPattern||this.defaultPattern)??""}set currentPattern(e){this._currentPattern=e}get label(){return this.name??""}set label(e){this._overrideIfSome("label",e)}get hasDisplayProperties(){return!(!this.defaultPattern||!this.coordinateSegments)}get spatialReference(){return"basemap"===this.name?this._viewSpatialReference:this.conversionInfo?.spatialReference??c.default.WGS84}set spatialReference(e){this._overrideIfSome("spatialReference",e)}get _viewSpatialReference(){return this.viewModel?.view?.spatialReference??c.default.WGS84}get _additionalCharactersPattern(){const e=this.coordinateSegments;if(!e)return null;const t=e.map((e=>e.alias)),n=this.currentPattern.replaceAll(new RegExp(`["nsew${t.join()}]`,"gi"),"").replaceAll(" ","");return new RegExp(`[${n}]`,"g")}get test(){}async convert(e){if(!(0,p.Ny)(e))throw new o.default("format:invalid-point","Could not convert invalid point.",{point:e});const t=this.conversionInfo?.convert;if(t)return Promise.resolve().then((()=>t(e)));const n=await this._project(e,this.spatialReference);return{location:n,coordinate:await this._getCoordinate(n)}}getConversionStrategy(){const e=this._viewSpatialReference;return this.conversionInfo?.convert||this.viewModel?.formatterAvailable||"xy"===this.name&&(e.isWebMercator||e.isWGS84)||"basemap"===this.name?"client":"server"}getDisplayCoordinate(e){if(!e)return null;if(!this.coordinateSegments||!this.currentPattern)return e;let t=this.currentPattern;const n=this._getSegmentMatches(e,!1);for(let r=this.coordinateSegments.length-1;r>=0;r--){const e=this.coordinateSegments[r];t=t.replace(e.alias,n[r])}return t}_parseUserInput(e){const{defaultPattern:t,_additionalCharactersPattern:n,coordinateSegments:r}=this;if(!t||!n)return"";let i=t.replace(n,"");e=e.replace(n,"");const o=this._getSegmentMatches(e,!0);if(r)for(let a=r.length-1;a>=0;a--){const e=r[a];i=i.replace(e.alias,o[a])}return i}_getSegmentMatches(e,t){const n=new Array,{coordinateSegments:r}=this;if(!r)return n;for(let i=0;i<r.length;i++){const o=r[i],a=e.match(o.searchPattern);if(!a){n.push("");continue}let s=a[0];if(e=e.replace(s,"").trim(),o.substitution){const e=t?o.substitution.input(s):o.substitution.output(s);e&&(s=`${e}`)}n.push(s)}return n}async reverseConvert(e){const t=this._parseUserInput(e),n=this.conversionInfo?.reverseConvert;let r;if(n)r=n(t);else if("xy"===this.name||"basemap"===this.name)r=(0,p.Kp)(t,this.spatialReference);else if(this.viewModel?.formatterAvailable)switch(this.name){case"dd":case"ddm":case"dms":r=(0,l.fromLatitudeLongitude)(t,this.spatialReference);break;case"mgrs":{const e="automatic";r=(0,l.fromMgrs)(t,this.spatialReference,e);break}case"utm":{const e="latitude-band-indicators";r=(0,l.fromUtm)(t,this.spatialReference,e);break}case"usng":r=(0,l.fromUsng)(t,this.spatialReference);break;default:r=null}if(!r)throw new o.default("format:invalid-input","Could not parse input into point.",{userInput:e});return this._project(r,this._viewSpatialReference)}async _getCoordinate(e){const t=this.viewModel?.view?.scale??0;if(!(0,p.Ny)(e))throw new o.default("format:invalid-point","Could not transform invalid point into coordinate.",{point:e});if(this.viewModel?.formatterAvailable||"basemap"===this.name||"xy"===this.name)switch(this.name){case"dd":case"ddm":case"dms":{const n=(0,p.pu)(t);return(0,l.toLatitudeLongitude)(e,this.name,n)}case"mgrs":return(0,l.toMgrs)(e,"automatic",5,!1);case"usng":return(0,l.toUsng)(e,5,!1);case"utm":return(0,l.toUtm)(e,"latitude-band-indicators",!0);default:return(0,p.sO)(e,t)}return(0,p.sO)(e,t)}async _project(e,t){if((0,d.aI)(e.spatialReference,t)||!t)return e;if(this.viewModel?.formatterAvailable&&(0,u.isLoaded)())return(0,u.project)(e,t);if(!this.viewModel?.formatterAvailable){const n=(0,f.project)(e,t);if(null!=n)return n}return null}};(0,r._)([(0,a.MZ)()],h.prototype,"conversionInfo",void 0),(0,r._)([(0,a.MZ)()],h.prototype,"coordinateSegments",void 0),(0,r._)([(0,a.MZ)()],h.prototype,"currentPattern",null),(0,r._)([(0,a.MZ)()],h.prototype,"_currentPattern",void 0),(0,r._)([(0,a.MZ)()],h.prototype,"label",null),(0,r._)([(0,a.MZ)()],h.prototype,"defaultPattern",void 0),(0,r._)([(0,a.MZ)({readOnly:!0})],h.prototype,"hasDisplayProperties",null),(0,r._)([(0,a.MZ)()],h.prototype,"name",void 0),(0,r._)([(0,a.MZ)({type:c.default})],h.prototype,"spatialReference",null),(0,r._)([(0,a.MZ)()],h.prototype,"viewModel",void 0),(0,r._)([(0,a.MZ)({readOnly:!0})],h.prototype,"_viewSpatialReference",null),(0,r._)([(0,a.MZ)({readOnly:!0})],h.prototype,"_additionalCharactersPattern",null),h=(0,r._)([(0,s.$)("esri.widgets.CoordinateConversion.support.Format")],h);const m=h},97673:(e,t,n)=>{n.d(t,{Kp:()=>s,Ny:()=>u,pu:()=>a,sO:()=>c,z2:()=>f});var r=n(75400),i=n(93321);function o(e,t){const n=a(t);return[e[0].toFixed(n),e[1].toFixed(n)]}function a(e){return e>=500?6:e<500&&e>=50?7:e<50&&e>=5?8:9}function s(e,t){const n=e.includes(",")?",":" ",[o,a,s]=e.split(n).map((e=>{const t=e.trim();return t?Number(t):null}));if(!l(o)||!l(a))return null;const u=new r.default({x:o,y:a,spatialReference:t||i.default.WGS84});return s&&(u.z=s,u.hasZ=!0),u}function l(e){return"number"==typeof e&&isFinite(e)}function u(e){return!!e&&l(e.x)&&l(e.y)}function c(e,t){if(e.spatialReference.isGeographic&&t){const[n,r]=o([e.x,e.y],t);return`${n}, ${r}`}return`${e.x.toFixed(3)}, ${e.y.toFixed(3)}`}const d=["dd","dms","ddm","mgrs","usng","utm"];function f(e){return d.includes(e)}}}]);