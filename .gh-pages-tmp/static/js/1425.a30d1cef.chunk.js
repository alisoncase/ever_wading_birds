"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[1425,28159,28842,48243,60822,70674,73959,85022,86434,96872],{13473:(e,t,r)=>{function i(){return[1,0,0,0,1,0,0,0,1]}function n(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]}function a(e,t,r,i,n,a,s,l,o){return[e,t,r,i,n,a,s,l,o]}r.d(t,{fA:()=>a,o8:()=>n,vt:()=>i,zK:()=>s});const s=[1,0,0,0,1,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:s,clone:n,create:i,createView:function(e,t){return new Float64Array(e,t,9)},fromValues:a},Symbol.toStringTag,{value:"Module"}))},18162:(e,t,r)=>{r.d(t,{F:()=>a});r(96913);var i=r(93321),n=r(31183);function a(e,t,r,i,a){return!(null==t||null==i||e.length<2)&&(s.x=e[0],s.y=e[1],s.z=e[2],s.spatialReference=t,(0,n.g)(s,r,i,a))}const s=(0,r(62240).T)(0,0,0,i.default.WGS84)},23278:(e,t,r)=>{var i;r.d(t,{n:()=>i}),function(e){e[e.FEATURE=1]="FEATURE",e[e.SELF=2]="SELF",e[e.ALL=3]="ALL"}(i||(i={}))},28159:(e,t,r)=>{r.r(t),r.d(t,{default:()=>y});var i,n=r(93800),a=r(19455),s=r(48602),l=r(80556),o=(r(21265),r(14746),r(75269)),c=r(15484),u=r(93321),h=r(79580),d=r(26463),p=r(96872);let f=i=class extends a.A{static from(e){return(0,l.PZ)(i,e)}constructor(e){super(e),this.namedTraceConfigurationGlobalId=null,this.gdbVersion=null,this.traceLocations=[],this.moment=null,this.outSpatialReference=null,this.traceConfiguration=null,this.resultTypes=null,this.traceType=null}writeOutSR(e,t,r){if(null!=e){const{wkid:i,latestWkid:n,wkt:a,wkt2:s}=e;t[r]=JSON.stringify({wkid:i??void 0,latestWkid:n??void 0,wkt:a??void 0,wkt2:s??void 0})}}};(0,n._)([(0,s.MZ)({type:String,json:{read:{source:"traceConfigurationGlobalId"},write:{target:"traceConfigurationGlobalId"}}})],f.prototype,"namedTraceConfigurationGlobalId",void 0),(0,n._)([(0,s.MZ)({type:String,json:{write:!0}})],f.prototype,"gdbVersion",void 0),(0,n._)([(0,s.MZ)({type:[p.default],json:{write:!0}})],f.prototype,"traceLocations",void 0),(0,n._)([(0,s.MZ)({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.moment=e?e.getTime():null}}}})],f.prototype,"moment",void 0),(0,n._)([(0,s.MZ)({type:u.default,json:{write:{allowNull:!0,target:"outSR"}}})],f.prototype,"outSpatialReference",void 0),(0,n._)([(0,c.K)("outSpatialReference")],f.prototype,"writeOutSR",null),(0,n._)([(0,s.MZ)({type:d.default,json:{write:!0}})],f.prototype,"traceConfiguration",void 0),(0,n._)([(0,s.MZ)({type:[Object],json:{write:!0}})],f.prototype,"resultTypes",void 0),(0,n._)([(0,s.MZ)({type:h.fO.apiValues,json:{type:h.fO.jsonValues,read:h.fO.read,write:h.fO.write}})],f.prototype,"traceType",void 0),f=i=(0,n._)([(0,o.$)("esri.rest.networks.support.TraceParameters")],f);const y=f},28417:(e,t,r)=>{r.d(t,{Kw:()=>a,RE:()=>l,Sl:()=>s});var i=r(13248),n=r(23060);async function a(e,t,r){const a=i.id?.findCredential(e.restUrl);if(!a)return null;if("loaded"===e.loadStatus&&""===t&&e.user?.sourceJSON&&!1===r)return e.user.sourceJSON;const s={responseType:"json",query:{f:"json"}};if(r&&(s.query.returnUserLicenseTypeExtensions=!0),""===t){const t=await(0,n.default)(e.restUrl+"/community/self",s);if(t.data){const e=t.data;if(e?.username)return e}return null}const l=await(0,n.default)(e.restUrl+"/community/users/"+t,s);if(l.data){const e=l.data;return e.error?null:e}return null}async function s(e,t,r){const i=await a(e,t,!0);return i?.privileges?.includes(r)??!1}async function l(e,t,r){const i=await a(e,t,!0);return i?.userLicenseTypeExtensions?.includes(r)??!1}},28842:(e,t,r)=>{r.d(t,{c:()=>i,g:()=>n});var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},31183:(e,t,r)=>{r.d(t,{W:()=>l,g:()=>s});var i=r(28473),n=r(96913),a=r(67093);function s(e,t,r,i){if((0,n.canProjectWithoutEngine)(e.spatialReference,r)){o[0]=e.x,o[1]=e.y;const n=e.z;return o[2]=n??i??0,(0,a.projectBuffer)(o,e.spatialReference,0,t,r,0)}const s=(0,n.tryProjectWithZConversion)(e,r);return!!s&&(t[0]=s?.x,t[1]=s?.y,t[2]=s?.z??i??0,!0)}async function l(e,t,r,i,a){return await(0,n.initializeProjection)(e.spatialReference,r,null,a),s(e,t,r,i)}const o=(0,i.vt)()},34519:(e,t,r)=>{r.d(t,{N:()=>u});var i=r(93800),n=r(88102),a=r(19455),s=r(48602),l=r(75269);let o=class extends a.A{constructor(){super(...arguments),this.enabled=!0}};(0,i._)([(0,s.MZ)({type:Boolean})],o.prototype,"enabled",void 0),o=(0,i._)([(0,l.$)("esri.views.interactive.snapping.Settings.DefaultSnappingAlgorithm")],o);let c=class extends a.A{constructor(e){super(e),this.lineSnapper=new o,this.parallelLineSnapper=new o,this.rightAngleSnapper=new o,this.rightAngleTriangleSnapper=new o,this.shortLineThreshold=15,this.distance=5,this.pointThreshold=1e-6,this.intersectionParallelLineThreshold=1e-6,this.parallelLineThreshold=1e-6,this.verticalLineThresholdMeters=.3,this.touchSensitivityMultiplier=1.5,this.pointOnLineThreshold=1e-6,this.orange=new n.default([255,127,0]),this.orangeTransparent=new n.default([255,127,0,.5]),this.lineHintWidthReference=3,this.lineHintWidthTarget=3,this.lineHintFadedExtensions=.3,this.parallelLineHintWidth=2,this.parallelLineHintLength=24,this.parallelLineHintOffset=1.5,this.rightAngleHintSize=24,this.rightAngleHintOutlineSize=1.5,this.satisfiesConstraintScreenThreshold=1}};(0,i._)([(0,s.MZ)({type:o,constructOnly:!0,nonNullable:!0,json:{write:!0}})],c.prototype,"lineSnapper",void 0),(0,i._)([(0,s.MZ)({type:o,constructOnly:!0,nonNullable:!0,json:{write:!0}})],c.prototype,"parallelLineSnapper",void 0),(0,i._)([(0,s.MZ)({type:o,constructOnly:!0,nonNullable:!0,json:{write:!0}})],c.prototype,"rightAngleSnapper",void 0),(0,i._)([(0,s.MZ)({type:o,constructOnly:!0,nonNullable:!0,json:{write:!0}})],c.prototype,"rightAngleTriangleSnapper",void 0),(0,i._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],c.prototype,"shortLineThreshold",void 0),(0,i._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],c.prototype,"distance",void 0),(0,i._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],c.prototype,"pointThreshold",void 0),(0,i._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],c.prototype,"intersectionParallelLineThreshold",void 0),(0,i._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],c.prototype,"parallelLineThreshold",void 0),(0,i._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],c.prototype,"verticalLineThresholdMeters",void 0),(0,i._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],c.prototype,"touchSensitivityMultiplier",void 0),(0,i._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],c.prototype,"pointOnLineThreshold",void 0),(0,i._)([(0,s.MZ)({type:n.default,nonNullable:!0})],c.prototype,"orange",void 0),(0,i._)([(0,s.MZ)({type:n.default,nonNullable:!0})],c.prototype,"orangeTransparent",void 0),(0,i._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],c.prototype,"lineHintWidthReference",void 0),(0,i._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],c.prototype,"lineHintWidthTarget",void 0),(0,i._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],c.prototype,"lineHintFadedExtensions",void 0),(0,i._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],c.prototype,"parallelLineHintWidth",void 0),(0,i._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:50},json:{write:!0}})],c.prototype,"parallelLineHintLength",void 0),(0,i._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:5},json:{write:!0}})],c.prototype,"parallelLineHintOffset",void 0),(0,i._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:46},json:{write:!0}})],c.prototype,"rightAngleHintSize",void 0),(0,i._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:6},json:{write:!0}})],c.prototype,"rightAngleHintOutlineSize",void 0),(0,i._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:5},json:{write:!0}})],c.prototype,"satisfiesConstraintScreenThreshold",void 0),c=(0,i._)([(0,l.$)("esri.views.interactive.snapping.Settings.Defaults")],c);const u=new c},41317:(e,t,r)=>{r.d(t,{$7:()=>G,B:()=>S,Fo:()=>_,M7:()=>x,NN:()=>d,Q5:()=>A,Tq:()=>I,Up:()=>R,XF:()=>T,Ze:()=>m,bK:()=>l,bh:()=>h,id:()=>w,ky:()=>u,qt:()=>N,tW:()=>L,v9:()=>p,w7:()=>o,wF:()=>s,wS:()=>v,wz:()=>y,x:()=>f,xS:()=>b,ze:()=>c});var i=r(84190),n=r(34308);function a(e){return e?N:I}function s(e,t){return t?.mode?t.mode:a(e).mode}function l(e,t){return null!=t?t:a(e)}function o(e,t){return s(null==e||(e.hasZ??!1),t)}function c(e,t){return l(null==e||(e.hasZ??!1),t)}function u(e){const t=g(e);return o(e.geometry,t)}function h(e){const t=g(e),r=o(e.geometry,t),i=null!=t&&"on-the-ground"!==r?x(t):0,n=t?.featureExpressionInfo;return{mode:r,offset:i,featureExpressionInfo:n}}function d(e){return y(h(e))}function p(e){return y(e)||f(e)}function f(e){return"0"===e?.featureExpressionInfo?.expression}function y(e){if(!e)return!1;if("on-the-ground"===e.mode)return!1;const t=e?.featureExpressionInfo?e.featureExpressionInfo.expression:null;return!(!t||"0"===t)}function g(e){return e.layer&&"elevationInfo"in e.layer?e.layer.elevationInfo:null}function m(e,t){if(!e?.offset)return 0;const{offset:r,unit:n}=e;if("decimal-degrees"===n)return 0;const a="unknown"!==n&&n?n:"meters",s=(0,i.mq)(t);return s?(0,i.oU)(r,a,s):0}function w(e,t,r){if(!r?.mode)return;const i=e.hasZ?e.z:0,n=m(r,e.spatialReference);switch(r.mode){case"absolute-height":return i-n;case"on-the-ground":return 0;case"relative-to-ground":return i-((t.elevationProvider.getElevation(e.x,e.y,i,e.spatialReference,"ground")??0)+n);case"relative-to-scene":return i-((t.elevationProvider.getElevation(e.x,e.y,i,e.spatialReference,"scene")??0)+n)}}function v(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _(e,t.x,t.y,t.hasZ?t.z:0,t.spatialReference,r,i)}function b(e,t,r,i){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return _(e,t[0],t[1],t.length>2?t[2]:0,r,i,n)}function _(e,t,r,i,n,a){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;if(null==a)return;const l=null!=s?s.mode:"absolute-height";if("on-the-ground"===l)return 0;const{absoluteZ:o}=A(t,r,i,n,e,a);return function(e,t,r,i,n,a,s,l){const o=m(s,n);switch(l){case"absolute-height":return e-o;case"relative-to-ground":return e-((a.elevationProvider.getElevation(t,r,i,n,"ground")??0)+o);case"relative-to-scene":return e-((a.elevationProvider.getElevation(t,r,i,n,"scene")??0)+o)}}(o,t,r,i,n,e,s,l)}function A(e,t,r,i,n,a){const s=m(a,i);switch(a.mode){case"absolute-height":return{absoluteZ:r+s,elevation:0};case"on-the-ground":{const r=n.elevationProvider.getElevation(e,t,0,i,"ground")??0;return{absoluteZ:r,elevation:r}}case"relative-to-ground":{const a=n.elevationProvider.getElevation(e,t,r,i,"ground")??0;return{absoluteZ:r+a+s,elevation:a}}case"relative-to-scene":{const a=n.elevationProvider.getElevation(e,t,r,i,"scene")??0;return{absoluteZ:r+a+s,elevation:a}}}}function R(e,t){if(null==t)return!1;const{mode:r}=t;return null!=r&&("scene"===e&&"relative-to-scene"===r||"ground"===e&&"absolute-height"!==r)}function S(e,t,r){return r&&r.mode!==t?`${e} only support ${t} elevation mode`:null}function G(e,t,r){return r?.mode===t?`${e} do not support ${t} elevation mode`:null}function L(e,t){return null!=t?.featureExpressionInfo&&"0"!==t.featureExpressionInfo.expression?`${e} do not support featureExpressionInfo`:null}function T(e,t){t&&e.warn(".elevationInfo=",t)}function x(e){return(e?.offset??0)*(0,n.Ao)(e?.unit)}const N={mode:"absolute-height",offset:0},I={mode:"on-the-ground",offset:null}},43536:(e,t,r)=>{r.d(t,{m:()=>i});class i{constructor(e,t){this.isDraped=e,this.domain=t}}},47176:(e,t,r)=>{r.d(t,{K9:()=>p,KM:()=>d,XU:()=>h,pC:()=>f});var i=r(79625),n=r(89129),a=r(92744),s=r(99071),l=r(83031),o=r(59116),c=r(35130),u=r(17577);const h=[227,27,21,.6],d=[21,244,21,.6],p=[{color:[255,0,0,.6],haloOpacity:.9,fillOpacity:.2,hex:"#ff0000"},{color:[255,0,255,.6],haloOpacity:.9,fillOpacity:.2,hex:"#ff00ff"},{color:[217,188,255,.6],haloOpacity:.9,fillOpacity:.2,hex:"#D9BCFF"},{color:[0,255,0,.6],haloOpacity:.9,fillOpacity:.2,hex:"#00ff00"},{color:[255,255,0,.6],haloOpacity:.9,fillOpacity:.2,hex:"#ffff00"},{color:[0,0,255,.6],haloOpacity:.9,fillOpacity:.2,hex:"#0000ff"},{color:[255,165,0,.5],haloOpacity:.9,fillOpacity:.2,hex:"#ffa500"},{color:[0,0,0,.5],haloOpacity:.9,fillOpacity:.2,hex:"#000000"}];class f{constructor(){this.highlightColor=[...p]}addCustomColor(e){this.highlightColor=[...p],this.highlightColor.some((t=>t.hex.toLowerCase()===e.hex.toLowerCase()))||this.highlightColor.push(e)}getFlagGraphic(e,t,r,i){const n="starting-point"===t?d:h;if("polygon"===e.type){const t=e;t.centroid&&(e=t.centroid)}return i?this.makeGraphic(e,n,r?.attributes,null,i):this.makeGraphic(e,n,r?.attributes)}initializeSketch(e,t,r){const i=new n.default;return r.forEach((e=>i.add(new o.default({layer:e,enabled:!0})))),new u.default({layer:t,view:e,snappingOptions:new c.default({enabled:!0,featureEnabled:!0,featureSources:i})})}makeGraphic(e,t,r,n,o){let c,u=e;switch(e.type){case"multipoint":c=new l.default({color:t,size:12,outline:{color:t,width:0}}),n&&(u=e);break;case"point":c=o||new l.default({color:t,size:12,outline:{color:t,width:0}}),n&&(u=e);break;case"polyline":c=new s.default({color:t,width:12}),n&&(u=e);break;case"polygon":c=new a.default({color:t,outline:{color:t,width:12}}),n&&(u=e)}return new i.default({geometry:u,symbol:c,attributes:r??null})}}},48243:(e,t,r)=>{r.r(t),r.d(t,{submitTraceJob:()=>l,trace:()=>s});var i=r(23060),n=r(10193),a=r(47862);async function s(e,t,r){const s=(0,n.Dl)(e),l=t.toJSON();l.traceLocations=JSON.stringify(t.traceLocations),t.resultTypes&&(l.resultTypes=JSON.stringify(t.resultTypes));const o=(0,n.jV)(s.query,{query:(0,n.lF)({...l,f:"json"}),...r}),c=`${s.path}/trace`;return(0,i.default)(c,o).then((e=>function(e){const{data:t}=e;return a.default.fromJSON(t.traceResults)}(e)))}async function l(e,t,r){const a=(0,n.Dl)(e),s=t.toJSON();s.traceLocations=JSON.stringify(t.traceLocations),t.resultTypes&&(s.resultTypes=JSON.stringify(t.resultTypes));const l=(0,n.jV)(a.query,{query:(0,n.lF)({...s,async:!0,f:"json"}),...r}),o=`${a.path}/trace`,{data:c}=await(0,i.default)(o,l);return c.statusUrl}},54404:(e,t,r)=>{async function i(e,t){if("2d"===e.type)return e.hitTest(t);const r=await e.hitTest(t);if(0===r.results.length)return r;const i=r.results[0],a=(i.distance??0)*(1+n),s=r.results.findIndex((e=>(e.distance??0)>a));return-1!==s&&(r.results=r.results.slice(0,s)),i&&r.ground.distance>a&&(r.ground.mapPoint=null),r}r.d(t,{h$:()=>l,oZ:()=>i,zF:()=>s});const n=.05;function a(e){return"graphic"===e?.type}function s(e){return e.find(a)??null}function l(e){return e.filter(a)}},60822:(e,t,r)=>{r.r(t),r.d(t,{buffer:()=>I,changeDefaultSpatialReferenceTolerance:()=>W,clearDefaultSpatialReferenceTolerance:()=>J,clip:()=>u,contains:()=>d,convexHull:()=>S,crosses:()=>p,cut:()=>h,densify:()=>C,difference:()=>G,disjoint:()=>v,distance:()=>f,equals:()=>y,extendedSpatialReferenceInfo:()=>c,flipHorizontal:()=>E,flipVertical:()=>H,generalize:()=>V,geodesicArea:()=>D,geodesicBuffer:()=>M,geodesicDensify:()=>B,geodesicLength:()=>z,intersect:()=>T,intersectLinesToPoints:()=>q,intersects:()=>g,isSimple:()=>A,nearestCoordinate:()=>k,nearestVertex:()=>F,nearestVertices:()=>P,offset:()=>N,overlaps:()=>b,planarArea:()=>j,planarLength:()=>U,relate:()=>_,rotate:()=>Z,simplify:()=>R,symmetricDifference:()=>L,touches:()=>m,union:()=>x,within:()=>w});var i=r(80556),n=r(97653),a=r(31329),s=r(93321),l=r(85022);function o(e){const t=Array.isArray(e)?e[0].spatialReference:e.spatialReference;return t?(0,i.PZ)(s.default,t):s.default.WGS84}function c(e){return a.G.extendedSpatialReferenceInfo(e)}function u(e,t){return(0,n.f)(e),a.G.clip(l.hydratedAdapter,o(e),e,t)}function h(e,t){return(0,n.f)(e),a.G.cut(l.hydratedAdapter,o(e),e,t)}function d(e,t){return(0,n.f)(e),(0,n.f)(t),a.G.contains(l.hydratedAdapter,o(e),e,t)}function p(e,t){return(0,n.f)(e),(0,n.f)(t),a.G.crosses(l.hydratedAdapter,o(e),e,t)}function f(e,t,r){return(0,n.f)(e),(0,n.f)(t),a.G.distance(l.hydratedAdapter,o(e),e,t,r)}function y(e,t){return(0,n.f)(e),(0,n.f)(t),a.G.equals(l.hydratedAdapter,o(e),e,t)}function g(e,t){return(0,n.f)(e),(0,n.f)(t),a.G.intersects(l.hydratedAdapter,o(e),e,t)}function m(e,t){return(0,n.f)(e),(0,n.f)(t),a.G.touches(l.hydratedAdapter,o(e),e,t)}function w(e,t){return(0,n.f)(e),(0,n.f)(t),a.G.within(l.hydratedAdapter,o(e),e,t)}function v(e,t){return(0,n.f)(e),(0,n.f)(t),a.G.disjoint(l.hydratedAdapter,o(e),e,t)}function b(e,t){return(0,n.f)(e),(0,n.f)(t),a.G.overlaps(l.hydratedAdapter,o(e),e,t)}function _(e,t,r){return(0,n.f)(e),(0,n.f)(t),a.G.relate(l.hydratedAdapter,o(e),e,t,r)}function A(e){return(0,n.f)(e),a.G.isSimple(l.hydratedAdapter,o(e),e)}function R(e){return(0,n.f)(e),a.G.simplify(l.hydratedAdapter,o(e),e)}function S(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a.G.convexHull(l.hydratedAdapter,o(e),e,t)}function G(e,t){return(0,n.f)(t),a.G.difference(l.hydratedAdapter,o(e),e,t)}function L(e,t){return(0,n.f)(t),a.G.symmetricDifference(l.hydratedAdapter,o(e),e,t)}function T(e,t){return(0,n.f)(t),a.G.intersect(l.hydratedAdapter,o(e),e,t)}function x(e){return a.G.union(l.hydratedAdapter,o(e),e)}function N(e,t,r,i,n,s){return a.G.offset(l.hydratedAdapter,o(e),e,t,r,i,n,s)}function I(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return a.G.buffer(l.hydratedAdapter,o(e),e,t,r,i)}function M(e,t,r,i,n,s){return a.G.geodesicBuffer(l.hydratedAdapter,o(e),e,t,r,i,n,s)}function k(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return(0,n.f)(e),a.G.nearestCoordinate(l.hydratedAdapter,o(e),e,t,r)}function F(e,t){return(0,n.f)(e),a.G.nearestVertex(l.hydratedAdapter,o(e),e,t)}function P(e,t,r,i){return(0,n.f)(e),a.G.nearestVertices(l.hydratedAdapter,o(e),e,t,r,i)}function O(e){return"xmin"in e?"center"in e?e.center:null:"x"in e?e:"extent"in e?e.extent?.center??null:null}function Z(e,t,r){if(null==e)throw new $;const i=e.spatialReference;if(null==(r=r??O(e)))throw new $;const n=e.constructor.fromJSON(a.G.rotate(e,t,r));return n.spatialReference=i,n}function E(e,t){if(null==e)throw new $;const r=e.spatialReference;if(null==(t=t??O(e)))throw new $;const i=e.constructor.fromJSON(a.G.flipHorizontal(e,t));return i.spatialReference=r,i}function H(e,t){if(null==e)throw new $;const r=e.spatialReference;if(null==(t=t??O(e)))throw new $;const i=e.constructor.fromJSON(a.G.flipVertical(e,t));return i.spatialReference=r,i}function V(e,t,r,i){return(0,n.f)(e),a.G.generalize(l.hydratedAdapter,o(e),e,t,r,i)}function C(e,t,r){return(0,n.f)(e),a.G.densify(l.hydratedAdapter,o(e),e,t,r)}function B(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return(0,n.f)(e),a.G.geodesicDensify(l.hydratedAdapter,o(e),e,t,r,i)}function j(e,t){return(0,n.f)(e),a.G.planarArea(l.hydratedAdapter,o(e),e,t)}function U(e,t){return(0,n.f)(e),a.G.planarLength(l.hydratedAdapter,o(e),e,t)}function D(e,t,r){return(0,n.f)(e),a.G.geodesicArea(l.hydratedAdapter,o(e),e,t,r)}function z(e,t,r){return(0,n.f)(e),a.G.geodesicLength(l.hydratedAdapter,o(e),e,t,r)}function q(e,t){return a.G.intersectLinesToPoints(l.hydratedAdapter,o(e),e,t)}function W(e,t){a.G.changeDefaultSpatialReferenceTolerance(e,t)}function J(e){a.G.clearDefaultSpatialReferenceTolerance(e)}class $ extends Error{constructor(){super("Illegal Argument Exception")}}},61073:(e,t,r)=>{r.d(t,{l:()=>s});r(21265),r(50925);var i=r(89227),n=r(23278),a=r(43536);class s extends a.m{constructor(e,t,r,i){super(i,arguments.length>4&&void 0!==arguments[4]?arguments[4]:n.n.ALL),this.previousVertex=e,this.centerVertex=t,this.nextVertex=r}equals(e){return e instanceof s&&(0,i.p)(this.previousVertex,e.previousVertex)&&(0,i.p)(this.centerVertex,e.centerVertex)&&(0,i.p)(this.nextVertex,e.nextVertex)}}},62240:(e,t,r)=>{function i(e,t,r,i){return{x:e,y:t,z:r,hasZ:null!=r,hasM:!1,spatialReference:i,type:"point"}}function n(e,t,r,i,n){e.x=t,e.y=r,e.z=i,e.hasZ=null!=i,e.spatialReference=n}r.d(t,{J:()=>n,T:()=>i})},64053:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o});var i=r(93800),n=r(6946),a=r(48602),s=(r(21265),r(50925),r(14746),r(75269));let l=class extends n.default{constructor(e){super(e),this.enabled=!1}};(0,i._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],l.prototype,"enabled",void 0),l=(0,i._)([(0,s.$)("esri.views.interactive.sketch.SketchLabelOptions")],l);const o=l},65022:(e,t,r)=>{r.d(t,{c:()=>s});r(21265),r(50925);var i=r(89227),n=r(23278),a=r(43536);class s extends a.m{constructor(e,t,r,i){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n.n.ALL,s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];super(i,a),this.type=e,this.lineStart=t,this.lineEnd=r,this.fadeLeft=s,this.fadeRight=l}equals(e){return e instanceof s&&this.type===e.type&&(0,i.p)(this.lineStart,e.lineStart)&&(0,i.p)(this.lineEnd,e.lineEnd)&&this.fadeLeft===e.fadeLeft&&this.fadeRight===e.fadeRight}get length(){return(0,i.j)(this.lineStart,this.lineEnd)}}},70674:(e,t,r)=>{r.r(t),r.d(t,{default:()=>p});var i=r(93800),n=r(48602),a=(r(21265),r(50925),r(14746),r(75269)),s=r(21),l=r(57457),o=r(24203),c=r(75215),u=r(33580),h=r(87730);let d=class extends((0,o.dM)((0,c.j)(l.default))){constructor(e){super(e),this.elevationInfo=null,this.graphics=new u.Y,this.screenSizePerspectiveEnabled=!0,this.type="graphics",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}add(e){return this.graphics.add(e),this}addMany(e){return this.graphics.addMany(e),this}removeAll(){return this.graphics.removeAll(),this}remove(e){this.graphics.remove(e)}removeMany(e){this.graphics.removeMany(e)}on(e,t){return super.on(e,t)}graphicChanged(e){this.emit("graphic-update",e)}};(0,i._)([(0,n.MZ)({type:h.A})],d.prototype,"elevationInfo",void 0),(0,i._)([(0,n.MZ)((0,s.C)(u.Y,"graphics"))],d.prototype,"graphics",void 0),(0,i._)([(0,n.MZ)({type:["show","hide"]})],d.prototype,"listMode",void 0),(0,i._)([(0,n.MZ)()],d.prototype,"screenSizePerspectiveEnabled",void 0),(0,i._)([(0,n.MZ)({readOnly:!0})],d.prototype,"type",void 0),(0,i._)([(0,n.MZ)({constructOnly:!0})],d.prototype,"internal",void 0),d=(0,i._)([(0,a.$)("esri.layers.GraphicsLayer")],d);const p=d},70755:(e,t,r)=>{r.d(t,{r:()=>s});r(21265),r(50925);var i=r(89227),n=r(23278),a=r(43536);class s extends a.m{constructor(e,t,r){super(r,arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.n.ALL),this.lineStart=e,this.lineEnd=t}equals(e){return e instanceof s&&(0,i.p)(this.lineStart,e.lineStart)&&(0,i.p)(this.lineEnd,e.lineEnd)}}},74309:(e,t,r)=>{r.d(t,{v:()=>s});var i=r(89227),n=r(23278),a=r(43536);class s extends a.m{constructor(e,t){super(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.n.ALL),this.intersectionPoint=e}equals(e){return e instanceof s&&(0,i.p)(this.intersectionPoint,e.intersectionPoint)}}},79433:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Y});var i=r(93800),n=r(13248),a=r(89129),s=r(56082),l=r(74719),o=r(58448),c=r(50925),u=r(79953),h=r(48602),d=(r(21265),r(14746),r(75269)),p=r(78629),f=r(53957),y=r(77969),g=r(70674),m=r(3266),w=r(78076),v=r(70508),b=r(15292),_=r(78139),A=r(28417),R=r(48243),S=r(96872),G=r(28159),L=r(22093),T=r(60822),x=r(54824),N=r(96913),I=r(93321);function M(e){return"polygon"===e.type||"polyline"===e.type}class k{createBuffer(e,t,r,i){if(Array.isArray(e)){if(e.length>0){const n=I.default.fromJSON(e[0].spatialReference);return n.isWGS84||n.isWebMercator?(0,T.geodesicBuffer)(e,t,r,i):(0,T.buffer)(e,t,r,i)}return}const n=I.default.fromJSON(e.spatialReference);return n.isWGS84||n.isWebMercator?(0,T.geodesicBuffer)(e,t[0],r):(0,T.buffer)(e,t[0],r)}createConvexHull(e){if(Array.isArray(e)){if(1===e.length&&function(e){return function(e){return e.hasOwnProperty("points")}(e)&&2===e.points.length}(e[0])){const t=(0,T.convexHull)(e[0]);if(M(t))return t}return(0,T.convexHull)(e,!0).filter(M)}const t=(0,T.convexHull)(e);if(M(t))return t}calculateArea(e,t){const r=new I.default({wkid:e.spatialReference.wkid});return r.isWGS84||r.isWebMercator?parseFloat((0,T.geodesicArea)(e,t).toFixed(2)):parseFloat((0,T.planarArea)(e,t).toFixed(2))}mergeAggregatedToGeometries(e){const t=[],{line:r,multipoint:i,polygon:n}=e;return r&&t.push(r),i&&t.push(i),n&&t.push(n),t}getPercentageAlong(e,t,r){let i=e;const n=this._createPolyline(e.paths,r.wkid);if("point"===t.type){const e=t.x-.5,a=t.x+.5,s=[[[e,t.y-.5],[a,t.y+.5]]];i=this._createPolyline(s,t.spatialReference.wkid),i=(0,N.project)(i,r);const l=(0,T.cut)(n,i);if(l.length>0){const e=(0,T.planarLength)(n,"feet");let t;return t=l[0].paths[0][0][0]===n.paths[0][0][0]?(0,T.planarLength)(l[0],"feet"):(0,T.planarLength)(l[1],"feet"),[t/e]}return[.5]}i=(0,N.project)(t,r);const a=(0,T.cut)(n,i);if(a.length>0){const e=(0,T.planarLength)(n,"feet");return[(0,T.planarLength)(a[0],"feet")/e]}return[.5]}async projectGeometry(e,t){return await(0,N.load)(),(0,N.project)(e,t)}_createPolyline(e,t){return new x.default({hasZ:!1,hasM:!0,paths:e,spatialReference:new I.default({wkid:t})})}}var F=r(47176),P=r(79625),O=r(35377),Z=r(26964),E=r(92744);const H=`utility-network-trace-result-area-${Date.now()}`;function V(e){return"graphics"===e.type}class C{constructor(){this.traceInformation={},this._geometryHandler=new k}addResultAreaToMap(e,t){const r=this.createGraphicLayer(t);r&&V(r)&&r.add(e)}changeResultAreaColor(e,t,r){const i=new E.default({color:t.color,style:"solid",outline:{color:t.color,width:1}}),n=this._findGraphicsByTraceId(e,r);return n&&n.forEach((e=>{e.symbol=i})),i}createBuffer(e,t,r,i){return this._geometryHandler.createBuffer(e,t,r,i)}createConvexHull(e,t,r){const i=this._geometryHandler.createConvexHull(e);return t>0&&i?this.createBuffer(i,[t],r,!1):i}createResultAreaGraphic(e,t,r,i,n,a){const s=new E.default({color:a.color,style:"solid",outline:{color:a.color,width:1}}),l=[];for(const o in t)l.push(new Z.default({fieldName:o,label:"areaStatistic"===o?i.attributeStrings[o]+" ("+n.units[r]?.abbr+")":i.attributeStrings[o]}));return new P.default({geometry:e,symbol:s,attributes:t,popupTemplate:new O.default({title:t.traceName,content:[{type:"fields",fieldInfos:l}]})})}removeResultArea(e,t){const r=t.findLayerById(H);if(r&&V(r)){const i=this._findGraphicsByTraceId(e,t);return i&&r.removeMany(i),i}return null}removeAllResultAreaGraphics(e){if(e){const t=e.findLayerById(H);t&&V(t)&&t.removeAll()}}createGraphicLayer(e,t){const r=e.findLayerById(H);if(r&&V(r))return r;const i=new g.default({title:t??H,listMode:"hide",id:H});return e.add(i),i}_findGraphicsByTraceId(e,t){const r=t.findLayerById(H);if(r&&V(r)){const t=r.graphics.filter((t=>t.attributes.traceId===e));return t.length>0?t.toArray():null}return null}}function B(e){return"feature"===e.type}function j(e,t){return e.url.includes(t)}function U(e,t){return(e.dataElement?.domainNetworks||[]).some((e=>e.subnetworkLayerId===t.layerId))}class D{getValidUtilityNetworkLayers(e,t){const r=[];return e?.allLayers.forEach((e=>{"group"===e.type?r.push(...e.layers.filter(w.yZ).filter((e=>B(e)&&t.isUtilityLayer(e)&&!U(t,e))).filter((e=>j(e,t.featureServiceUrl))).toArray()):"subtype-group"===e.type?r.push(...e.sublayers.filter((e=>j(e,t.featureServiceUrl))).toArray()):(0,w.yZ)(e)&&B(e)&&t.isUtilityLayer(e)&&!U(t,e)&&j(e,t.featureServiceUrl)&&r.push(e)})),r}}const z=`utility-network-trace-flags-${Date.now()}`,q=`utility-network-trace-results-${Date.now()}`,W=`utility-network-trace-sketch-${Date.now()}`;function J(e){return void 0!==e.layerViews}function $(e){return"feature"===e.type||"subtype-group"===e.type||"group"===e.type}let K=class extends o.A.EventedAccessor{constructor(e){super(e),this._activeProgress=!1,this._clickHandler=null,this._flags=[],this._flagId=0,this._geometryHandler=null,this._highlightHandler=[],this._resultAreaHandler=null,this._sketchViewModel=null,this._traceTimeout=6e5,this._utilityHelper=new D,this._validUNLayers=[],this._watchHandler=null,this.traces=[],this.graphicHandler=null,this.defaultGraphicColor={color:[255,255,0,.6],haloOpacity:.9,fillOpacity:.2,hex:"#FFFF00"},this.enableResultArea=!1,this.flags=[],this.gdbVersion="sde.DEFAULT",this.messages=null,this.messagesUnits=null,this.defaultResultAreaProperties={type:"convexhull",distance:10,unit:"meters",areaUnit:"square-meters",color:{color:[255,165,0,.5],haloOpacity:.9,fillOpacity:.2,hex:"#ffa500"},show:!1},this.selectedTraces=[],this.selectOnComplete=!0,this.showGraphicsOnComplete=!0,this.showSelectionAttributes=!0,this.traceResults=[],this.utilityNetwork=null}initialize(){(0,s.eO)(c.A.getLogger(this),"gdbVersion will be removed and the gdbVersion of the UtilityNetwork will be consumed directly.",{replacement:"UtilityNetwork.gdbVersion",version:"4.31"}),this._geometryHandler=new k,this.graphicHandler=new F.pC,this._resultAreaHandler=new C,(async()=>{const[e,t]=await Promise.all([(0,f.ud)("esri/widgets/UtilityNetworkTrace/t9n/UtilityNetworkTrace"),(0,f.ud)("esri/core/t9n/Units")]);this.set({messages:e,messagesUnits:t})})()}destroy(){this.view=null}get resultAreaProperties(){return this.defaultResultAreaProperties}set resultAreaProperties(e){this._set("resultAreaProperties",{...this.defaultResultAreaProperties,...e}),this.graphicHandler.addCustomColor(this.resultAreaProperties.color),this.traceResults.forEach((t=>{const r=t.resultArea?.show;t.resultArea={...this.defaultResultAreaProperties,...e},this.removeResultAreaFromMap(t),this.enableResultArea&&this.createResultAreaGraphic(t).then((i=>{if(i){t.resultAreaGraphic=i;const n=e?.show??r;t.resultArea&&(t.resultArea.show=n),n&&this.addResultAreaToMap(t,i)}}))}))}get state(){return this.view?.ready?"ready":"loading"}get view(){return this._get("view")}set view(e){e&&"2d"!==e.type&&c.A.getLogger(this).error(new l.default("view:invalid-view","SceneView is not supported",{view:e})),this._set("view",e),this.utilityNetwork&&this.reset(),this.utilityNetwork=null,this.loadUtilityNetwork().then((e=>{e&&this.selectTracesOnLoad()}))}addFlagByHit(e,t){const r=!!this.view&&this.view.popupEnabled,i=e=>{this.view?.popup&&(this.view.popupEnabled=e)};return new Promise(((n,a)=>{r&&i(!1),this._clickHandler?.remove(),this._clickHandler=this._sketchViewModel.on("create",(s=>{if("complete"===s.state){const l=this._getGraphicLayer(W);l&&s.graphic&&l.remove(s.graphic),this.queryFlagByHitTest(s,e,t).then((r=>{this.emit("add-flag-complete",{type:e,symbol:t}),n(r)})).catch((r=>{this.emit("add-flag-error",{type:e,symbol:t}),a(r)})).finally((()=>{r&&i(!0),this._clickHandler?.remove()}))}})),this._sketchViewModel.create("point"),this.emit("add-flag",{type:e})}))}addNonspatialTraceLocation(e,t){const r=this._getDisplayField(e),i=this.utilityNetwork?.getTerminalConfiguration(e),n={terminalId:null,isFilterBarrier:!1,allTerminals:i,selectedTerminals:[i?i.terminals[0].id||null:1],displayValue:r};e.attributes={...e.attributes,...n};const a=e.attributes.hasOwnProperty("GLOBALID")?e.attributes.GLOBALID:e.attributes.globalid;if(!this._flags.some((e=>e.globalId===a&&e.type===t))){const r=this._createFlagProperty(e,t,null);this._flags.push(r),this.emit("add-flag-complete",{type:t})}this.emit("add-flag",{type:t})}async addFlagsOnLoad(){return this._flags.length>0?[]:(await(0,u.whenOnce)((()=>null!=this.view&&!this.view.updating)),(await Promise.all(this.flags.map((async e=>{if(!e.mapPoint)return null;const{type:t}=e,r=e.mapPoint.clone(),i="barrier"===t?F.XU:F.KM,n={graphic:this.graphicHandler.makeGraphic(r,i),state:"complete",tool:"point",toolEventInfo:null,type:"create"};try{return await this.queryFlagByHitTest(n,e.type,null),this.emit("add-flag-complete",{type:t}),null}catch(U){return this.emit("add-flag-error",{type:t}),"barrier"===t?"barrier":"starting-point"}})))).filter((e=>!e)))}async addResultAreaToMap(e,t){if(this.view)if(e.resultArea.show=!0,t)this._resultAreaHandler?.addResultAreaToMap(t,this.view.map),this.emit("add-result-area",{graphic:t});else if(e.results){const t=await this.createResultAreaGraphic(e);t&&(e.resultAreaGraphic=t,this._resultAreaHandler?.addResultAreaToMap(t,this.view.map),this.emit("add-result-area",{graphic:t}))}}async addResultGraphicToView(e,t){const{view:r}=this,{results:i}=e;if(r&&i&&this.utilityNetwork)for(const n in i.aggregatedGeometry)if("line,multipoint,polygon".includes(n)){const a=n,s=i.aggregatedGeometry[a];if(null!=s){s.spatialReference=this.utilityNetwork.spatialReference,e.graphicEnabled=!0;const i=await this._geometryHandler.projectGeometry(s,r.spatialReference),n={globalid:e.trace.globalId};if(null!==i){const e=this.graphicHandler.makeGraphic(i,t.color,n,r.spatialReference);this._getGraphicLayer(q)?.add(e)}}}}addTerminal(e,t){const r=[...this._flags];r.forEach((r=>{r.globalId===t.globalId&&(t.selectedTerminals?.includes(parseInt(e,10))||r.selectedTerminals?.push(parseInt(e,10)))})),this._flags=r}async callTrace(){const e=this.traces.filter((e=>e.selected));return!!e.length&&(this.traceResults.length>0&&this.traceResults.forEach((e=>{this.removeResultGraphicFromView(e)})),this.traceResults=[],this.removeSelection(),await Promise.all(e.map((async(e,t)=>{const r=e,i=new G.default({gdbVersion:this.utilityNetwork?.gdbVersion,moment:this.utilityNetwork?.historicMoment,namedTraceConfigurationGlobalId:r.globalId,outSpatialReference:null,resultTypes:null,traceType:r.traceType,traceLocations:this._flags,traceConfiguration:null});await this.executeTrace(r,this.utilityNetwork?.networkServiceUrl,i).then((e=>{if(e.hasOwnProperty("results")){const r={...e};if(null!==r.results){r.resultArea={...this.resultAreaProperties};const e=[...r.results.elements];r.results.elements.length=0;const i=new Map;for(const t of e)i.has(t.globalId)||(i.set(t.globalId,!0),r.results.elements.push(t));const n=[...this.traceResults];n.splice(t,0,r),this.traceResults=n,null!==r.results&&(this.selectOnComplete&&this.mergeSelection(!0,r.trace),this.showGraphicsOnComplete&&this.addResultGraphicToView(r,r.graphicColor),this.enableResultArea&&this.createResultAreaGraphic(r).then((e=>{e&&(r.resultAreaGraphic=e,r.resultArea?.show&&this.addResultAreaToMap(r,r.resultAreaGraphic))})))}else{const r=[...this.traceResults];r.splice(t,0,e),this.traceResults=r}this._activeProgress=!1}else{this._activeProgress=!1;const r=[...this.traceResults];r.splice(t,0,e),this.traceResults=r}})).catch((e=>{throw this._activeProgress=!1,e}))}))),!0)}changeResultAreaColor(e,t){if(!e.resultArea)return;e.resultArea.color=t;const r=this._resultAreaHandler?.changeResultAreaColor(e.trace.globalId,t,this.view.map);e.resultAreaGraphic&&(e.resultAreaGraphic.symbol=r)}changeResultGraphicColor(e,t){const r=[...this.traceResults];r.length>0&&r.forEach((r=>{r.trace.globalId===t.trace.globalId&&(r.graphicColor=e,r.graphicEnabled=!0)})),this.traceResults=r,this.removeResultGraphicFromView(t),this.addResultGraphicToView(t,e)}changeFlagSymbol(e,t){this._flags.length>0&&this._flags.forEach((r=>{r.type===e&&t&&r.mapGraphic&&(r.mapGraphic.symbol=t)}))}checkCanTrace(){const e={status:!0,issues:[]},t=this.traces.filter((e=>e.selected));return t.length||(e.status=!1,e.issues.push("noTracesSelected")),this._flags.some((e=>"starting-point"===e.type))||(e.status=!1,e.issues.push("noStartingPoints")),this._flags.filter((e=>null!==e.allTerminals)).some((e=>!e.selectedTerminals.length))&&(e.status=!1,e.issues.push("noTerminalSelected")),e}checkSelectionExist(){return this._highlightHandler.some((e=>e))}clearResult(e){if(!this.view)return;let t=this.traceResults;if(t.length>0){const r=t.filter((t=>t.trace.globalId===e.globalId));r.length>0&&(this.removeResultGraphicFromView(r[0]),this.removeResultAreaFromMap(r[0])),t=t.filter((t=>t.trace.globalId!==e.globalId))}this.traceResults=t,0===t.length?(this.removeAllResultAreaGraphics(),this.removeSelection(),this.emit("clear-selection",{resultSet:[]})):this.mergeSelection(!1,e)}createResultAreaGeometries(e,t,r){if(!this.view||!this.resultAreaProperties)return;let i;if(i="convexhull"===this.resultAreaProperties?.type?1===t.length&&((0,p.isPoint)(t[0])||(0,p.isMultipoint)(t[0])&&1===t[0].points.length)?this._resultAreaHandler?.createBuffer(t,r,e.resultArea?.unit,!0):this._resultAreaHandler?.createConvexHull(t,e.resultArea?.distance,e.resultArea?.unit):this._resultAreaHandler?.createBuffer(t,r,e.resultArea?.unit,!0),!i)return;if(Array.isArray(i)){for(const t of i){const r=this.getResultAreaAttributes(e,t),i=this._resultAreaHandler?.createResultAreaGraphic(t,r,e.resultArea?.areaUnit,this.messages,this.messagesUnits,e.resultArea?.color);if(i)return i}return}const n=this.getResultAreaAttributes(e,i);return this._resultAreaHandler?.createResultAreaGraphic(i,n,e.resultArea?.areaUnit,this.messages,this.messagesUnits,e.resultArea?.color)}async createResultAreaGraphic(e){if(e.results){const t=await this._createResultAreaInputGeometry(e.results);if(t.length>0){const r=Array(t.length).fill(e.resultArea?.distance),i=this.createResultAreaGeometries(e,t,r);return this.emit("create-result-area",{graphic:i}),i}}}executeTrace(e,t,r){const i=this._processFlags(r.traceLocations);return r.traceLocations=i,(0,R.trace)(t,r,{timeout:this._traceTimeout}).then((t=>({trace:e,results:t,selectionEnabled:!1,graphicEnabled:!1,graphicColor:this.defaultGraphicColor,status:"success",date:new Date}))).catch((t=>({trace:e,results:null,selectionEnabled:!1,graphicEnabled:!1,graphicColor:this.defaultGraphicColor,status:t.message,date:new Date})))}async getNonspatialTraceLocationInitialFeature(){return new Promise(((e,t)=>{this._clickHandler?.remove(),this._clickHandler=this._sketchViewModel.on("create",(async r=>{if("complete"!==r.state)return;const i=this._getGraphicLayer(W);i&&r.graphic&&i.remove(r.graphic);const n=this.view?.toScreen(r.graphic?.geometry);if(!n)return;const a=await(this.view?.hitTest(n));if(a?.results.length){const r=a.results.find((e=>"graphic"===e.type&&this.utilityNetwork?.isUtilityLayer(e.layer)));r?e(r):t(null)}})),this._sketchViewModel.create("point")}))}getResultAreaAttributes(e,t){const{messages:r}=this,i=[],a=[];this._flags.forEach((e=>{const t=e.displayValue?.field+":"+e.displayValue?.value+";"+r.attributeStrings.globalid+":"+e.globalId+";"+r.attributeStrings.terminalid+":"+e.terminalId+";"+r.attributeStrings.x+":"+e.mapPoint?.x+";"+r.attributeStrings.y+":"+e.mapPoint?.y;"starting-point"===e.type?i.push(t):a.push(t)}));const s=this.utilityNetwork?this.utilityNetwork.gdbVersion:this.gdbVersion;return{traceId:e.trace.globalId,traceName:e.trace.title,traceDescription:e.trace.description??"",startingPoints:i.toString(),barriers:a.toString(),version:s??void 0,username:n.id.credentials[0].userId,date:e.date,elementCount:e.results?.elements.length,functionResult:JSON.stringify(e.results?.globalFunctionResults),areaStatistic:t?this._geometryHandler.calculateArea(t,e.resultArea?.areaUnit):0}}getValidSources(){let e=[];const t=this.utilityNetwork?.dataElement?.domainNetworks??[];for(const r of t)e=e.concat(r.junctionSources),e=e.concat(r.edgeSources);return e}groupResultsByNetworkSource(e){return 0===e.length?[]:this._groupBy(e,"networkSourceId")}async loadUtilityNetwork(){const{view:e}=this;if(!e)return null;if(await e.when(),this.utilityNetwork){if(this.utilityNetwork.loaded||await this.utilityNetwork.load(),this.utilityNetwork instanceof v.default){try{const t=e.map;await t.loadAll()}finally{this._loadUNSupportItems()}return this.utilityNetwork}return null}const t=e.map,r=t.utilityNetworks?.at(0);if(r){if(await r.load(),this.utilityNetwork=r,!await async function(e){const t=new y.default({url:e.networkSystemLayers.dirtyAreasLayerUrl});await t.load();const r=t.version;if(Number(r)<=11.1){const t=await(0,w.wI)(e.layerUrl),r=new _.default({url:t});await r.load();const i=r?.user?.username;return!!i&&(0,A.RE)(r,i,"utilityNetwork")}return!0}(r))throw new l.default("utility-network:no-user-type-extension","User type extension not found");try{await t.loadAll()}finally{this._loadUNSupportItems()}return r}return null}manageFilterBarrier(e,t){const r=[...this._flags];r.forEach((r=>{r.globalId===t.globalId&&"barrier"===t.type&&r.id===t.id&&(r.isFilterBarrier=e)})),this._flags=r}mergeSelection(e,t){let r=[];const i=[...this.traceResults],n=t.globalId;i.forEach((t=>{n===t.trace.globalId&&(t.selectionEnabled=e),t.selectionEnabled&&null!==t.results?.elements&&(r=[...r,...t.results?.elements??[]])})),this.selectResults([...new Set(r)])}async queryFeaturesById(e){const{view:t}=this;if(!t||!this.utilityNetwork)return null;const r=this.utilityNetwork.getObjectIdsFromElements(e),i={layerUrl:r[0].layerUrl,objectIds:r[0].objectIds,outFields:["*"]},n=t.map?.allTables.toArray().filter((e=>e?.parsedUrl?.path===r[0].layerUrl)).filter(w.yZ)??[];this._getUniqueMapLayerViews(t).filter((e=>{let{layer:t}=e;return t?.parsedUrl?.path===r[0].layerUrl})).forEach((e=>{let{layer:t}=e;"feature"!==t.type&&"subtype-group"!==t.type||n.push(t)}));const s=(await Promise.all(n.map((async e=>{const r={layers:new a.default([e]),layerInfos:[i],returnGeometry:!0,outSpatialReference:t.spatialReference},[n]=await(0,b.s)(r,!1);return n})))).filter((e=>{let{featureSet:t}=e;return t.features.length>0}));return s.length>0?s:null}queryFlagByHitTest(e,t,r){return this._lookupFlagByHit(e).then((e=>{const{view:i}=this;if(!i)return!1;if(e.length>0){const i=[...this._flags],n=r;return e.forEach((e=>{const r=e.graphic,a=r.attributes.hasOwnProperty("GLOBALID")?r.attributes.GLOBALID:r.attributes.globalid;if(i.filter((e=>e.globalId===a)).length<=0){const e=this.graphicHandler.getFlagGraphic(r.attributes.mapPoint,t,r,n);this._getGraphicLayer(z)?.add(e);const a=this._createFlagProperty(r,t,e);i.push(a)}else if(null!==r.attributes.percentAlong){const e=this.graphicHandler.getFlagGraphic(r.attributes.mapPoint,t,r,n);this._getGraphicLayer(z)?.add(e);const a=this._createFlagProperty(r,t,e);i.push(a)}})),this._flags=i,!0}return!1}))}removeResultGraphicFromView(e){const{view:t}=this;if(!t)return;const r=this._getGraphicLayer(q)?.graphics;e.graphicEnabled=!1;const i=r?.filter((t=>t.attributes[t.attributes.hasOwnProperty("GLOBALID")?"GLOBALID":"globalid"]===e.trace.globalId));i?.forEach((e=>{this._getGraphicLayer(q)?.remove(e)}))}removeFlag(e){const t=this._flags.filter((t=>{if(t.id!==e.id)return t}));this._removeGraphic(e),this._flags=t}removeAllResultAreaGraphics(){this._resultAreaHandler?.removeAllResultAreaGraphics(this.view.map)}removeResultAreaFromMap(e){if(e.resultArea){e.resultArea.show=!1;const t=this._resultAreaHandler?.removeResultArea(e.trace.globalId,this.view?.map);t&&this.emit("remove-result-area",{graphic:t})}}removeSelection(){this._highlightHandler.forEach((e=>{e&&e.remove()})),this._highlightHandler=[]}removeTerminal(e,t){const r=[...this._flags];r.forEach((r=>{if(r.globalId===t.globalId&&t.selectedTerminals?.includes(parseInt(e,10))){const i=t.selectedTerminals.indexOf(parseInt(e,10));r.selectedTerminals?.splice(i,1)}})),this._flags=r}removeFlagsOnLoadWatcher(){this._watchHandler&&null!==this._watchHandler&&this._watchHandler.remove()}removeClickHandler(){this._clickHandler&&(this._sketchViewModel.cancel(),this._clickHandler.remove())}reset(){this._flags=[],this.traceResults=[];const e=[...this.traces];e.forEach((e=>{e.selected=!1})),this.traces=e,this.view&&(this._getGraphicLayer(W)?.removeAll(),this._getGraphicLayer(z)?.removeAll(),this._getGraphicLayer(q)?.removeAll(),this.removeAllResultAreaGraphics(),this.removeSelection(),this.emit("clear-selection",{resultSet:[]}),this.emit("reset"))}selectFeaturesById(e){const{view:t}=this;if(!t||!this.utilityNetwork)return;const r=this.utilityNetwork.getObjectIdsFromElements(e);this._getUniqueMapLayerViews(t).forEach((e=>{(function(e){return"layer"in e})(e)&&e.layer?.parsedUrl?.path===r[0].layerUrl&&function(e){return"feature"===e.layer.type||"subtype-group"===e.layer.type}(e)&&this._highlightHandler.push(e.highlight(r[0].objectIds))}))}selectResults(e){if(e.length>0){this.removeSelection();const t=this.groupResultsByNetworkSource(e),r=[];for(const e in t)this.selectFeaturesById(t[e]),r.push(this.queryFeaturesById(t[e]));Promise.all(r).then((e=>{this.emit("select-features",{resultSet:e})}))}else this.removeSelection(),this.emit("clear-selection",{resultSet:[]})}selectTraces(e,t){const r=[...this.traces];r.forEach((r=>{t===r.globalId&&(r.selected=e)})),this.traces=r}selectTracesOnLoad(){this.utilityNetwork?.hasOwnProperty("sharedNamedTraceConfigurations")&&(this.traces=[...this.utilityNetwork.sharedNamedTraceConfigurations],this.traces.forEach((e=>{e.selected=!1,this.selectedTraces.includes(e.globalId)&&(e.selected=!0)})))}zoomToAsset(e){this.view?.goTo(e).catch((e=>console.error(e)))}async _createResultAreaInputGeometry(e){if(null!=e.aggregatedGeometry)return this._geometryHandler.mergeAggregatedToGeometries(e.aggregatedGeometry);const t=this.groupResultsByNetworkSource(e.elements),r=[];for(const i in t)r.push(this.queryFeaturesById(t[i]));try{const e=await Promise.all(r),t=[];for(const r of e)if(r)for(const e of r)for(const r of e.featureSet.features)r.geometry&&t.push(r.geometry);return t}catch{return[]}}_loadUNSupportItems(){if(!this.utilityNetwork)return;const{map:e}=this.view,{messages:t}=this;this._populateOutfields(),this._createGraphicLayer(W),this._createGraphicLayer(z),this._createGraphicLayer(q),this._resultAreaHandler?.createGraphicLayer(e,t?.alertsStrings.genericResultHeader),this._validUNLayers=this._utilityHelper.getValidUtilityNetworkLayers(e,this.utilityNetwork),this._sketchViewModel=this.graphicHandler.initializeSketch(this.view,this._getGraphicLayer(W),this._validUNLayers)}_getUniqueMapLayerViews(e){const t=[],r=e.layerViews.filter((e=>{let{layer:{type:t}}=e;return"feature"===t||"group"===t||"subtype-group"===t})).toArray(),i=e=>{for(const r of e.layerViews)J(r)?i(r):t.push(r)};return r.forEach((e=>{switch(e.layer.type){case"group":J(e)&&i(e);break;case"subtype-group":t.push(e);break;default:t.some((t=>t.layer.id===e.layer.id))||t.push(e)}})),t}_processFlags(e){const t=[];return e.forEach((e=>{if(null!==e.selectedTerminals&&e.selectedTerminals.length>0)e.selectedTerminals.forEach((r=>{const i=new S.default({globalId:e.globalId,percentAlong:e.percentAlong,terminalId:r,type:e.type,isFilterBarrier:e.isFilterBarrier});t.push(i)}));else{const r=new S.default({globalId:e.globalId,percentAlong:e.percentAlong,type:e.type,isFilterBarrier:e.isFilterBarrier});t.push(r)}})),t}_getDisplayField(e){return"subtype-sublayer"===e?.layer?.type?this._getDisplayFieldBySublayer(e):this._getDisplayFieldByFeatureLayer(e)}_getDisplayFieldBySublayer(e){let t="",r="";const i=e.layer;t=this._checkParentForData(i,"displayField");for(const n in e.attributes){const a=n.toLowerCase();a===t?.toLowerCase()?(r=e.attributes[n],"assetgroup"===a||"assettype"===a?r=this._checkSubtype(i,i.subtypeCode):(r=this._checkDomain(i.fields,n,r),"string"==typeof r&&(r=this._defaultDisplayField(r,i)))):(r=this._checkDomain(i.fields,n,r),"string"==typeof r&&(r=this._defaultDisplayField(r,i)))}return{field:t,value:r.toString()}}_getDisplayFieldByFeatureLayer(e){const t=e.layer;let r=t.displayField,i="";for(const n in e.attributes){const a=n.toLowerCase();if(a===r?.toLowerCase())if(i=e.attributes[n],"assetgroup"===a||"assettype"===a){let a=e.attributes[t.typeIdField.toUpperCase()];a||(a=e.attributes[t.typeIdField.toLowerCase()]),r=t.typeIdField,i=this._checkSubtype(t,a),""===r&&(t.templates&&t.templates.length>0?(r=t.templates[0]?.name,i=t.templates[0]?.name):(r=t.displayField,i=e.attributes[n]))}else i=this._checkDomain(t.fields,n,i),"string"==typeof i&&(i=this._defaultDisplayField(i,t));else i=this._checkDomain(t.fields,n,i),"string"==typeof i&&(i=this._defaultDisplayField(i,t))}return{field:r,value:i?i.toString():""}}_checkSubtype(e,t){let r=t;if("subtype-sublayer"===e.type){const i=this._checkParentForData(e,"subtypes");i?.length>0&&i.forEach((e=>{e.code===t&&(r=e.name)}))}else if(null!=e.types&&e.types.length>0){const i=e.types.filter((e=>e.id===t));i.length>0&&(r=i[0].name)}return r}_checkDomain(e,t,r){let i=r;const n=e.filter((e=>e.name.toLowerCase()===t.toLowerCase()));if(n.length>0&&function(e){return e instanceof m.default}(n[0].domain)&&n[0].domain?.codedValues){const e=n[0].domain.codedValues.filter((e=>{let{code:t}=e;return t===r}));e.length>0&&(i=e[0].name)}return i}_checkParentForData(e,t){return e.parent?.[t]??null}_defaultDisplayField(e,t){return e.trim()?e:t.templates&&t.templates?.length>0?t.templates[0].name:t.title}get _uniqueFlagId(){return this._flagId++}_groupBy(e,t){return e.reduce(((e,r)=>((e[r[t]]=e[r[t]]||[]).push(r),e)),{})}async _lookupFlagByHit(e){const t=e.graphic?.geometry,r=[];if(t&&(0,p.isPoint)(t)&&this.view){const i=this.view.toScreen(t);if(i){const t=await this.view.hitTest(i,{include:this._validUNLayers});if(t?.results.length){const i=t.results.find((e=>null!==e.layer));if(i.graphic?.geometry)if("polyline"===i.graphic.geometry.type){const t={terminalId:null,isFilterBarrier:!1,allTerminals:null,selectedTerminals:null,percentAlong:this._geometryHandler.getPercentageAlong(i.graphic.geometry,e.graphic?.geometry,i.graphic.geometry.spatialReference),displayValue:this._getDisplayField(i.graphic),mapPoint:i.mapPoint};i.graphic.attributes={...i.graphic.attributes,...t},r.push(i)}else if(("point"===i.graphic.geometry.type||"polygon"===i.graphic.geometry.type)&&this.utilityNetwork){const e=this.utilityNetwork.getTerminalConfiguration(i.graphic),t=this._getDisplayField(i.graphic),n={terminalId:e?e.terminals[0].id||null:1,isFilterBarrier:!1,allTerminals:e??null,selectedTerminals:[e?e.terminals[0].id||null:1],percentAlong:null,displayValue:t,mapPoint:i.mapPoint};i.graphic.attributes={...i.graphic.attributes,...n},r.push(i)}}}}return r}_createFlagProperty(e,t,r){const i=new S.default;i.terminalId=e.attributes.terminalId,i.isFilterBarrier=e.attributes.isFilterBarrier,i.percentAlong=e.attributes.percentAlong,i.globalId=e.attributes.globalid||e.attributes.GLOBALID,i.type=t;const n=i;return n.details=e,n.mapGraphic=r,n.id=this._uniqueFlagId,n.allTerminals=e.attributes.allTerminals,n.selectedTerminals=e.attributes.selectedTerminals,n.displayValue=e.attributes.displayValue,n.mapPoint=e.attributes.mapPoint,n}async _populateOutfields(){if(!this.view)return;const{map:e}=this.view,t=this.getValidSources(),r=e=>{"group"===e.type?e.layers.forEach((e=>{$(e)&&r(e)})):t.some((t=>t.layerId===e.layerId))&&e.fields.some((e=>"assetgroup"===e.name.toLowerCase()))&&(e.outFields=["assetgroup","assettype","globalid","objectid"])};for(const i of e.layers)$(i)&&r(i)}_removeGraphic(e){this._getGraphicLayer(z)?.remove(e.mapGraphic)}_createGraphicLayer(e){const{map:t}=this.view;if(!t.findLayerById(e)){const t=new g.default({id:e,internal:!0,listMode:"hide",title:e});(0,L.Y)(this.view,t)}}_getGraphicLayer(e){const{map:t}=this.view;if(t){const r=t.findLayerById(e);if(r&&function(e){return"graphics"===e.type}(r))return r}return null}};(0,i._)([(0,h.MZ)()],K.prototype,"_activeProgress",void 0),(0,i._)([(0,h.MZ)()],K.prototype,"_flags",void 0),(0,i._)([(0,h.MZ)()],K.prototype,"traces",void 0),(0,i._)([(0,h.MZ)()],K.prototype,"defaultGraphicColor",void 0),(0,i._)([(0,h.MZ)()],K.prototype,"enableResultArea",void 0),(0,i._)([(0,h.MZ)()],K.prototype,"flags",void 0),(0,i._)([(0,h.MZ)()],K.prototype,"gdbVersion",void 0),(0,i._)([(0,h.MZ)()],K.prototype,"messages",void 0),(0,i._)([(0,h.MZ)()],K.prototype,"messagesUnits",void 0),(0,i._)([(0,h.MZ)()],K.prototype,"resultAreaProperties",null),(0,i._)([(0,h.MZ)()],K.prototype,"selectedTraces",void 0),(0,i._)([(0,h.MZ)()],K.prototype,"selectOnComplete",void 0),(0,i._)([(0,h.MZ)()],K.prototype,"showGraphicsOnComplete",void 0),(0,i._)([(0,h.MZ)()],K.prototype,"showSelectionAttributes",void 0),(0,i._)([(0,h.MZ)({readOnly:!0})],K.prototype,"state",null),(0,i._)([(0,h.MZ)()],K.prototype,"traceResults",void 0),(0,i._)([(0,h.MZ)()],K.prototype,"utilityNetwork",void 0),(0,i._)([(0,h.MZ)({value:null})],K.prototype,"view",null),K=(0,i._)([(0,d.$)("esri.widgets.UtilityNetworkTrace.UtilityNetworkTraceViewModel")],K);const Y=K},85022:(e,t,r)=>{r.r(t),r.d(t,{hydratedAdapter:()=>o});var i=r(12560),n=r(76493),a=r(75400),s=r(65920),l=r(54824);const o={convertToGEGeometry:function(e,t){if(null==t)return null;let r="cache"in t?t.cache._geVersion:void 0;return null==r&&(r=e.convertJSONToGeometry(t),"cache"in t&&(t.cache._geVersion=r)),r},exportPoint:function(e,t,r){const i=e.hasZ(t),n=e.hasM(t),s=new a.default({x:e.getPointX(t),y:e.getPointY(t),spatialReference:r});return i&&(s.z=e.getPointZ(t)),n&&(s.m=e.getPointM(t)),s.cache._geVersion=t,s},exportPolygon:function(e,t,r){const i=new s.default({rings:e.exportPaths(t),hasZ:e.hasZ(t),hasM:e.hasM(t),spatialReference:r});return i.cache._geVersion=t,i},exportPolyline:function(e,t,r){const i=new l.default({paths:e.exportPaths(t),hasZ:e.hasZ(t),hasM:e.hasM(t),spatialReference:r});return i.cache._geVersion=t,i},exportMultipoint:function(e,t,r){const i=new n.default({hasZ:e.hasZ(t),hasM:e.hasM(t),points:e.exportPoints(t),spatialReference:r});return i.cache._geVersion=t,i},exportExtent:function(e,t,r){const n=e.hasZ(t),a=e.hasM(t),s=new i.default({xmin:e.getXMin(t),ymin:e.getYMin(t),xmax:e.getXMax(t),ymax:e.getYMax(t),spatialReference:r});if(n){const r=e.getZExtent(t);s.zmin=r.vmin,s.zmax=r.vmax}if(a){const r=e.getMExtent(t);s.mmin=r.vmin,s.mmax=r.vmax}return s.cache._geVersion=t,s}}},95095:(e,t,r)=>{r.d(t,{$h:()=>y,Ef:()=>S,IP:()=>m,P1:()=>_,hF:()=>R,jQ:()=>b,rT:()=>A,rZ:()=>i,uR:()=>w});var i,n,a=r(5839),s=r(92143),l=r(84190),o=r(32006),c=r(98080),u=r(89227),h=r(28473),d=r(18162),p=r(26266),f=r(70576);function y(e,t){if(null==e||null==t)return;const r=g(e,t);return null!=r?(0,s.Wq)(r,"radians","geographic"):void 0}(n=i||(i={})).Absolute="absolute",n.Relative="relative",n.RelativeBilateral="relative-bilateral";const g=(()=>{const e=(0,h.vt)(),t=(0,h.vt)();return(r,i)=>((0,u.i)(e,r.x,r.y,r.z??0),(0,u.i)(t,i.x,i.y,i.z??0),m(e,t,r.spatialReference,i.spatialReference))})(),m=(()=>{const e=(0,c.vt)(),t=(0,h.vt)(),r=(0,h.vt)();return(i,n,a,s)=>{if((0,u.p)(i,n))return;const h=(0,p.geodesicCompatibleSpatialReference)(a),y=(0,p.geodesicCompatibleSpatialReference)(s);if(h&&y&&(0,f.aI)(h,y)&&(0,d.F)(i,a,t,h)&&(0,d.F)(n,s,r,y)){const{azimuth:e}=(0,p.inverseGeodeticSolver)(L,t,r,h);return null!=e?(0,l.oU)(e,"degrees","radians"):void 0}e[0]=n[0]-i[0],e[1]=n[1]-i[1];let g=(0,o.g7)(c.JP,e);return e[0]<0&&(g=T-g),g}})();function w(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.Absolute;if(t&&r)switch(n){case i.Absolute:return y(t,r);case i.Relative:return b(v(e,t,r),i.Relative);case i.RelativeBilateral:return b(v(e,t,r),i.RelativeBilateral)}}function v(e,t,r){if(!e||!t||!r)return;const i=g(e,t),n=g(t,r);return null!=i&&null!=n?(0,s.Wq)(n-i,"radians","geographic"):void 0}function b(e,t){if(null!=e)switch(t){case i.Absolute:return _(e);case i.Relative:{const t=R(e);let r=N.normalize(t,0,!0);return-180===r&&(r=180),(0,s.Wq)(r,"degrees","geographic")}case i.RelativeBilateral:{const t=R(e),r=Math.abs(N.normalize(t,0,!0));return(0,s.Wq)(r,"degrees","geographic")}}}function _(e){const t=R(e),r=x.normalize(t,0,!0);return(0,s.Wq)(r,"degrees","geographic")}const A=(()=>{const e=(0,h.vt)();return function(t,r,i,n,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"geodesic";(0,u.c)(e,r);const c=R(a);if("geodesic"===o){const a=(0,p.geodesicCompatibleSpatialReference)(i);if(a&&(0,d.F)(e,i,e,a))return(0,p.directGeodeticSolver)(t,e,c,n,a),t[2]=r[2],!!(0,d.F)(t,a,t,i)}const h=(0,s.g2)(c,"geographic","arithmetic"),f=(0,l.oU)(h,"degrees","radians"),y=r[0]+n*Math.cos(f),g=r[1]+n*Math.sin(f),m=r[2];return(0,u.i)(t,y,g,m),!0}})();function R(e){if(null!=e)return(0,s.g2)(G(e),e.rotationType,"geographic")}function S(e){if(null!=e)return(0,s.g2)(G(e),e.rotationType,"arithmetic")}function G(e){return(0,l.oU)(e.value,e.unit,"degrees")}const L=new p.InverseGeodeticSolverResult,T=2*Math.PI,x=a.ie,N=new a.hr(-180,180)},96872:(e,t,r)=>{r.r(t),r.d(t,{default:()=>u});var i=r(93800),n=r(42761),a=r(19455),s=r(48602),l=(r(21265),r(50925),r(14746),r(75269));const o=new n.J({startingPoint:"starting-point",barrier:"barrier"});let c=class extends a.A{constructor(e){super(e),this.globalId=null,this.isFilterBarrier=!1,this.percentAlong=null,this.terminalId=null,this.type=null}};(0,i._)([(0,s.MZ)({type:String,json:{write:!0}})],c.prototype,"globalId",void 0),(0,i._)([(0,s.MZ)({type:Boolean,json:{write:!0}})],c.prototype,"isFilterBarrier",void 0),(0,i._)([(0,s.MZ)({type:Number,json:{write:!0}})],c.prototype,"percentAlong",void 0),(0,i._)([(0,s.MZ)({type:Number,json:{write:!0}})],c.prototype,"terminalId",void 0),(0,i._)([(0,s.MZ)({type:o.apiValues,json:{type:o.jsonValues,read:{reader:o.read,source:"traceLocationType"},write:{writer:o.write,target:"traceLocationType"}}})],c.prototype,"type",void 0),c=(0,i._)([(0,l.$)("esri.rest.networks.support.TraceLocation")],c);const u=c}}]);