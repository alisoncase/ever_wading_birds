"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[14967,55928,93609],{769:(t,e,r)=>{r.d(e,{c:()=>s});var i=r(16878),n=r(22131);function s(t,e){e.hasVertexColors?(t.attributes.add(n.r.COLOR,"vec4"),t.varyings.add("vColor","vec4"),t.vertex.code.add(i.H`void forwardVertexColor() { vColor = color; }`),t.vertex.code.add(i.H`void forwardNormalizedVertexColor() { vColor = color * 0.003921568627451; }`)):t.vertex.code.add(i.H`void forwardVertexColor() {}
void forwardNormalizedVertexColor() {}`)}},4127:(t,e,r)=>{r.d(e,{EM:()=>y,dO:()=>p,em:()=>v});var i=r(13473),n=r(10382),s=r(28473),o=r(84025),a=r(31500),l=r(8815),c=r(57554),h=r(16878),d=r(91018),u=r(80203),f=r(94320),m=r(20783);function v(t,e){t.include(o.I);const r=t.vertex;r.include(a.u,e),t.varyings.add("vPositionWorldCameraRelative","vec3"),t.varyings.add("vPosition_view","vec3"),r.uniforms.add(new c.t("transformWorldFromViewTH",(t=>t.transformWorldFromViewTH)),new c.t("transformWorldFromViewTL",(t=>t.transformWorldFromViewTL)),new u.k("transformViewFromCameraRelativeRS",(t=>t.transformViewFromCameraRelativeRS)),new f.X("transformProjFromView",(t=>t.transformProjFromView)),new d.h("transformWorldFromModelRS",(t=>t.transformWorldFromModelRS)),new l.W("transformWorldFromModelTH",(t=>t.transformWorldFromModelTH)),new l.W("transformWorldFromModelTL",(t=>t.transformWorldFromModelTL))),r.code.add(h.H`vec3 positionWorldCameraRelative() {
vec3 rotatedModelPosition = transformWorldFromModelRS * positionModel();
vec3 transform_CameraRelativeFromModel = dpAdd(
transformWorldFromModelTL,
transformWorldFromModelTH,
-transformWorldFromViewTL,
-transformWorldFromViewTH
);
return transform_CameraRelativeFromModel + rotatedModelPosition;
}`),r.code.add(h.H`
    void forwardPosition(float fOffset) {
      vPositionWorldCameraRelative = positionWorldCameraRelative();
      if (fOffset != 0.0) {
        vPositionWorldCameraRelative += fOffset * ${e.spherical?h.H`normalize(transformWorldFromViewTL + vPositionWorldCameraRelative)`:h.H`vec3(0.0, 0.0, 1.0)`};
      }

      vPosition_view = transformViewFromCameraRelativeRS * vPositionWorldCameraRelative;
      gl_Position = transformProjFromView * vec4(vPosition_view, 1.0);
    }
  `),t.fragment.uniforms.add(new c.t("transformWorldFromViewTL",(t=>t.transformWorldFromViewTL))),r.code.add(h.H`vec3 positionWorld() {
return transformWorldFromViewTL + vPositionWorldCameraRelative;
}`),t.fragment.code.add(h.H`vec3 positionWorld() {
return transformWorldFromViewTL + vPositionWorldCameraRelative;
}`)}class p extends m.Y{constructor(){super(...arguments),this.transformWorldFromViewTH=(0,s.vt)(),this.transformWorldFromViewTL=(0,s.vt)(),this.transformViewFromCameraRelativeRS=(0,i.vt)(),this.transformProjFromView=(0,n.vt)()}}class y extends m.Y{constructor(){super(...arguments),this.transformWorldFromModelRS=(0,i.vt)(),this.transformWorldFromModelTH=(0,s.vt)(),this.transformWorldFromModelTL=(0,s.vt)()}}},8609:(t,e,r)=>{r.d(e,{G7:()=>M,TH:()=>v,hz:()=>g});var i=r(87752),n=r(10382),s=r(89227),o=r(28473),a=r(60548),l=r(24646),c=r(91102),h=r(51064),d=r(92453),u=r(15828),f=r(27464),m=r(64863);const v=1e-5;class p{constructor(t){this.options=new d.H6,this._results=new _,this.transform=new m.dg,this.tolerance=v,this.verticalOffset=null,this._ray=(0,c.vt)(),this._rayEnd=(0,o.vt)(),this._rayBeginTransformed=(0,o.vt)(),this._rayEndTransformed=(0,o.vt)(),this.viewingMode=t??h.RT.Global}get results(){return this._results}get ray(){return this._ray}get rayBegin(){return this._ray.origin}get rayEnd(){return this._rayEnd}reset(t,e,r){this.resetWithRay((0,c.Cr)(t,e,this._ray),r)}resetWithRay(t,e){this.camera=e,t!==this._ray&&(0,c.C)(t,this._ray),0!==this.options.verticalOffset?this.viewingMode===h.RT.Local?this._ray.origin[2]-=this.options.verticalOffset:this.verticalOffset=this.options.verticalOffset:this.verticalOffset=null,(0,s.g)(this._rayEnd,this._ray.origin,this._ray.direction),this._results.init(this._ray)}intersect(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0;this.point=e,this.filterPredicate=i,this.tolerance=r??v;const s=(0,m.ou)(this.verticalOffset);if(t&&t.length>0){const e=n?t=>{n(t)&&this.intersectObject(t)}:t=>{this.intersectObject(t)};for(const r of t){const t=r.getSpatialQueryAccelerator?.();null!=t?(null!=s?t.forEachAlongRayWithVerticalOffset(this._ray.origin,this._ray.direction,e,s):t.forEachAlongRay(this._ray.origin,this._ray.direction,e),this.options.selectionMode&&this.options.hud&&t.forEachDegenerateObject(e)):r.objects.forAll((t=>e(t)))}}this.sortResults()}intersectObject(t){const e=t.geometries;if(!e)return;const r=t.effectiveTransformation,i=(0,m.ou)(this.verticalOffset);for(const o of e){if(!o.visible)continue;const{material:e,id:a}=o;if(!e.visible)continue;this.transform.setAndInvalidateLazyTransforms(r,o.transformation),(0,s.t)(this._rayBeginTransformed,this.rayBegin,this.transform.inverse),(0,s.t)(this._rayEndTransformed,this.rayEnd,this.transform.inverse);const l=this.transform.transform;null!=i&&(i.objectTransform=this.transform),e.intersect(o,this.transform.transform,this,this._rayBeginTransformed,this._rayEndTransformed,((e,r,i,s,o,c)=>{if(e>=0){if(null!=this.filterPredicate&&!this.filterPredicate(this._ray.origin,this._rayEnd,e))return;const h=s?this._results.hud:this._results,f=s?s=>{const l=new u.B$(t,a,i,c);s.set(d.dz.HUD,l,e,r,n.zK,o)}:n=>n.set(d.dz.OBJECT,{object:t,geometryId:a,triangleNr:i},e,r,l,o);if((null==h.min.drapedLayerOrder||o>=h.min.drapedLayerOrder)&&(null==h.min.dist||e<h.min.dist)&&f(h.min),this.options.store!==d.oH.MIN&&(null==h.max.drapedLayerOrder||o<h.max.drapedLayerOrder)&&(null==h.max.dist||e>h.max.dist)&&f(h.max),this.options.store===d.oH.ALL)if(s){const t=new x(this._ray);f(t),this._results.hud.all.push(t)}else{const t=new w(this._ray);f(t),this._results.all.push(t)}}}))}}sortResults(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._results.all).sort(((t,e)=>t.dist!==e.dist?(t.dist??0)-(e.dist??0):t.drapedLayerOrder!==e.drapedLayerOrder?y(t.drapedLayerOrder,e.drapedLayerOrder):y(t.drapedLayerGraphicOrder,e.drapedLayerGraphicOrder)))}}function y(t,e){return(e??-Number.MAX_VALUE)-(t??-Number.MAX_VALUE)}function g(t){return new p(t)}class _{constructor(){this.min=new w((0,c.vt)()),this.max=new w((0,c.vt)()),this.hud={min:new x((0,c.vt)()),max:new x((0,c.vt)()),all:new Array},this.ground=new w((0,c.vt)()),this.all=[]}init(t){this.min.init(t),this.max.init(t),this.ground.init(t),this.all.length=0,this.hud.min.init(t),this.hud.max.init(t),this.hud.all.length=0}}class w{get ray(){return this._ray}get distanceInRenderSpace(){return null!=this.dist?((0,s.h)(b,this.ray.direction,this.dist),(0,s.l)(b)):null}withinDistance(t){return!!(0,f.i3)(this)&&this.distanceInRenderSpace<=t}getIntersectionPoint(t){return!!(0,f.i3)(this)&&((0,s.h)(b,this.ray.direction,this.dist),(0,s.g)(t,this.ray.origin,b),!0)}getTransformedNormal(t){return(0,s.c)(O,this.normal),O[3]=0,(0,a.t)(O,O,this.transformation),(0,s.c)(t,O),(0,s.n)(t,t)}constructor(t){this.intersector=d.dz.OBJECT,this.normal=(0,o.vt)(),this.transformation=(0,n.vt)(),this._ray=(0,c.vt)(),this.init(t)}init(t){this.dist=null,this.target=null,this.drapedLayerOrder=null,this.drapedLayerGraphicOrder=null,this.intersector=d.dz.OBJECT,(0,c.C)(t,this._ray)}set(t,e,r,a,l,c,h){this.intersector=t,this.dist=r,(0,s.c)(this.normal,a??o.Cb),(0,i.C)(this.transformation,l??n.zK),this.target=e,this.drapedLayerOrder=c,this.drapedLayerGraphicOrder=h}copy(t){(0,c.C)(t.ray,this._ray),this.intersector=t.intersector,this.dist=t.dist,this.target=t.target,this.drapedLayerOrder=t.drapedLayerOrder,this.drapedLayerGraphicOrder=t.drapedLayerGraphicOrder,(0,s.c)(this.normal,t.normal),(0,i.C)(this.transformation,t.transformation)}}class x extends w{constructor(){super(...arguments),this.intersector=d.dz.HUD}}function M(t){return new w(t)}const b=(0,o.vt)(),O=(0,l.vt)()},12770:(t,e,r)=>{r.d(e,{$2:()=>R,$C:()=>M,Hj:()=>T,Mh:()=>L,W$:()=>y,ab:()=>w,eA:()=>b,pW:()=>O,t8:()=>x,vY:()=>V});var i=r(84190),n=r(87752),s=r(10382),o=r(28473),a=r(60548),l=r(24646),c=r(96913),h=r(4309),d=r(90772),u=r(90632),f=r(53053),m=r(20444),v=r(62240),p=r(34156);function y(t,e){if("point"===t.type)return _(t,e,!1);if((0,p.gr)(t))switch(t.type){case"extent":return _(t.center,e,!1);case"polygon":return _(t.centroid,e,!1);case"polyline":return _(g(t),e,!0);case"mesh":return _((0,m.MW)(t.vertexSpace,t.spatialReference)??t.extent.center,e,!1);case"multipoint":return}else switch(t.type){case"extent":return _(function(t){return(0,v.T)(.5*(t.xmax+t.xmin),.5*(t.ymax+t.ymin),null!=t.zmin&&null!=t.zmax&&isFinite(t.zmin)&&isFinite(t.zmax)?.5*(t.zmax+t.zmin):void 0,t.spatialReference)}(t),e,!0);case"polygon":return _(function(t){const e=t.rings[0];if(!e||0===e.length)return null;const r=(0,u.S8)(t.rings,!!t.hasZ);return(0,v.T)(r[0],r[1],r[2],t.spatialReference)}(t),e,!0);case"polyline":return _(g(t),e,!0);case"multipoint":return}}function g(t){const e=t.paths[0];if(!e||0===e.length)return null;const r=(0,f.$H)(e,(0,f.Yl)(e)/2);return(0,v.T)(r[0],r[1],r[2],t.spatialReference)}function _(t,e,r){const i=r?t:(0,p.EL)(t);return e&&t?(0,c.projectPoint)(t,i,e)?i:null:i}function w(t){if(!t)return 0;switch(t.type){case"point":return t.z;case"extent":return t.zmax;case"polygon":return t.hasZ?t.rings.reduce(((t,e)=>e.reduce(((t,e)=>Math.max(t,e[2])),t)),-1/0):void 0;case"polyline":return t.hasZ?t.paths.reduce(((t,e)=>e.reduce(((t,e)=>Math.max(t,e[2])),t)),-1/0):void 0;case"mesh":return t.extent.zmax;case"multipoint":return}}function x(t,e,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(t){e||(e=(0,d.vt)());const n=t;let s=.5*n.width*(r-1),o=.5*n.height*(r-1);return n.width<1e-7*n.height?s+=o/20:n.height<1e-7*n.width&&(o+=s/20),(0,a.s)(e,n.xmin-s-i,n.ymin-o-i,n.xmax+s+i,n.ymax+o+i),e}return null}function M(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=(0,l.o8)(l.Un);return null!=t&&(i[0]=t[0],i[1]=t[1],i[2]=t[2]),null!=e?i[3]=e:null!=t&&t.length>3&&(i[3]=t[3]),r&&(i[0]*=r,i[1]*=r,i[2]*=r,i[3]*=r),i}function b(t,e,r,i,n,s){for(let o=0;o<3;++o)s[o]=null!=t?.[o]?t[o]:null!=r?.[o]?r[o]:n[o];return s[3]=null!=e?e:null!=i?i:n[3],s}function O(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.Un,e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const n=new Array(3);if(null==e||null==r)n[0]=1,n[1]=1,n[2]=1;else{let i,s=0;for(let o=2;o>=0;o--){const a=t[o],l=null!=a,c=0===o&&!i&&!l,h=r[o];let d;"symbol-value"===a||c?d=0!==h?e[o]/h:1:l&&"proportional"!==a&&isFinite(a)&&(d=0!==h?a/h:1),null!=d&&(n[o]=d,i=d,s=Math.max(s,Math.abs(d)))}for(let t=2;t>=0;t--)null==n[t]?n[t]=i:0===n[t]&&(n[t]=.001*s)}for(let s=2;s>=0;s--)n[s]/=i;return(0,o.ci)(n)}function T(t){return L(function(t){return null!=t.isPrimitive}(t)?[t.width,t.depth,t.height]:t)?null:"Symbol sizes may not be negative values"}function L(t){const e=t=>null==t||t>=0;return Array.isArray(t)?t.every(e):e(t)}function R(t,e,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,s.vt)();return t&&(0,n.Qr)(i,i,-t/180*Math.PI),e&&(0,n.eL)(i,i,e/180*Math.PI),r&&(0,n.Z8)(i,i,r/180*Math.PI),i}function V(t,e,r){if(null!=r.minDemResolution)return r.minDemResolution;const n=(0,i.GA)(e),s=(0,h.VL)(t)*n,o=(0,h.yr)(t)*n,a=(0,h.uJ)(t)*(e.isGeographic?1:n);return 0===s&&0===o&&0===a?r.minDemResolutionForPoints:.01*Math.max(s,o,a)}},14967:(t,e,r)=>{r.r(e),r.d(e,{default:()=>d});var i,n=r(93800),s=r(85715),o=r(19455),a=r(48602),l=(r(21265),r(50925),r(14746),r(47332)),c=r(75269);let h=i=class extends(s.A.ClonableMixin(o.A)){constructor(t){super(t),this.type="georeferenced",this.origin=null}};h.absolute=new i,(0,n._)([(0,l.e)({georeferenced:"georeferenced"},{readOnly:!0})],h.prototype,"type",void 0),(0,n._)([(0,a.MZ)({type:[Number],nonNullable:!1,json:{write:!0}})],h.prototype,"origin",void 0),h=i=(0,n._)([(0,c.$)("esri.geometry.support.MeshGeoreferencedVertexSpace")],h);const d=h},15828:(t,e,r)=>{r.d(e,{B$:()=>s,HE:()=>o,R6:()=>a});var i=r(28473);class n{constructor(t,e,r){this.object=t,this.geometryId=e,this.triangleNr=r}}class s extends n{constructor(t,e,r,n){super(t,e,r),this.center=null!=n?(0,i.o8)(n):null}}class o{constructor(t){this.layerUid=t}}class a extends o{constructor(t,e){super(t),this.graphicUid=e}}},20444:(t,e,r)=>{r.d(e,{CK:()=>c,E9:()=>a,Hq:()=>l,MW:()=>h,TE:()=>d,yJ:()=>u});var i=r(89227),n=r(75400),s=r(14967),o=r(55928);function a(t){return null==t.origin}function l(t){return null!=t.origin}function c(t){return l(t.vertexSpace)}function h(t,e){if(!l(t))return null;const[r,i,s]=t.origin;return new n.default({x:r,y:i,z:s,spatialReference:e})}function d(t,e){const{x:r,y:i,z:n,spatialReference:a}=t,l=[r,i,n??0];return"local"===(e?.vertexSpace??function(t){return t.isGeographic||t.isWebMercator?"local":"georeferenced"}(a))?new o.default({origin:l}):new s.default({origin:l})}function u(t,e){return t.type===e.type&&(t.origin===e.origin||null!=t.origin&&null!=e.origin&&(0,i.p)(t.origin,e.origin))}},27464:(t,e,r)=>{r.d(e,{$I:()=>c,Q5:()=>l,hH:()=>h,i3:()=>a});var i=r(89227),n=r(28473),s=r(25071),o=r(92453);function a(t){return null!=t?.dist}function l(t){return(e,r,n)=>((0,i.m)(d,e,r,n),!(0,s.e)(t,d))}function c(t){return a(t)&&t.intersector===o.dz.OBJECT&&!!t.target}function h(t){return a(t)&&t.intersector===o.dz.HUD&&!!t.target&&"center"in t.target&&null!=t.target.center}const d=(0,n.vt)()},31500:(t,e,r)=>{r.d(e,{u:()=>n});var i=r(16878);function n(t,e){let{code:r}=t;e.doublePrecisionRequiresObfuscation?r.add(i.H`vec3 dpPlusFrc(vec3 a, vec3 b) {
return mix(a, a + b, vec3(notEqual(b, vec3(0))));
}
vec3 dpMinusFrc(vec3 a, vec3 b) {
return mix(vec3(0), a - b, vec3(notEqual(a, b)));
}
vec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {
vec3 t1 = dpPlusFrc(hiA, hiB);
vec3 e = dpMinusFrc(t1, hiA);
vec3 t2 = dpMinusFrc(hiB, e) + dpMinusFrc(hiA, dpMinusFrc(t1, e)) + loA + loB;
return t1 + t2;
}`):r.add(i.H`vec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {
vec3 t1 = hiA + hiB;
vec3 e = t1 - hiA;
vec3 t2 = ((hiB - e) + (hiA - (t1 - e))) + loA + loB;
return t1 + t2;
}`)}},34156:(t,e,r)=>{r.d(e,{EL:()=>p,RS:()=>y,gr:()=>c,wP:()=>d,wZ:()=>u});var i=r(79625),n=(r(21265),r(82301)),s=r(25048),o=r(93321),a=r(78629),l=r(62240);function c(t){return"declaredClass"in t}function h(t){return"declaredClass"in t}function d(t,e){return t?"declaredClass"in t?t:new i.default({layer:e,sourceLayer:e,visible:t.visible,symbol:(0,n.clone)(t.symbol),attributes:(0,n.clone)(t.attributes),geometry:u(t.geometry)}):null}function u(t){return null==t?null:c(t)?t:(0,a.fromJSON)(function(t){const{wkid:e,wkt:r,wkt2:i,latestWkid:n}=t.spatialReference,s={wkid:e,wkt:r,wkt2:i,latestWkid:n};switch(t.type){case"point":{const{x:e,y:r,z:i,m:n}=t;return{x:e,y:r,z:i,m:n,spatialReference:s}}case"polygon":{const{rings:e,hasZ:r,hasM:i}=t;return{rings:f(e),hasZ:r,hasM:i,spatialReference:s}}case"polyline":{const{paths:e,hasZ:r,hasM:i}=t;return{paths:f(e),hasZ:r,hasM:i,spatialReference:s}}case"extent":{const{xmin:e,xmax:r,ymin:i,ymax:n,zmin:o,zmax:a,mmin:l,mmax:c,hasZ:h,hasM:d}=t;return{xmin:e,xmax:r,ymin:i,ymax:n,zmin:o,zmax:a,mmin:l,mmax:c,hasZ:h,hasM:d,spatialReference:s}}case"multipoint":{const{points:e,hasZ:r,hasM:i}=t;return{points:v(e)?m(e):e,hasZ:r,hasM:i,spatialReference:s}}default:return}}(t))}function f(t){return function(t){for(const e of t)if(0!==e.length)return v(e);return!1}(t)?t.map((t=>m(t))):t}function m(t){return t.map((t=>Array.from(t)))}function v(t){return t.length>0&&((0,s.vZ)(t[0])||(0,s.aI)(t[0]))}function p(t,e){if(!t)return null;let r;if(h(t)){if(null==e)return t.clone();if(h(e))return e.copy(t)}return null!=e?(r=e,r.x=t.x,r.y=t.y,r.spatialReference=t.spatialReference,t.hasZ?(r.z=t.z,r.hasZ=t.hasZ):(r.z=void 0,r.hasZ=!1),t.hasM?(r.m=t.m,r.hasM=!0):(r.m=void 0,r.hasM=!1)):(r=(0,l.T)(t.x,t.y,t.z,t.spatialReference),t.hasM&&(r.m=t.m,r.hasM=!0)),r}function y(t){const{wkid:e,wkt:r,wkt2:i,latestWkid:n}=t,s={wkid:e,wkt:r,wkt2:i,latestWkid:n};return o.default.fromJSON(s)}},49443:(t,e,r)=>{r.d(e,{Mu:()=>a,i$:()=>c,oD:()=>h,xJ:()=>l});var i=r(96236),n=r(4127),s=r(15025),o=r(16878);function a(t){t.varyings.add("linearDepth","float")}function l(t){t.vertex.uniforms.add(new s.E("nearFar",(t=>t.camera.nearFar)))}function c(t){t.vertex.code.add(o.H`float calculateLinearDepth(vec2 nearFar,float z) {
return (-z - nearFar[0]) / (nearFar[1] - nearFar[0]);
}`)}function h(t,e){const{vertex:r}=t;switch(e.output){case i.V.Color:case i.V.ColorEmission:if(e.receiveShadows)return a(t),void r.code.add(o.H`void forwardLinearDepth() { linearDepth = gl_Position.w; }`);break;case i.V.Shadow:case i.V.ShadowHighlight:case i.V.ShadowExcludeHighlight:case i.V.ViewshedShadow:return t.include(n.em,e),a(t),l(t),c(t),void r.code.add(o.H`void forwardLinearDepth() {
linearDepth = calculateLinearDepth(nearFar, vPosition_view.z);
}`)}r.code.add(o.H`void forwardLinearDepth() {}`)}},49807:(t,e,r)=>{function i(t){return"point"===t.type}r.d(e,{v:()=>i})},50366:(t,e,r)=>{r.d(e,{d:()=>s});var i=r(49443),n=r(16878);function s(t){(0,i.i$)(t),t.vertex.code.add(n.H`vec4 transformPositionWithDepth(mat4 proj, mat4 view, vec3 pos, vec2 nearFar, out float depth) {
vec4 eye = view * vec4(pos, 1.0);
depth = calculateLinearDepth(nearFar,eye.z);
return proj * eye;
}`),t.vertex.code.add(n.H`vec4 transformPosition(mat4 proj, mat4 view, vec3 pos) {
return proj * (view * vec4(pos, 1.0));
}`)}},55928:(t,e,r)=>{r.r(e),r.d(e,{default:()=>d});var i=r(93800),n=r(85715),s=r(19455),o=r(48602),a=(r(21265),r(50925),r(14746),r(47332)),l=r(75269),c=r(28473);let h=class extends(n.A.ClonableMixin(s.A)){constructor(t){super(t),this.type="local",this.origin=(0,c.vt)()}};(0,i._)([(0,a.e)({local:"local"},{readOnly:!0})],h.prototype,"type",void 0),(0,i._)([(0,o.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],h.prototype,"origin",void 0),h=(0,i._)([(0,l.$)("esri.geometry.support.MeshLocalVertexSpace")],h);const d=h},64863:(t,e,r)=>{r.d(e,{XG:()=>y,dd:()=>_,dg:()=>u,fo:()=>w,ou:()=>v});var i=r(67965),n=r(13473),s=r(87752),o=r(10382),a=r(89227),l=r(28473),c=r(89476),h=r(51064),d=r(99717);class u{constructor(){this._transform=(0,o.vt)(),this._transformInverse=new f({value:this._transform},s.B8,o.vt),this._transformInverseTranspose=new f(this._transformInverse,s.mg,o.vt),this._transformTranspose=new f({value:this._transform},s.mg,o.vt),this._transformInverseRotation=new f({value:this._transform},i.dR,n.vt)}_invalidateLazyTransforms(){this._transformInverse.invalidate(),this._transformInverseTranspose.invalidate(),this._transformTranspose.invalidate(),this._transformInverseRotation.invalidate()}get transform(){return this._transform}get inverse(){return this._transformInverse.value}get inverseTranspose(){return this._transformInverseTranspose.value}get inverseRotation(){return this._transformInverseRotation.value}get transpose(){return this._transformTranspose.value}setTransformMatrix(t){(0,s.C)(this._transform,t)}multiplyTransform(t){(0,s.lw)(this._transform,this._transform,t)}set(t){(0,s.C)(this._transform,t),this._invalidateLazyTransforms()}setAndInvalidateLazyTransforms(t,e){this.setTransformMatrix(t),this.multiplyTransform(e),this._invalidateLazyTransforms()}}class f{constructor(t,e,r){this._original=t,this._update=e,this._dirty=!0,this._transform=r()}invalidate(){this._dirty=!0}get value(){return this._dirty&&(this._update(this._transform,this._original.value),this._dirty=!1),this._transform}}const m=new class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.offset=t,this.sphere=(0,c.c)(),this.tmpVertex=(0,l.vt)()}applyToVertex(t,e,r){const i=this.objectTransform.transform,n=(0,a.i)(x,t,e,r),s=(0,a.t)(n,n,i),o=this.offset/(0,a.l)(s);(0,a.b)(s,s,s,o);const l=this.objectTransform.inverse;return(0,a.t)(this.tmpVertex,s,l),this.tmpVertex}applyToMinMax(t,e){const r=this.offset/(0,a.l)(t);(0,a.b)(t,t,t,r);const i=this.offset/(0,a.l)(e);(0,a.b)(e,e,e,i)}applyToAabb(t){const e=this.offset/Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]+=t[0]*e,t[1]+=t[1]*e,t[2]+=t[2]*e;const r=this.offset/Math.sqrt(t[3]*t[3]+t[4]*t[4]+t[5]*t[5]);return t[3]+=t[3]*r,t[4]+=t[4]*r,t[5]+=t[5]*r,t}applyToBoundingSphere(t){const e=(0,a.l)((0,c.a)(t)),r=this.offset/e;return(0,a.b)((0,c.a)(this.sphere),(0,c.a)(t),(0,c.a)(t),r),this.sphere[3]=t[3]+t[3]*this.offset/e,this.sphere}};function v(t){return null!=t?(m.offset=t,m):null}const p=new class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.componentLocalOriginLength=0,this._totalOffset=0,this._offset=0,this._tmpVertex=(0,l.vt)(),this._tmpMbs=(0,c.c)(),this._tmpObb=new d.ab,this._resetOffset(t)}_resetOffset(t){this._offset=t,this._totalOffset=t}set offset(t){this._resetOffset(t)}get offset(){return this._offset}set componentOffset(t){this._totalOffset=this._offset+t}set localOrigin(t){this.componentLocalOriginLength=(0,a.l)(t)}applyToVertex(t,e,r){const i=(0,a.i)(x,t,e,r),n=(0,a.i)(M,t,e,r+this.componentLocalOriginLength),s=this._totalOffset/(0,a.l)(n);return(0,a.b)(this._tmpVertex,i,n,s),this._tmpVertex}applyToAabb(t){const e=this.componentLocalOriginLength,r=t[0],i=t[1],n=t[2]+e,s=t[3],o=t[4],a=t[5]+e,l=Math.abs(r),c=Math.abs(i),h=Math.abs(n),d=Math.abs(s),u=Math.abs(o),f=Math.abs(a),m=.5*(1+Math.sign(r*s))*Math.min(l,d),v=.5*(1+Math.sign(i*o))*Math.min(c,u),p=.5*(1+Math.sign(n*a))*Math.min(h,f),y=Math.max(l,d),g=Math.max(c,u),_=Math.max(h,f),w=Math.sqrt(m*m+v*v+p*p),x=Math.sign(l+r),M=Math.sign(c+i),b=Math.sign(h+n),O=Math.sign(d+s),T=Math.sign(u+o),L=Math.sign(f+a),R=this._totalOffset;if(w<R)return t[0]-=(1-x)*R,t[1]-=(1-M)*R,t[2]-=(1-b)*R,t[3]+=O*R,t[4]+=T*R,t[5]+=L*R,t;const V=R/Math.sqrt(y*y+g*g+_*_),F=R/w,C=F-V,W=-C;return t[0]+=r*(x*W+F),t[1]+=i*(M*W+F),t[2]+=n*(b*W+F),t[3]+=s*(O*C+V),t[4]+=o*(T*C+V),t[5]+=a*(L*C+V),t}applyToMbs(t){const e=(0,a.l)((0,c.a)(t)),r=this._totalOffset/e;return(0,a.b)((0,c.a)(this._tmpMbs),(0,c.a)(t),(0,c.a)(t),r),this._tmpMbs[3]=t[3]+t[3]*this._totalOffset/e,this._tmpMbs}applyToObb(t){return(0,d.gm)(t,this._totalOffset,this._totalOffset,h.RT.Global,this._tmpObb),this._tmpObb}};function y(t){return null!=t?(p.offset=t,p):null}const g=new class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.offset=t,this.tmpVertex=(0,l.vt)()}applyToVertex(t,e,r){const i=(0,a.i)(x,t,e,r),n=(0,a.g)(M,i,this.localOrigin),s=this.offset/(0,a.l)(n);return(0,a.b)(this.tmpVertex,i,n,s),this.tmpVertex}applyToAabb(t){const e=b,r=O,i=T;for(let a=0;a<3;++a)e[a]=t[0+a]+this.localOrigin[a],r[a]=t[3+a]+this.localOrigin[a],i[a]=e[a];const n=this.applyToVertex(e[0],e[1],e[2]);for(let a=0;a<3;++a)t[a]=n[a],t[a+3]=n[a];const s=e=>{const r=this.applyToVertex(e[0],e[1],e[2]);for(let i=0;i<3;++i)t[i]=Math.min(t[i],r[i]),t[i+3]=Math.max(t[i+3],r[i])};for(let a=1;a<8;++a){for(let t=0;t<3;++t)i[t]=a&1<<t?r[t]:e[t];s(i)}let o=0;for(let a=0;a<3;++a)e[a]*r[a]<0&&(o|=1<<a);if(0!==o&&7!==o)for(let a=0;a<8;++a)if(!(o&a)){for(let t=0;t<3;++t)i[t]=o&1<<t?0:a&1<<t?e[t]:r[t];s(i)}for(let a=0;a<3;++a)t[a]-=this.localOrigin[a],t[a+3]-=this.localOrigin[a];return t}};function _(t){return null!=t?(g.offset=t,g):null}const w="terrain",x=(0,l.vt)(),M=(0,l.vt)(),b=(0,l.vt)(),O=(0,l.vt)(),T=(0,l.vt)()},84025:(t,e,r)=>{r.d(e,{I:()=>s});var i=r(16878),n=r(22131);function s(t){t.attributes.add(n.r.POSITION,"vec3"),t.vertex.code.add(i.H`vec3 positionModel() { return position; }`)}},91018:(t,e,r)=>{r.d(e,{h:()=>s});var i=r(73031),n=r(826);class s extends n.n{constructor(t,e){super(t,"mat3",i.c.Draw,((r,i,n)=>r.setUniformMatrix3fv(t,e(i,n))))}}},92453:(t,e,r)=>{var i,n;r.d(e,{H6:()=>s,dz:()=>i,oH:()=>n}),function(t){t[t.OBJECT=0]="OBJECT",t[t.HUD=1]="HUD",t[t.TERRAIN=2]="TERRAIN",t[t.OVERLAY=3]="OVERLAY",t[t.I3S=4]="I3S",t[t.PCL=5]="PCL",t[t.LOD=6]="LOD",t[t.VOXEL=7]="VOXEL",t[t.TILES3D=8]="TILES3D"}(i||(i={}));class s{constructor(){this.verticalOffset=0,this.selectionMode=!1,this.hud=!0,this.selectOpaqueTerrainOnly=!0,this.invisibleTerrain=!1,this.backfacesTerrain=!0,this.isFiltered=!1,this.filteredLayerUids=[],this.store=n.ALL,this.normalRequired=!0,this.excludeLabels=!1}}!function(t){t[t.MIN=0]="MIN",t[t.MINMAX=1]="MINMAX",t[t.ALL=2]="ALL"}(n||(n={}))}}]);