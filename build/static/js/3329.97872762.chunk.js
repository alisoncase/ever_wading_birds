"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[3329],{3329:(e,t,i)=>{i.r(t),i.d(t,{default:()=>B});var s=i(93800),n=i(50925),o=i(79953),l=i(48602),a=(i(21265),i(14746),i(75269)),r=i(27811);const d="esri-daylight",h=`${d}__container`,c="esri-slider",p={base:d,dayContainer:`${h} ${d}__day-container`,dateContainer:`${h} ${d}__date-container`,containerDisabled:`${h}--disabled`,slider:c,sliderShadowOff:`${c}--shadow-off`,sliderShadowOn:`${c}--shadow-on`,sliderAmPmOn:`${c}--ampm-on`,sliderDateOff:`${c}--date-off`,sliderDateOn:`${c}--date-on`,playPauseButton:`${d}__play-pause-button`,datePicker:`${d}__date-picker`,seasonPicker:`${d}__season-picker`,panelError:`${d}__panel--error`,sunLightingCheckbox:`${d}__sun-lighting-checkbox`,shadowsCheckbox:`${d}__shadows-checkbox`};var u=i(89594),g=i(6946);let _=class extends g.default{constructor(e){super(e),this.header=!0,this.playButtons=!0,this.datePicker=!0,this.timezone=!0,this.sunLightingToggle=!0,this.shadowsToggle=!0}};(0,s._)([(0,l.MZ)({type:Boolean,nonNullable:!0})],_.prototype,"header",void 0),(0,s._)([(0,l.MZ)({type:Boolean,nonNullable:!0})],_.prototype,"playButtons",void 0),(0,s._)([(0,l.MZ)({type:Boolean,nonNullable:!0})],_.prototype,"datePicker",void 0),(0,s._)([(0,l.MZ)({type:Boolean,nonNullable:!0})],_.prototype,"timezone",void 0),(0,s._)([(0,l.MZ)({type:Boolean,nonNullable:!0})],_.prototype,"sunLightingToggle",void 0),(0,s._)([(0,l.MZ)({type:Boolean,nonNullable:!0})],_.prototype,"shadowsToggle",void 0),_=(0,s._)([(0,a.$)("esri.widgets.Daylight.VisibleElements")],_);const b=_;var y=i(68765),v=i(35255),m=i(95596),w=i(31244),k=i(17745),C=i(87118);const M="esri-slider-with-dropdown",f="esri-slider__label",S=`${M}__box`,D=`${M}__box--drop-down-on`,P=`${M}__box--drop-down-off`;let O=class extends v.default{constructor(e,t){super(e,t),this.viewModel=new m.h,this.showDropDown=!0,this._labelWidth=0,this._onLabelAfterCreate=e=>{const t="label-size-observer";this.removeHandles(t),this.addHandles((0,k.EV)(e,(e=>{let{contentRect:t}=e;this._labelWidth=t.width})),t)},this._getLabelStyles=()=>{if(!this.trackElement)return;const e=this._trackWidth,t=this._labelWidth/2,i=this.getCurrentPosition(),s=i-t,n=i+t;let o=-t;return s<0?o+=-s:n>e&&(o+=e-n),{left:`${o}px`}},this._onTimezoneChange=e=>{this.viewModel.utcOffset=e},this._onTimezonePickerOpen=()=>{this.viewModel.timezonePickerOpen=!0},this._onTimezonePickerClose=()=>{this.viewModel.timezonePickerOpen=!1}}renderThumbLabel(e){const{showDropDown:t,viewModel:i}=this;return(0,C.K)("div",{afterCreate:this._onLabelAfterCreate,class:this.classes({[S]:!0,[f]:!0,[D]:t,[P]:!t}),key:"thumb-label",styles:this._getLabelStyles()},super.renderThumbLabel(e),t?(0,C.K)(w.G,{disabled:this.disabled,open:i.timezonePickerOpen,value:i.utcOffset,onChange:this._onTimezoneChange,onClose:this._onTimezonePickerClose,onOpen:this._onTimezonePickerOpen}):null)}};(0,s._)([(0,l.MZ)()],O.prototype,"viewModel",void 0),(0,s._)([(0,l.MZ)()],O.prototype,"showDropDown",void 0),(0,s._)([(0,l.MZ)()],O.prototype,"_labelWidth",void 0),O=(0,s._)([(0,a.$)("esri.widgets.Daylight.support.SliderWithDropdown")],O);const T=O;var $=i(49403),Z=i(50821),E=i(9137),L=i(30957),x=i(76697);const K="date";let z=class extends r.default{constructor(e,t){super(e,t),this.headingLevel=3,this.viewModel=new u.default,this.visibleElements=new b,this.dateOrSeason=K,this._timeSlider=new T({viewModel:this.viewModel.timeSliderViewModel,steps:this.timeSliderSteps,labelInputsEnabled:!1,visibleElements:{labels:!0},tickConfigs:[{mode:"position",values:[0,360,720,1080,1439],labelsVisible:!0,tickCreatedFunction:(e,t,i)=>(0,L.T3)({tickElement:t,labelElement:i,tickClasses:I,onClick:this._makeGoToTime(e)})},{mode:"position",values:[120,240,480,600,840,960,1200,1320],tickCreatedFunction:(e,t)=>(0,L.ty)({tickElement:t,tickClasses:I,onClick:this._makeGoToTime(e)})}]}),this._onPlayDayClick=()=>{this.viewModel.toggleDayPlaying()},this._onDateChange=e=>{const t=e.currentTarget.valueAsDate;this.viewModel.onDateChange(Array.isArray(t)?t[0]:t)},this._onYearPlayClick=()=>{this.viewModel.toggleYearPlaying()},this._onSeasonChange=e=>{this.viewModel.currentSeason=e.currentTarget.value},this._onSunLightingCheckboxChange=()=>{this.viewModel.toggleSunLightingEnabled()},this._onShadowCheckboxChange=()=>{this.viewModel.toggleDirectShadowsEnabled()}}get icon(){return"brightness"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.title??""}set label(e){this._overrideIfSome("label",e)}get playSpeedMultiplier(){return this.viewModel.playSpeedMultiplier}set playSpeedMultiplier(e){this.viewModel.playSpeedMultiplier=e}get timeSliderSteps(){return this._timeSlider?.steps??5}set timeSliderSteps(e){this._timeSlider.steps=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}postInitialize(){this.viewModel.isSupported&&this.addHandles([(0,o.watch)((()=>this.viewModel.timeSliderViewModel),(e=>this._timeSlider.viewModel=e),o.syncAndInitial),(0,o.watch)((()=>this.visibleElements?.timezone),(e=>this._timeSlider.showDropDown=e),o.syncAndInitial),(0,o.watch)((()=>!this.viewModel.sunLightingEnabled),(e=>{this._timeSlider.disabled=e}),o.syncAndInitial)])}destroy(){this._timeSlider.destroy()}render(){const{messages:e,viewModel:t,visibleElements:i}=this,s=t.isSupported;return(0,C.K)("div",{class:this.classes(p.base,Z.D.widget)},s?(0,C.K)(C.w,null,i.header?(0,C.K)(E.D,{level:this.headingLevel},e.title):null,this._renderTimeOptions(),i.datePicker?this._renderDateOrSeason():null,i.sunLightingToggle?this._renderSunLightingToggle():null,i.shadowsToggle?this._renderShadowsToggle():null):(0,C.K)("div",{class:p.panelError,key:"unsupported"},(0,C.K)("p",null,e.unsupported)))}loadDependencies(){return(0,$.W)({button:()=>Promise.resolve().then(i.bind(i,20423)),checkbox:()=>i.e(70879).then(i.bind(i,70879)),label:()=>i.e(60216).then(i.bind(i,60216)),"input-date-picker":()=>Promise.all([i.e(86290),i.e(42015),i.e(57020)]).then(i.bind(i,57020)),option:()=>i.e(99163).then(i.bind(i,99163)),select:()=>i.e(34280).then(i.bind(i,34280))})}_renderTimeOptions(){const{viewModel:e,visibleElements:t,messages:i}=this,{directShadowsEnabled:s,dayPlaying:n}=e,o=!e.sunLightingEnabled;return(0,C.K)("div",{class:this.classes(p.dayContainer,{[p.sliderShadowOn]:s,[p.sliderShadowOff]:!s,[p.sliderDateOn]:t.datePicker,[p.sliderDateOff]:!t.datePicker,[p.sliderAmPmOn]:(0,L.J_)(),[p.containerDisabled]:o}),key:"daylight-time-options"},this._timeSlider.render(),t.playButtons?this._renderPlayPauseButton({playing:n,disabled:o,label:i.playDay,onClick:this._onPlayDayClick}):null)}_renderDateOptions(){const{viewModel:e,visibleElements:t,messages:i}=this,{yearPlaying:s}=e,n=!e.sunLightingEnabled;return(0,C.K)("div",{class:this.classes(p.dateContainer,n&&p.containerDisabled),key:p.dateContainer},(0,C.K)("calcite-input-date-picker",{class:p.datePicker,"data-testid":"daylight-date-picker",disabled:n,key:p.datePicker,overlayPositioning:"fixed",placement:"bottom",valueAsDate:e.localDate,onCalciteInputDatePickerChange:this._onDateChange}),t.playButtons?this._renderPlayPauseButton({playing:s,disabled:n,label:i.playYear,onClick:this._onYearPlayClick}):null)}_renderPlayPauseButton(e){let{playing:t,disabled:i,label:s,onClick:n}=e;return(0,C.K)("calcite-button",{appearance:"solid",class:p.playPauseButton,disabled:i,iconStart:t?"pause-f":"play-f",label:s,onclick:n,round:!0,title:s,type:"button"})}_renderSeasonSelect(){const{messages:e,viewModel:t}=this,i=!t.sunLightingEnabled;return(0,C.K)("calcite-select",{class:this.classes(p.seasonPicker),disabled:i,label:e.season,onCalciteSelectChange:this._onSeasonChange},y.Cg.map((i=>(0,C.K)("calcite-option",{selected:t.currentSeason===i,value:i},e[i]))))}_renderDateOrSeason(){return"date"===this.dateOrSeason?this._renderDateOptions():this._renderSeasonSelect()}_renderSunLightingToggle(){const e=this.messages?.sunLightingToggle;return(0,C.K)("calcite-label",{key:"date-time-toggle",layout:"inline",scale:"s",title:e?.tooltip},(0,C.K)("calcite-checkbox",{checked:this.viewModel.sunLightingEnabled,class:p.sunLightingCheckbox,onCalciteCheckboxChange:this._onSunLightingCheckboxChange}),e?.label)}_renderShadowsToggle(){const e=this.messages.shadowsToggle;return(0,C.K)("calcite-label",{key:"shadow-toggle",layout:"inline",scale:"s",title:e?.tooltip},(0,C.K)("calcite-checkbox",{checked:this.viewModel.directShadowsEnabled,class:p.shadowsCheckbox,onCalciteCheckboxChange:this._onShadowCheckboxChange}),e.label)}_makeGoToTime(e){return()=>{this.viewModel.timeSliderPosition=e}}};(0,s._)([(0,l.MZ)(),(0,x.G)("esri/widgets/Daylight/t9n/Daylight")],z.prototype,"messages",void 0),(0,s._)([(0,l.MZ)(),(0,x.G)("esri/widgets/support/t9n/timezone")],z.prototype,"timezoneMessages",void 0),(0,s._)([(0,l.MZ)()],z.prototype,"headingLevel",void 0),(0,s._)([(0,l.MZ)()],z.prototype,"icon",null),(0,s._)([(0,l.MZ)()],z.prototype,"label",null),(0,s._)([(0,l.MZ)()],z.prototype,"playSpeedMultiplier",null),(0,s._)([(0,l.MZ)()],z.prototype,"timeSliderSteps",null),(0,s._)([(0,l.MZ)()],z.prototype,"view",null),(0,s._)([(0,l.MZ)({type:u.default})],z.prototype,"viewModel",void 0),(0,s._)([(0,l.MZ)({type:b,nonNullable:!0})],z.prototype,"visibleElements",void 0),(0,s._)([(0,l.MZ)({cast(e){return"season"===e||"date"===e?e:(n.A.getLogger(this).warn(`"${e}" is not a valid option. Acceptable values are only "date" or "season". Defaulting to "${K}".`),K)}})],z.prototype,"dateOrSeason",void 0),(0,s._)([(0,l.MZ)()],z.prototype,"_timeSlider",void 0),z=(0,s._)([(0,a.$)("esri.widgets.Daylight")],z);const I=[Z.D.interactive,Z.D.anchor],B=z},9137:(e,t,i)=>{i.d(t,{D:()=>a,S:()=>d});var s=i(64682),n=i(50821),o=i(17745),l=i(87118);function a(e,t){let{level:i,class:s,...a}=e;const d=r(i);return(0,l.K)(`h${d}`,{...a,"aria-level":String(d),class:(0,o.Ly)(n.D.heading,s),role:"heading"},t)}function r(e){return(0,s.qE)(Math.ceil(e),1,6)}function d(e){return r(e+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1))}},31244:(e,t,i)=>{i.d(t,{G:()=>u});var s=i(93800),n=i(48602),o=(i(21265),i(50925),i(14746),i(75269)),l=i(27811),a=i(49403),r=i(30957),d=(i(17745),i(76697)),h=i(87118);const c="esri-timezone-picker",p={base:c,trigger:`${c}__trigger`,itemTitle:`${c}__item-title`,itemDescription:`${c}__item_description`};let u=class extends l.default{constructor(e,t){super(e,t),this.disabled=!1,this.value=null,this.onChange=null,this.open=!1,this.onOpen=null,this.onClose=null,this._selectedId=null,this._onOpen=()=>{this.open=!0,this.onOpen?.()},this._onClose=()=>{this.open=!1,this.onClose?.()},this._killEvent=e=>(e.stopPropagation(),!0),this._onChange=e=>{const t=e.target.selectedItems?.[0].getAttribute("data-id"),i=g(this._gmtOffsets,t)?.utcOffset;null!=i&&(this._selectedId=t,this.onChange?.(i))}}loadDependencies(){return(0,a.W)({button:()=>Promise.resolve().then(i.bind(i,20423)),dropdown:()=>i.e(41631).then(i.bind(i,41631)),"dropdown-group":()=>i.e(90553).then(i.bind(i,90553)),"dropdown-item":()=>i.e(54055).then(i.bind(i,54055))})}render(){const e=this._messages;if(!e)return(0,h.K)("div",{class:p.base,key:"empty"});const t=this._selectedItem,i=_(t);return(0,h.K)("div",{class:p.base,key:"container",onpointerdown:this._killEvent},(0,h.K)("calcite-dropdown",{disabled:this.disabled,open:this.open,overlayPositioning:"fixed",placement:"bottom-end",scale:"s",onCalciteDropdownClose:this._onClose,onCalciteDropdownOpen:this._onOpen,onCalciteDropdownSelect:this._onChange},(0,h.K)("calcite-button",{appearance:"transparent",class:p.trigger,"data-testid":"timezone-picker-button",disabled:this.disabled,key:"trigger",kind:"neutral",scale:"s",slot:"trigger",tabIndex:0,title:e.chooseTimezone},t?.short??""),(0,h.K)("calcite-dropdown-group",{selectionMode:"single"},this._gmtOffsets.map((e=>{const t=_(e);return(0,h.K)("calcite-dropdown-item",{"data-id":t,"data-testid":t,key:t,selected:i===t},(0,h.K)("div",{class:p.itemTitle,key:"title"},e.shortWithUTC),(0,h.K)("div",{class:p.itemDescription,key:"description"},e.long))})))))}get _gmtOffsets(){const e=this._messages;return e?(0,r.jP)(e):[]}get _selectedItem(){const e=this._gmtOffsets,t=this.value,i=g(e,this._selectedId);return i?.utcOffset===t?i:function(e,t){return e.find((e=>e.utcOffset===t))}(e,t)}};function g(e,t){return e.find((e=>_(e)===t))}function _(e){return e?`${e.utcOffset}-${e.long}`:void 0}(0,s._)([(0,n.MZ)()],u.prototype,"disabled",void 0),(0,s._)([(0,n.MZ)()],u.prototype,"value",void 0),(0,s._)([(0,n.MZ)()],u.prototype,"onChange",void 0),(0,s._)([(0,n.MZ)()],u.prototype,"open",void 0),(0,s._)([(0,n.MZ)()],u.prototype,"onOpen",void 0),(0,s._)([(0,n.MZ)()],u.prototype,"onClose",void 0),(0,s._)([(0,n.MZ)(),(0,d.G)("esri/widgets/support/t9n/timezone")],u.prototype,"_messages",void 0),(0,s._)([(0,n.MZ)()],u.prototype,"_gmtOffsets",null),(0,s._)([(0,n.MZ)()],u.prototype,"_selectedItem",null),(0,s._)([(0,n.MZ)()],u.prototype,"_selectedId",void 0),u=(0,s._)([(0,o.$)("esri.widgets.support.TimezonePicker")],u)}}]);