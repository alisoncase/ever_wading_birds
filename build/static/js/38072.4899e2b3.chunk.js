"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[36447,38072],{1277:(t,e,i)=>{i.d(e,{C:()=>h,Cr:()=>f,H6:()=>m,LV:()=>c,_I:()=>g,dz:()=>v,fA:()=>u,kb:()=>d,ld:()=>_,sd:()=>p,vt:()=>l});var n=i(64682),r=i(32636),s=i(89227),o=i(28473),a=i(1696);function l(t){return t?{origin:(0,o.o8)(t.origin),vector:(0,o.o8)(t.vector)}:{origin:(0,o.vt)(),vector:(0,o.vt)()}}function c(t,e){const i=O.get();return i.origin=t,i.vector=e,i}function h(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l();return u(t.origin,t.vector,e)}function u(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l();return(0,s.c)(i.origin,t),(0,s.c)(i.vector,e),i}function f(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l();return(0,s.c)(i.origin,t),(0,s.d)(i.vector,e,t),i}function d(t,e){const i=(0,s.d)(a.rq.get(),e,t.origin),r=(0,s.f)(t.vector,i),o=(0,s.f)(t.vector,t.vector),l=(0,n.qE)(r/o,0,1),c=(0,s.d)(a.rq.get(),(0,s.h)(a.rq.get(),t.vector,l),i);return(0,s.f)(c,c)}function g(t,e,i){return m(t,e,0,1,i)}function p(t,e,i){return(0,s.g)(i,t.origin,(0,s.h)(i,t.vector,e))}function m(t,e,i,r,o){const{vector:l,origin:c}=t,h=(0,s.d)(a.rq.get(),e,c),u=(0,s.f)(l,h)/(0,s.k)(l);return(0,s.h)(o,l,(0,n.qE)(u,i,r)),(0,s.g)(o,o,t.origin)}function v(t,e){if(T(t,c(e.origin,e.direction),!1,y)){const{tA:e,pB:i,distance2:n}=y;if(e>=0&&e<=1)return n;if(e<0)return(0,s.s)(t.origin,i);if(e>1)return(0,s.s)((0,s.g)(a.rq.get(),t.origin,t.vector),i)}return null}function _(t,e,i){return!!T(t,e,!0,y)&&((0,s.c)(i,y.pA),!0)}function T(t,e,i,r){const o=1e-6,l=t.origin,c=(0,s.g)(a.rq.get(),l,t.vector),h=e.origin,u=(0,s.g)(a.rq.get(),h,e.vector),f=a.rq.get(),d=a.rq.get();if(f[0]=l[0]-h[0],f[1]=l[1]-h[1],f[2]=l[2]-h[2],d[0]=u[0]-h[0],d[1]=u[1]-h[1],d[2]=u[2]-h[2],Math.abs(d[0])<o&&Math.abs(d[1])<o&&Math.abs(d[2])<o)return!1;const g=a.rq.get();if(g[0]=c[0]-l[0],g[1]=c[1]-l[1],g[2]=c[2]-l[2],Math.abs(g[0])<o&&Math.abs(g[1])<o&&Math.abs(g[2])<o)return!1;const p=f[0]*d[0]+f[1]*d[1]+f[2]*d[2],m=d[0]*g[0]+d[1]*g[1]+d[2]*g[2],v=f[0]*g[0]+f[1]*g[1]+f[2]*g[2],_=d[0]*d[0]+d[1]*d[1]+d[2]*d[2],T=(g[0]*g[0]+g[1]*g[1]+g[2]*g[2])*_-m*m;if(Math.abs(T)<o)return!1;let y=(p*m-v*_)/T,O=(p+m*y)/_;i&&(y=(0,n.qE)(y,0,1),O=(0,n.qE)(O,0,1));const R=a.rq.get(),b=a.rq.get();return R[0]=l[0]+y*g[0],R[1]=l[1]+y*g[1],R[2]=l[2]+y*g[2],b[0]=h[0]+O*d[0],b[1]=h[1]+O*d[1],b[2]=h[2]+O*d[2],r.tA=y,r.tB=O,r.pA=R,r.pB=b,r.distance2=(0,s.s)(R,b),!0}const y={tA:0,tB:0,pA:(0,o.vt)(),pB:(0,o.vt)(),distance2:0},O=new r.I((()=>l()))},1700:(t,e,i)=>{i.d(e,{$e:()=>a,Eo:()=>l,j1:()=>c,mO:()=>h,vt:()=>o});var n=i(32636),r=i(89227),s=i(91102);function o(t){return t?{ray:(0,s.vt)(t.ray),c0:t.c0,c1:t.c1}:{ray:(0,s.vt)(),c0:0,c1:Number.MAX_VALUE}}function a(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o();return(0,s.C)(t,e.ray),e.c0=0,e.c1=Number.MAX_VALUE,e}function l(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o();const n=(0,r.l)(t.vector);return(0,s.fA)(t.origin,e,i.ray),i.c0=0,i.c1=n,i}function c(t,e){return u(t,t.c0,e)}function h(t,e){return u(t,t.c1,e)}function u(t,e,i){return(0,r.g)(i,t.ray.origin,(0,r.h)(i,t.ray.direction,e))}new n.I((()=>o()))},4128:(t,e,i)=>{i.r(e),i.d(e,{default:()=>y});var n=i(93800),r=i(6946),s=i(89129),o=i(79953),a=i(48602),l=(i(21265),i(50925)),c=(i(14746),i(75269)),h=i(64566),u=i(58448),f=i(93321),d=i(90772),g=i(73381),p=i(36447),m=i(4742);let v=class extends u.A.EventedAccessor{constructor(t){super(t),this.demResolution={min:-1,max:-1},this.noDataValue=m.sH}initialize(){this.view.basemapTerrain.on("elevation-change",(()=>this.emit("changed",{})))}get extent(){const t=this.view.basemapTerrain;if(null==t?.extent||null==t.spatialReference)return null;const e=(0,d.w1)(t.extent,t.spatialReference);return e.zmin=t.visibleElevationBounds.min,e.zmax=t.visibleElevationBounds.max,e}get spatialReference(){return this.view.basemapTerrain?.spatialReference??f.default.WGS84}elevationAt(t,e){if(null==this.extent||!(0,g.lB)(this.extent,t,e)){const i=null!=this.extent?`${this.extent.xmin}, ${this.extent.ymin}, ${this.extent.xmax}, ${this.extent.ymax}`:null;return l.A.getLogger(this).warn("#elevationAt()",`Point used to sample elevation (${t}, ${e}) is outside of the sampler extent (${i})`),this.noDataValue}return this.view.elevationProvider?.getElevation(t,e,0,this.spatialReference,"ground")??this.noDataValue}queryElevation(t){return(0,p.updateGeometryElevation)(t.clone(),this)}};(0,n._)([(0,a.MZ)({readOnly:!0})],v.prototype,"demResolution",void 0),(0,n._)([(0,a.MZ)({readOnly:!0})],v.prototype,"extent",null),(0,n._)([(0,a.MZ)({readOnly:!0})],v.prototype,"noDataValue",void 0),(0,n._)([(0,a.MZ)()],v.prototype,"spatialReference",null),(0,n._)([(0,a.MZ)({constructOnly:!0})],v.prototype,"view",void 0),v=(0,n._)([(0,c.$)("esri.views.support.GroundViewElevationSampler")],v);const _=v;let T=class extends r.default{constructor(t){super(t),this.view=null,this.layerViews=new s.default}initialize(){this.addHandles((0,o.when)((()=>this.view?.map?.ground),(t=>t.load()))),this.addHandles(this.layerViews.on("after-changes",(()=>this._layerViewsAfterChangesHandler())))}destroy(){this._set("view",null);for(const t of this.layerViews)t.destroy();this.layerViews.length=0}get elevationSampler(){return this.view?"2d"===this.view.type?null:this.view.ready&&this.view.basemapTerrain&&this.view.basemapTerrain.ready?new _({view:this.view}):null:null}get extent(){const t=this.view;return t&&"2d"!==t.type&&t.ready?(0,h.w1)(t,t.state.camera,t.pointsOfInterest.centerOnSurfaceFrequent.renderLocation):null}get updating(){return!this.suspended&&this.layerViews.some((t=>t.updating))}get suspended(){return this.view?.suspended??!0}_layerViewsAfterChangesHandler(){this.removeHandles("updating"),this.addHandles(this.layerViews.map((t=>(0,o.watch)((()=>t.updating),(()=>this._updateUpdating()),o.sync))).toArray(),"updating"),this._updateUpdating()}_updateUpdating(){this.notifyChange("updating")}};(0,n._)([(0,a.MZ)({readOnly:!0})],T.prototype,"elevationSampler",null),(0,n._)([(0,a.MZ)({readOnly:!0})],T.prototype,"extent",null),(0,n._)([(0,a.MZ)({type:Boolean,readOnly:!0})],T.prototype,"updating",null),(0,n._)([(0,a.MZ)({constructOnly:!0})],T.prototype,"view",void 0),(0,n._)([(0,a.MZ)({type:s.default,readOnly:!0})],T.prototype,"layerViews",void 0),(0,n._)([(0,a.MZ)({readOnly:!0})],T.prototype,"suspended",null),T=(0,n._)([(0,c.$)("esri.views.GroundView")],T);const y=T},4742:(t,e,i)=>{i.d(e,{CU:()=>l,EY:()=>h,Me:()=>a,P2:()=>g,SR:()=>o,cf:()=>u,hB:()=>d,nU:()=>p,sH:()=>c,yt:()=>f});var n=i(64682),r=i(90772),s=i(49386);const o=64,a=512,l=2.5,c=(0,n.$8)(n.pq/10),h=2,u=(0,r.vt)();s.n.WebMercatorAuxiliarySphere.getExtent(0,0,0,u);const f=(0,r.vt)([-180,-90,180,90]),d="Cannot extend surface to encompass all layers because it would result in too many root tiles.",g="Surface extent is too large for tile resolution at level 0.",p=4},8609:(t,e,i)=>{i.d(e,{G7:()=>R,TH:()=>p,hz:()=>_});var n=i(87752),r=i(10382),s=i(89227),o=i(28473),a=i(60548),l=i(24646),c=i(91102),h=i(51064),u=i(92453),f=i(15828),d=i(27464),g=i(64863);const p=1e-5;class m{constructor(t){this.options=new u.H6,this._results=new T,this.transform=new g.dg,this.tolerance=p,this.verticalOffset=null,this._ray=(0,c.vt)(),this._rayEnd=(0,o.vt)(),this._rayBeginTransformed=(0,o.vt)(),this._rayEndTransformed=(0,o.vt)(),this.viewingMode=t??h.RT.Global}get results(){return this._results}get ray(){return this._ray}get rayBegin(){return this._ray.origin}get rayEnd(){return this._rayEnd}reset(t,e,i){this.resetWithRay((0,c.Cr)(t,e,this._ray),i)}resetWithRay(t,e){this.camera=e,t!==this._ray&&(0,c.C)(t,this._ray),0!==this.options.verticalOffset?this.viewingMode===h.RT.Local?this._ray.origin[2]-=this.options.verticalOffset:this.verticalOffset=this.options.verticalOffset:this.verticalOffset=null,(0,s.g)(this._rayEnd,this._ray.origin,this._ray.direction),this._results.init(this._ray)}intersect(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;this.point=e,this.filterPredicate=n,this.tolerance=i??p;const s=(0,g.ou)(this.verticalOffset);if(t&&t.length>0){const e=r?t=>{r(t)&&this.intersectObject(t)}:t=>{this.intersectObject(t)};for(const i of t){const t=i.getSpatialQueryAccelerator?.();null!=t?(null!=s?t.forEachAlongRayWithVerticalOffset(this._ray.origin,this._ray.direction,e,s):t.forEachAlongRay(this._ray.origin,this._ray.direction,e),this.options.selectionMode&&this.options.hud&&t.forEachDegenerateObject(e)):i.objects.forAll((t=>e(t)))}}this.sortResults()}intersectObject(t){const e=t.geometries;if(!e)return;const i=t.effectiveTransformation,n=(0,g.ou)(this.verticalOffset);for(const o of e){if(!o.visible)continue;const{material:e,id:a}=o;if(!e.visible)continue;this.transform.setAndInvalidateLazyTransforms(i,o.transformation),(0,s.t)(this._rayBeginTransformed,this.rayBegin,this.transform.inverse),(0,s.t)(this._rayEndTransformed,this.rayEnd,this.transform.inverse);const l=this.transform.transform;null!=n&&(n.objectTransform=this.transform),e.intersect(o,this.transform.transform,this,this._rayBeginTransformed,this._rayEndTransformed,((e,i,n,s,o,c)=>{if(e>=0){if(null!=this.filterPredicate&&!this.filterPredicate(this._ray.origin,this._rayEnd,e))return;const h=s?this._results.hud:this._results,d=s?s=>{const l=new f.B$(t,a,n,c);s.set(u.dz.HUD,l,e,i,r.zK,o)}:r=>r.set(u.dz.OBJECT,{object:t,geometryId:a,triangleNr:n},e,i,l,o);if((null==h.min.drapedLayerOrder||o>=h.min.drapedLayerOrder)&&(null==h.min.dist||e<h.min.dist)&&d(h.min),this.options.store!==u.oH.MIN&&(null==h.max.drapedLayerOrder||o<h.max.drapedLayerOrder)&&(null==h.max.dist||e>h.max.dist)&&d(h.max),this.options.store===u.oH.ALL)if(s){const t=new O(this._ray);d(t),this._results.hud.all.push(t)}else{const t=new y(this._ray);d(t),this._results.all.push(t)}}}))}}sortResults(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._results.all).sort(((t,e)=>t.dist!==e.dist?(t.dist??0)-(e.dist??0):t.drapedLayerOrder!==e.drapedLayerOrder?v(t.drapedLayerOrder,e.drapedLayerOrder):v(t.drapedLayerGraphicOrder,e.drapedLayerGraphicOrder)))}}function v(t,e){return(e??-Number.MAX_VALUE)-(t??-Number.MAX_VALUE)}function _(t){return new m(t)}class T{constructor(){this.min=new y((0,c.vt)()),this.max=new y((0,c.vt)()),this.hud={min:new O((0,c.vt)()),max:new O((0,c.vt)()),all:new Array},this.ground=new y((0,c.vt)()),this.all=[]}init(t){this.min.init(t),this.max.init(t),this.ground.init(t),this.all.length=0,this.hud.min.init(t),this.hud.max.init(t),this.hud.all.length=0}}class y{get ray(){return this._ray}get distanceInRenderSpace(){return null!=this.dist?((0,s.h)(b,this.ray.direction,this.dist),(0,s.l)(b)):null}withinDistance(t){return!!(0,d.i3)(this)&&this.distanceInRenderSpace<=t}getIntersectionPoint(t){return!!(0,d.i3)(this)&&((0,s.h)(b,this.ray.direction,this.dist),(0,s.g)(t,this.ray.origin,b),!0)}getTransformedNormal(t){return(0,s.c)(A,this.normal),A[3]=0,(0,a.t)(A,A,this.transformation),(0,s.c)(t,A),(0,s.n)(t,t)}constructor(t){this.intersector=u.dz.OBJECT,this.normal=(0,o.vt)(),this.transformation=(0,r.vt)(),this._ray=(0,c.vt)(),this.init(t)}init(t){this.dist=null,this.target=null,this.drapedLayerOrder=null,this.drapedLayerGraphicOrder=null,this.intersector=u.dz.OBJECT,(0,c.C)(t,this._ray)}set(t,e,i,a,l,c,h){this.intersector=t,this.dist=i,(0,s.c)(this.normal,a??o.Cb),(0,n.C)(this.transformation,l??r.zK),this.target=e,this.drapedLayerOrder=c,this.drapedLayerGraphicOrder=h}copy(t){(0,c.C)(t.ray,this._ray),this.intersector=t.intersector,this.dist=t.dist,this.target=t.target,this.drapedLayerOrder=t.drapedLayerOrder,this.drapedLayerGraphicOrder=t.drapedLayerGraphicOrder,(0,s.c)(this.normal,t.normal),(0,n.C)(this.transformation,t.transformation)}}class O extends y{constructor(){super(...arguments),this.intersector=u.dz.HUD}}function R(t){return new y(t)}const b=(0,o.vt)(),A=(0,l.vt)()},12096:(t,e,i)=>{i.d(e,{C:()=>v,DV:()=>T,FB:()=>n,J7:()=>r,Qy:()=>m,ST:()=>b,YH:()=>w,bU:()=>A,c8:()=>x,ig:()=>R,m7:()=>y,pw:()=>O,ui:()=>_,vt:()=>p});var n,r,s,o=i(32636),a=i(87752),l=i(89227),c=i(28473),h=i(60548),u=i(24646),f=i(1700),d=i(10872),g=i(1696);function p(t){return t?[(0,d.vt)(t[0]),(0,d.vt)(t[1]),(0,d.vt)(t[2]),(0,d.vt)(t[3]),(0,d.vt)(t[4]),(0,d.vt)(t[5])]:[(0,d.vt)(),(0,d.vt)(),(0,d.vt)(),(0,d.vt)(),(0,d.vt)(),(0,d.vt)()]}function m(){return[(0,c.vt)(),(0,c.vt)(),(0,c.vt)(),(0,c.vt)(),(0,c.vt)(),(0,c.vt)(),(0,c.vt)(),(0,c.vt)()]}function v(t,e){for(let i=0;i<w;i++)(0,d.C)(t[i],e[i]);return t}function _(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:F;const r=(0,a.lw)(g.Rc.get(),e,t);(0,a.B8)(r,r);for(let s=0;s<E;++s){const t=(0,h.t)(g.Km.get(),L[s],r);(0,l.i)(n[s],t[0]/t[3],t[1]/t[3],t[2]/t[3])}T(i,n)}function T(t,e){(0,d.Cr)(e[r.FAR_BOTTOM_LEFT],e[r.NEAR_BOTTOM_LEFT],e[r.NEAR_TOP_LEFT],t[n.LEFT]),(0,d.Cr)(e[r.NEAR_BOTTOM_RIGHT],e[r.FAR_BOTTOM_RIGHT],e[r.FAR_TOP_RIGHT],t[n.RIGHT]),(0,d.Cr)(e[r.FAR_BOTTOM_LEFT],e[r.FAR_BOTTOM_RIGHT],e[r.NEAR_BOTTOM_RIGHT],t[n.BOTTOM]),(0,d.Cr)(e[r.NEAR_TOP_LEFT],e[r.NEAR_TOP_RIGHT],e[r.FAR_TOP_RIGHT],t[n.TOP]),(0,d.Cr)(e[r.NEAR_BOTTOM_LEFT],e[r.NEAR_BOTTOM_RIGHT],e[r.NEAR_TOP_RIGHT],t[n.NEAR]),(0,d.Cr)(e[r.FAR_BOTTOM_RIGHT],e[r.FAR_BOTTOM_LEFT],e[r.FAR_TOP_LEFT],t[n.FAR])}function y(t,e){for(let i=0;i<w;i++){const n=t[i];if(n[0]*e[0]+n[1]*e[1]+n[2]*e[2]+n[3]>=e[3])return!1}return!0}function O(t,e){return M(t,(0,f.$e)(e,I.get()))}function R(t,e){for(let i=0;i<w;i++){const n=t[i];if(!(0,d.b6)(n,e))return!1}return!0}function b(t,e,i){return M(t,(0,f.Eo)(e,i,I.get()))}function A(t,e){for(let i=0;i<w;i++)if((0,d.mN)(t[i],e)>0)return!1;return!0}function M(t,e){for(let i=0;i<w;i++)if(!(0,d.$Q)(t[i],e))return!1;return!0}(s=n||(n={}))[s.LEFT=0]="LEFT",s[s.RIGHT=1]="RIGHT",s[s.BOTTOM=2]="BOTTOM",s[s.TOP=3]="TOP",s[s.NEAR=4]="NEAR",s[s.FAR=5]="FAR",function(t){t[t.NEAR_BOTTOM_LEFT=0]="NEAR_BOTTOM_LEFT",t[t.NEAR_BOTTOM_RIGHT=1]="NEAR_BOTTOM_RIGHT",t[t.NEAR_TOP_RIGHT=2]="NEAR_TOP_RIGHT",t[t.NEAR_TOP_LEFT=3]="NEAR_TOP_LEFT",t[t.FAR_BOTTOM_LEFT=4]="FAR_BOTTOM_LEFT",t[t.FAR_BOTTOM_RIGHT=5]="FAR_BOTTOM_RIGHT",t[t.FAR_TOP_RIGHT=6]="FAR_TOP_RIGHT",t[t.FAR_TOP_LEFT=7]="FAR_TOP_LEFT"}(r||(r={}));const x={bottom:[r.FAR_BOTTOM_RIGHT,r.NEAR_BOTTOM_RIGHT,r.NEAR_BOTTOM_LEFT,r.FAR_BOTTOM_LEFT],near:[r.NEAR_BOTTOM_LEFT,r.NEAR_BOTTOM_RIGHT,r.NEAR_TOP_RIGHT,r.NEAR_TOP_LEFT],far:[r.FAR_BOTTOM_RIGHT,r.FAR_BOTTOM_LEFT,r.FAR_TOP_LEFT,r.FAR_TOP_RIGHT],right:[r.NEAR_BOTTOM_RIGHT,r.FAR_BOTTOM_RIGHT,r.FAR_TOP_RIGHT,r.NEAR_TOP_RIGHT],left:[r.FAR_BOTTOM_LEFT,r.NEAR_BOTTOM_LEFT,r.NEAR_TOP_LEFT,r.FAR_TOP_LEFT],top:[r.FAR_TOP_LEFT,r.NEAR_TOP_LEFT,r.NEAR_TOP_RIGHT,r.FAR_TOP_RIGHT]},w=6,E=8,L=[(0,u.fA)(-1,-1,-1,1),(0,u.fA)(1,-1,-1,1),(0,u.fA)(1,1,-1,1),(0,u.fA)(-1,1,-1,1),(0,u.fA)(-1,-1,1,1),(0,u.fA)(1,-1,1,1),(0,u.fA)(1,1,1,1),(0,u.fA)(-1,1,1,1)],I=new o.I(f.vt),F=m()},13473:(t,e,i)=>{function n(){return[1,0,0,0,1,0,0,0,1]}function r(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]}function s(t,e,i,n,r,s,o,a,l){return[t,e,i,n,r,s,o,a,l]}i.d(e,{fA:()=>s,o8:()=>r,vt:()=>n,zK:()=>o});const o=[1,0,0,0,1,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:o,clone:r,create:n,createView:function(t,e){return new Float64Array(t,e,9)},fromValues:s},Symbol.toStringTag,{value:"Module"}))},15828:(t,e,i)=>{i.d(e,{B$:()=>s,HE:()=>o,R6:()=>a});var n=i(28473);class r{constructor(t,e,i){this.object=t,this.geometryId=e,this.triangleNr=i}}class s extends r{constructor(t,e,i,r){super(t,e,i),this.center=null!=r?(0,n.o8)(r):null}}class o{constructor(t){this.layerUid=t}}class a extends o{constructor(t,e){super(t),this.graphicUid=e}}},25071:(t,e,i)=>{i.d(e,{B:()=>_,a:()=>y,b:()=>Y,c:()=>w,d:()=>T,e:()=>P,f:()=>O,g:()=>A,h:()=>B,i:()=>M,n:()=>G,r:()=>z,t:()=>S,u:()=>R});i(21265);var n=i(50925),r=i(64682),s=i(32636),o=i(87752),a=i(10382),l=i(89227),c=i(28473),h=i(90772),u=i(91345),f=i(1277),d=i(10872),g=i(91102),p=i(49943),m=i(1696);const v=()=>n.A.getLogger("esri.views.3d.support.geometryUtils.boundedPlane");const _=class{constructor(){this.plane=(0,d.vt)(),this.origin=(0,c.vt)(),this.basis1=(0,c.vt)(),this.basis2=(0,c.vt)()}};function T(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j;return{plane:(0,d.vt)(t.plane),origin:(0,c.o8)(t.origin),basis1:(0,c.o8)(t.basis1),basis2:(0,c.o8)(t.basis2)}}function y(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T();return O(t.origin,t.basis1,t.basis2,e)}function O(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:T();return(0,l.c)(n.origin,t),(0,l.c)(n.basis1,e),(0,l.c)(n.basis2,i),R(n),function(t,e){Math.abs((0,l.f)(t.basis1,t.basis2)/((0,l.l)(t.basis1)*(0,l.l)(t.basis2)))>1e-6&&v().warn(e,"Provided basis vectors are not perpendicular"),Math.abs((0,l.f)(t.basis1,G(t)))>1e-6&&v().warn(e,"Basis vectors and plane normal are not perpendicular"),Math.abs(-(0,l.f)(G(t),t.origin)-t.plane[3])>1e-6&&v().warn(e,"Plane offset is not consistent with plane origin")}(n,"fromValues()"),n}function R(t){(0,d.mR)(t.basis2,t.basis1,t.origin,t.plane)}function b(t,e,i){t!==i&&y(t,i);const n=(0,l.h)(m.rq.get(),G(t),e);return(0,l.g)(i.origin,i.origin,n),i.plane[3]-=e,i}function A(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T();const i=(t[2]-t[0])/2,n=(t[3]-t[1])/2;return(0,l.i)(e.origin,t[0]+i,t[1]+n,0),(0,l.i)(e.basis1,i,0,0),(0,l.i)(e.basis2,0,n,0),(0,d.fA)(0,0,1,0,e.plane),e}function M(t,e,i){return!!(0,d.Ui)(t.plane,e,i)&&H(t,i)}function x(t,e,i){const n=k.get();C(t,e,n,k.get());let s=Number.POSITIVE_INFINITY;for(const o of W){const a=q(t,o,U.get()),c=m.rq.get();if((0,d.T7)(n,a,c)){const t=(0,l.o)(m.rq.get(),e.origin,c),n=Math.abs((0,r.XM)((0,l.f)(e.direction,t)));n<s&&(s=n,(0,l.c)(i,c))}}return s===Number.POSITIVE_INFINITY?E(t,e,i):i}function w(t,e){return(e-t)/e}function E(t,e,i){if(M(t,e,i))return i;const n=k.get(),r=k.get();C(t,e,n,r);let s=Number.POSITIVE_INFINITY;for(const o of W){const a=q(t,o,U.get()),c=m.rq.get();if((0,d.gv)(n,a,c)){const t=(0,g.kb)(e,c);if(!(0,d.Tj)(r,c))continue;t<s&&(s=t,(0,l.c)(i,c))}}return F(t,e.origin)<s&&L(t,e.origin,i),i}function L(t,e,i){const n=(0,d._I)(t.plane,e,m.rq.get()),r=(0,f.H6)(V(t,t.basis1),n,-1,1,m.rq.get()),s=(0,f.H6)(V(t,t.basis2),n,-1,1,m.rq.get());return(0,l.d)(i,(0,l.g)(m.rq.get(),r,s),t.origin),i}function I(t,e,i){const{origin:n,basis1:r,basis2:s}=t,o=(0,l.d)(m.rq.get(),e,n),a=(0,p.gr)(r,o),c=(0,p.gr)(s,o),h=(0,p.gr)(G(t),o);return(0,l.i)(i,a,c,h)}function F(t,e){const i=I(t,e,m.rq.get()),{basis1:n,basis2:r}=t,s=(0,l.l)(n),o=(0,l.l)(r),a=Math.max(Math.abs(i[0])-s,0),c=Math.max(Math.abs(i[1])-o,0),h=i[2];return a*a+c*c+h*h}function B(t,e){return Math.sqrt(F(t,e))}function P(t,e){return(0,d.Tj)(t.plane,e)&&H(t,e)}function N(t,e){const i=-t.plane[3];return(0,p.gr)(G(t),e)-i}function S(t,e,i){return t!==i&&y(t,i),(0,o.B8)(Z,e),(0,o.mg)(Z,Z),(0,l.t)(i.basis1,t.basis1,Z),(0,l.t)(i.basis2,t.basis2,Z),(0,l.t)((0,d.Qj)(i.plane),(0,d.Qj)(t.plane),Z),(0,l.t)(i.origin,t.origin,e),(0,d.mP)(i.plane,i.plane,i.origin),i}function z(t,e,i,n){return t!==n&&y(t,n),(0,o.$0)(X,e,i),(0,l.t)(n.basis1,t.basis1,X),(0,l.t)(n.basis2,t.basis2,X),R(n),n}function G(t){return(0,d.Qj)(t.plane)}function H(t,e){const i=(0,l.d)(m.rq.get(),e,t.origin),n=(0,l.k)(t.basis1),r=(0,l.k)(t.basis2),s=(0,l.f)(t.basis1,i),o=(0,l.f)(t.basis2,i);return-s-n<0&&s-n<0&&-o-r<0&&o-r<0}function V(t,e){const i=U.get();return(0,l.c)(i.origin,t.origin),(0,l.c)(i.vector,e),i}function q(t,e,i){const{basis1:n,basis2:r,origin:s}=t,o=(0,l.h)(m.rq.get(),n,e.origin[0]),a=(0,l.h)(m.rq.get(),r,e.origin[1]);(0,l.g)(i.origin,o,a),(0,l.g)(i.origin,i.origin,s);const c=(0,l.h)(m.rq.get(),n,e.direction[0]),h=(0,l.h)(m.rq.get(),r,e.direction[1]);return(0,l.h)(i.vector,(0,l.g)(c,c,h),2),i}function C(t,e,i,n){const r=G(t);(0,d.mR)(r,e.direction,e.origin,i),(0,d.mR)((0,d.Qj)(i),r,e.origin,n)}const j={plane:(0,d.vt)(),origin:(0,c.fA)(0,0,0),basis1:(0,c.fA)(1,0,0),basis2:(0,c.fA)(0,1,0)},k=new s.I(d.vt),U=new s.I(f.vt),$=(0,c.vt)(),D=new s.I((()=>T())),W=[{origin:[-1,-1],direction:[1,0]},{origin:[1,-1],direction:[0,1]},{origin:[1,1],direction:[-1,0]},{origin:[-1,1],direction:[0,-1]}],Z=(0,a.vt)(),X=(0,a.vt)(),Y=Object.freeze(Object.defineProperty({__proto__:null,BoundedPlaneClass:_,altitudeAt:N,axisAt:function(t,e,i,n){return function(t,e,i){switch(e){case u._.X:(0,l.c)(i,t.basis1),(0,l.n)(i,i);break;case u._.Y:(0,l.c)(i,t.basis2),(0,l.n)(i,i);break;case u._.Z:(0,l.c)(i,G(t))}return i}(t,i,n)},cameraFrustumCoverage:w,closestPoint:E,closestPointOnSilhouette:x,copy:y,copyWithoutVerify:function(t,e){(0,l.c)(e.origin,t.origin),(0,l.c)(e.basis1,t.basis1),(0,l.c)(e.basis2,t.basis2),(0,d.C)(e.plane,t.plane)},create:T,distance:B,distance2:F,distanceToSilhouette:function(t,e){let i=Number.NEGATIVE_INFINITY;for(const n of W){const r=q(t,n,U.get()),s=(0,f.kb)(r,e);s>i&&(i=s)}return Math.sqrt(i)},elevate:b,equals:function(t,e){return(0,l.p)(t.basis1,e.basis1)&&(0,l.p)(t.basis2,e.basis2)&&(0,l.p)(t.origin,e.origin)},extrusionContainsPoint:P,fromAABoundingRect:A,fromValues:O,getExtent:function(t,e){const i=t.basis1[0],n=t.basis2[1],[r,s]=t.origin;return(0,h.fA)(r-i,s-n,r+i,s+n,e)},intersectRay:M,intersectRayClosestSilhouette:function(t,e,i){if(M(t,e,i))return i;const n=x(t,e,m.rq.get());return(0,l.g)(i,e.origin,(0,l.h)(m.rq.get(),e.direction,(0,l.j)(e.origin,n)/(0,l.l)(e.direction))),i},normal:G,projectPoint:L,projectPointLocal:I,rotate:z,setAltitudeAt:function(t,e,i,n){const r=N(t,e),s=(0,l.h)($,G(t),i-r);return(0,l.g)(n,e,s),n},setExtent:function(t,e,i){return A(e,i),b(i,N(t,t.origin),i),i},transform:S,up:j,updateUnboundedPlane:R,wrap:function(t,e,i){const n=D.get();return n.origin=t,n.basis1=e,n.basis2=i,n.plane=(0,d.LV)(0,0,0,0),R(n),n}},Symbol.toStringTag,{value:"Module"}))},27464:(t,e,i)=>{i.d(e,{$I:()=>c,Q5:()=>l,hH:()=>h,i3:()=>a});var n=i(89227),r=i(28473),s=i(25071),o=i(92453);function a(t){return null!=t?.dist}function l(t){return(e,i,r)=>((0,n.m)(u,e,i,r),!(0,s.e)(t,u))}function c(t){return a(t)&&t.intersector===o.dz.OBJECT&&!!t.target}function h(t){return a(t)&&t.intersector===o.dz.HUD&&!!t.target&&"center"in t.target&&null!=t.target.center}const u=(0,r.vt)()},36447:(t,e,i)=>{i.r(e),i.d(e,{ElevationSamplerBase:()=>h,MultiTileElevationSampler:()=>f,TileElevationSampler:()=>u,updateGeometryElevation:()=>d});i(21265);var n=i(42198),r=i(50925),s=i(84190),o=i(75400),a=i(90772),l=i(5616);const c=()=>r.A.getLogger("esri.layers.support.ElevationSampler");class h{queryElevation(t){return d(t.clone(),this)}on(){return(0,n.hA)()}projectIfRequired(t,e){return g(t,e)}}class u extends h{get spatialReference(){return this.extent.spatialReference}constructor(t,e,i){super(),this.tile=t,this.noDataValue=i;const n=t.tile.extent;this.extent=(0,a.w1)(n,e.spatialReference),this.extent.zmin=t.zmin,this.extent.zmax=t.zmax,this._aaExtent=n;const r=(0,s.GA)(e.spatialReference),o=e.lodAt(t.tile.level).resolution*r;this.demResolution={min:o,max:o}}contains(t){const e=this.projectIfRequired(t,this.spatialReference);return null!=e&&this.containsAt(e.x,e.y)}containsAt(t,e){return(0,a.Rj)(this._aaExtent,t,e)}elevationAt(t,e){if(!this.containsAt(t,e)){const i=this.extent,n=`${i.xmin}, ${i.ymin}, ${i.xmax}, ${i.ymax}`;return c().warn("#elevationAt()",`Point used to sample elevation (${t}, ${e}) is outside of the sampler extent (${n})`),this.noDataValue}return this.tile.sample(t,e)??this.noDataValue}}class f extends h{get spatialReference(){return this.extent.spatialReference}constructor(t,e,i){let n;super(),"number"==typeof e?(this.noDataValue=e,n=null):(n=e,this.noDataValue=i),this.samplers=n?t.map((t=>new u(t,n,this.noDataValue))):t;const r=this.samplers[0];if(r){this.extent=r.extent.clone();const{min:t,max:e}=r.demResolution;this.demResolution={min:t,max:e};for(let i=1;i<this.samplers.length;i++){const t=this.samplers[i];this.extent.union(t.extent),this.demResolution.min=Math.min(this.demResolution.min,t.demResolution.min),this.demResolution.max=Math.max(this.demResolution.max,t.demResolution.max)}}else this.extent=(0,a.w1)((0,a.vt)(),n.spatialReference),this.demResolution={min:0,max:0}}elevationAt(t,e){let i,n=!1;for(const r of this.samplers)if(r.containsAt(t,e)&&(n=!0,i=r.elevationAt(t,e),i!==r.noDataValue))return i;return null!=i?i:(n||c().warn("#elevationAt()",`Point used to sample elevation (${t}, ${e}) is outside of the sampler`),this.noDataValue)}}function d(t,e){const i=g(t,e.spatialReference);if(!i)return null;switch(t.type){case"point":!function(t,e,i){t.z=i.elevationAt(e.x,e.y)}(t,i,e);break;case"polyline":!function(t,e,i){p.spatialReference=e.spatialReference;const n=t.hasM&&!t.hasZ;for(let r=0;r<t.paths.length;r++){const s=t.paths[r],o=e.paths[r];for(let t=0;t<s.length;t++){const e=s[t],r=o[t];p.x=r[0],p.y=r[1],n&&(e[3]=e[2]),e[2]=i.elevationAt(p.x,p.y)}}t.hasZ=!0}(t,i,e);break;case"multipoint":!function(t,e,i){p.spatialReference=e.spatialReference;const n=t.hasM&&!t.hasZ;for(let r=0;r<t.points.length;r++){const s=t.points[r],o=e.points[r];p.x=o[0],p.y=o[1],n&&(s[3]=s[2]),s[2]=i.elevationAt(p.x,p.y)}t.hasZ=!0}(t,i,e)}return t}function g(t,e){if(null==t)return null;const i=t.spatialReference;if(i.equals(e))return t;const n=(0,l.project)(t,e);return n||c().error(`Cannot project geometry spatial reference (wkid:${i.wkid}) to elevation sampler spatial reference (wkid:${e.wkid})`),n}const p=new o.default},49386:(t,e,i)=>{i.d(e,{P:()=>p,n:()=>g});var n=i(74719),r=(i(21265),i(64682)),s=i(84190),o=i(12560),a=i(75400),l=i(93321),c=i(90772),h=i(70576),u=i(5616),f=i(29275),d=i(4126);class g{constructor(t){const e=g.checkUnsupported(t);if(null!=e)throw e;const i=t;this.spatialReference=i.spatialReference,this._isWebMercator=this.spatialReference.isWebMercator,this._isGCS=(0,h.EA)(this.spatialReference),this.origin=[i.origin.x,i.origin.y],this.pixelSize=i.size[0],this.dpi=i.dpi;const n=i.lods.reduce(((t,e)=>(e.level<t.minLod.level&&(t.minLod=e),t.max=Math.max(t.max,e.level),t)),{minLod:i.lods[0],max:-1/0}),r=n.minLod,s=2**r.level;let o=r.resolution*s,a=r.scale*s;this.levels=new Array(n.max+1);for(let l=0;l<this.levels.length;l++)this.levels[l]={resolution:o,scale:a,tileSize:[o*i.size[0],o*i.size[1]]},o/=2,a/=2}clone(){return new g(this.toTileInfo())}toTileInfo(){return new d.default({dpi:this.dpi,origin:new a.default({x:this.origin[0],y:this.origin[1],spatialReference:this.spatialReference}),size:[this.pixelSize,this.pixelSize],spatialReference:this.spatialReference,lods:this.levels.map(((t,e)=>new f.default({level:e,scale:t.scale,resolution:t.resolution})))})}getExtent(t,e,i,n){const r=this.levels[t],s=r.tileSize[0],o=r.tileSize[1];n[0]=this.origin[0]+i*s,n[2]=this.origin[0]+(i+1)*s,n[3]=this.origin[1]-e*o,n[1]=this.origin[1]-(e+1)*o}convertExtentToRadians(t,e){this._isWebMercator?(e[0]=(0,u.x2lon)(t[0]),e[1]=(0,u.y2lat)(t[1]),e[2]=(0,u.x2lon)(t[2]),e[3]=(0,u.y2lat)(t[3])):this._isGCS&&(e[0]=(0,r.kU)(t[0]),e[1]=(0,r.kU)(t[1]),e[2]=(0,r.kU)(t[2]),e[3]=(0,r.kU)(t[3]))}getExtentGeometry(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new o.default;return this.getExtent(t,e,i,m),n.spatialReference=this.spatialReference,n.xmin=m[0],n.ymin=m[1],n.xmax=m[2],n.ymax=m[3],n.zmin=void 0,n.zmax=void 0,n}ensureMaxLod(t){if(null==t)return!1;let e=!1;for(;this.levels.length<=t;){const{resolution:t,scale:i}=this.levels[this.levels.length-1],n=t/2*this.pixelSize;this.levels.push({resolution:t/2,scale:i/2,tileSize:[n,n]}),e=!0}return e}capMaxLod(t){this.levels.length>t+1&&(this.levels.length=t+1)}getMaxLod(){return this.levels.length-1}scaleAtLevel(t){return this.levels[0].scale/2**t}levelAtScale(t){const e=this.levels[0].scale;return t>=e?0:Math.log(e/t)*Math.LOG2E}resolutionAtLevel(t){return this.levels[0].resolution/2**t}compatibleWith(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;if(g.checkUnsupported(t))return!1;const i=new g(t);if(!i.spatialReference.equals(this.spatialReference))return!1;if(i.pixelSize!==this.pixelSize)return!1;const n=Math.min(this.levels.length-1,i.levels.length-1,e),s=this.levels[n].resolution;let o=.5*s;return!(!(0,r.Sp)(i.origin[0],this.origin[0],o)||!(0,r.Sp)(i.origin[1],this.origin[1],o))&&(o=.5*s/2**n/this.pixelSize*12,(0,r.Sp)(s,i.levels[n].resolution,o))}rootTilesInExtent(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;const n=new Array,r=this.levels[0].tileSize;if(null==t||0===r[0]||0===r[1])return n;g.computeRowColExtent(t,r,this.origin,m);let s=m[1],o=m[3],a=m[0],l=m[2];const c=l-a,h=o-s;if(c*h>i){const t=Math.floor(Math.sqrt(i));h>t&&(s=s+Math.floor(.5*h)-Math.floor(.5*t),o=s+t),c>t&&(a=a+Math.floor(.5*c)-Math.floor(.5*t),l=a+t)}for(let u=s;u<o;u++)for(let t=a;t<l;t++)n.push([0,u,t]);return null!=e&&(e[0]=this.origin[0]+a*r[0],e[1]=this.origin[1]-o*r[1],e[2]=this.origin[0]+l*r[0],e[3]=this.origin[1]-s*r[1]),n}static computeRowColExtent(t,e,i,n){const r=.001*(t[2]-t[0]+(t[3]-t[1]));n[0]=Math.max(0,Math.floor((t[0]+r-i[0])/e[0])),n[2]=Math.max(0,Math.ceil((t[2]-r-i[0])/e[0])),n[1]=Math.max(0,Math.floor((i[1]-t[3]+r)/e[1])),n[3]=Math.max(0,Math.ceil((i[1]-t[1]-r)/e[1]))}static isPowerOfTwo(t){const e=t.lods,i=e[0].resolution*2**e[0].level;return!e.some((t=>!(0,r.b6)(t.resolution,i/2**t.level)))}static hasGapInLevels(t){const e=t.lods.map((t=>t.level));e.sort(((t,e)=>t-e));for(let i=1;i<e.length;i++)if(e[i]!==e[0]+i)return!0;return!1}static tileSizeSupported(t){const e=t.size[1];return e===t.size[0]&&!(e&e-1)&&e>=128&&e<=512}static hasOriginPerLODs(t){const e=t.origin;return t.lods.some((t=>null!=t.origin&&(t.origin[0]!==e.x||t.origin[1]!==e.y)))}static getMissingTileInfoError(){return new n.default("tilingscheme:tile-info-missing","Tiling scheme must have tiling information")}static checkUnsupported(t){return null==t?p():t.lods.length<1?new n.default("tilingscheme:generic","Tiling scheme must have at least one level"):g.isPowerOfTwo(t)?g.hasGapInLevels(t)?new n.default("tilingscheme:gaps","Tiling scheme levels must not have gaps between min and max level"):g.tileSizeSupported(t)?g.hasOriginPerLODs(t)?new n.default("tilingscheme:multiple-origin","Tiling scheme levels must not have their own origin"):null:new n.default("tilingscheme:tile-size","Tiles must be square and size must be one of [128, 256, 512]"):new n.default("tilingscheme:power-of-two","Tiling scheme must be power of two")}static fromExtent(t,e){const i=t[2]-t[0],n=t[3]-t[1],r=(0,s.GA)(e),o=1.2*Math.max(i,n),l=o/256,c=l*r*(96/.0254),h=new g(new d.default({size:[256,256],origin:new a.default({x:t[0]-.5*(o-i),y:t[3]+.5*(o-n)}),lods:[new f.default({level:0,resolution:l,scale:c})],spatialReference:e}));return h.ensureMaxLod(20),h}static makeWebMercatorAuxiliarySphere(t){const e=new g(g.WebMercatorAuxiliarySphereTileInfo);return e.ensureMaxLod(t),e}static makeGCSWithTileSize(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16;const n=256/e,r=new g(new d.default({size:[e,e],origin:new a.default({x:-180,y:90,spatialReference:t}),spatialReference:t,lods:[new f.default({level:0,resolution:.703125*n,scale:295497598.570834*n})]}));return r.ensureMaxLod(i),r}get test(){}}function p(){return new n.default("tilingscheme:tile-info-missing","Tiling scheme must have tiling information")}g.WebMercatorAuxiliarySphereTileInfo=new d.default({size:[256,256],origin:new a.default({x:-20037508.342787,y:20037508.342787,spatialReference:l.default.WebMercator}),spatialReference:l.default.WebMercator,lods:[new f.default({level:0,resolution:156543.03392800014,scale:591657527.591555})]}),g.WebMercatorAuxiliarySphere=g.makeWebMercatorAuxiliarySphere(19);const m=(0,c.vt)()},49807:(t,e,i)=>{function n(t){return"point"===t.type}i.d(e,{v:()=>n})},62240:(t,e,i)=>{function n(t,e,i,n){return{x:t,y:e,z:i,hasZ:null!=i,hasM:!1,spatialReference:n,type:"point"}}function r(t,e,i,n,r){t.x=e,t.y=i,t.z=n,t.hasZ=null!=n,t.spatialReference=r}i.d(e,{J:()=>r,T:()=>n})},64863:(t,e,i)=>{i.d(e,{XG:()=>v,dd:()=>T,dg:()=>f,fo:()=>y,ou:()=>p});var n=i(67965),r=i(13473),s=i(87752),o=i(10382),a=i(89227),l=i(28473),c=i(89476),h=i(51064),u=i(99717);class f{constructor(){this._transform=(0,o.vt)(),this._transformInverse=new d({value:this._transform},s.B8,o.vt),this._transformInverseTranspose=new d(this._transformInverse,s.mg,o.vt),this._transformTranspose=new d({value:this._transform},s.mg,o.vt),this._transformInverseRotation=new d({value:this._transform},n.dR,r.vt)}_invalidateLazyTransforms(){this._transformInverse.invalidate(),this._transformInverseTranspose.invalidate(),this._transformTranspose.invalidate(),this._transformInverseRotation.invalidate()}get transform(){return this._transform}get inverse(){return this._transformInverse.value}get inverseTranspose(){return this._transformInverseTranspose.value}get inverseRotation(){return this._transformInverseRotation.value}get transpose(){return this._transformTranspose.value}setTransformMatrix(t){(0,s.C)(this._transform,t)}multiplyTransform(t){(0,s.lw)(this._transform,this._transform,t)}set(t){(0,s.C)(this._transform,t),this._invalidateLazyTransforms()}setAndInvalidateLazyTransforms(t,e){this.setTransformMatrix(t),this.multiplyTransform(e),this._invalidateLazyTransforms()}}class d{constructor(t,e,i){this._original=t,this._update=e,this._dirty=!0,this._transform=i()}invalidate(){this._dirty=!0}get value(){return this._dirty&&(this._update(this._transform,this._original.value),this._dirty=!1),this._transform}}const g=new class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.offset=t,this.sphere=(0,c.c)(),this.tmpVertex=(0,l.vt)()}applyToVertex(t,e,i){const n=this.objectTransform.transform,r=(0,a.i)(O,t,e,i),s=(0,a.t)(r,r,n),o=this.offset/(0,a.l)(s);(0,a.b)(s,s,s,o);const l=this.objectTransform.inverse;return(0,a.t)(this.tmpVertex,s,l),this.tmpVertex}applyToMinMax(t,e){const i=this.offset/(0,a.l)(t);(0,a.b)(t,t,t,i);const n=this.offset/(0,a.l)(e);(0,a.b)(e,e,e,n)}applyToAabb(t){const e=this.offset/Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]+=t[0]*e,t[1]+=t[1]*e,t[2]+=t[2]*e;const i=this.offset/Math.sqrt(t[3]*t[3]+t[4]*t[4]+t[5]*t[5]);return t[3]+=t[3]*i,t[4]+=t[4]*i,t[5]+=t[5]*i,t}applyToBoundingSphere(t){const e=(0,a.l)((0,c.a)(t)),i=this.offset/e;return(0,a.b)((0,c.a)(this.sphere),(0,c.a)(t),(0,c.a)(t),i),this.sphere[3]=t[3]+t[3]*this.offset/e,this.sphere}};function p(t){return null!=t?(g.offset=t,g):null}const m=new class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.componentLocalOriginLength=0,this._totalOffset=0,this._offset=0,this._tmpVertex=(0,l.vt)(),this._tmpMbs=(0,c.c)(),this._tmpObb=new u.ab,this._resetOffset(t)}_resetOffset(t){this._offset=t,this._totalOffset=t}set offset(t){this._resetOffset(t)}get offset(){return this._offset}set componentOffset(t){this._totalOffset=this._offset+t}set localOrigin(t){this.componentLocalOriginLength=(0,a.l)(t)}applyToVertex(t,e,i){const n=(0,a.i)(O,t,e,i),r=(0,a.i)(R,t,e,i+this.componentLocalOriginLength),s=this._totalOffset/(0,a.l)(r);return(0,a.b)(this._tmpVertex,n,r,s),this._tmpVertex}applyToAabb(t){const e=this.componentLocalOriginLength,i=t[0],n=t[1],r=t[2]+e,s=t[3],o=t[4],a=t[5]+e,l=Math.abs(i),c=Math.abs(n),h=Math.abs(r),u=Math.abs(s),f=Math.abs(o),d=Math.abs(a),g=.5*(1+Math.sign(i*s))*Math.min(l,u),p=.5*(1+Math.sign(n*o))*Math.min(c,f),m=.5*(1+Math.sign(r*a))*Math.min(h,d),v=Math.max(l,u),_=Math.max(c,f),T=Math.max(h,d),y=Math.sqrt(g*g+p*p+m*m),O=Math.sign(l+i),R=Math.sign(c+n),b=Math.sign(h+r),A=Math.sign(u+s),M=Math.sign(f+o),x=Math.sign(d+a),w=this._totalOffset;if(y<w)return t[0]-=(1-O)*w,t[1]-=(1-R)*w,t[2]-=(1-b)*w,t[3]+=A*w,t[4]+=M*w,t[5]+=x*w,t;const E=w/Math.sqrt(v*v+_*_+T*T),L=w/y,I=L-E,F=-I;return t[0]+=i*(O*F+L),t[1]+=n*(R*F+L),t[2]+=r*(b*F+L),t[3]+=s*(A*I+E),t[4]+=o*(M*I+E),t[5]+=a*(x*I+E),t}applyToMbs(t){const e=(0,a.l)((0,c.a)(t)),i=this._totalOffset/e;return(0,a.b)((0,c.a)(this._tmpMbs),(0,c.a)(t),(0,c.a)(t),i),this._tmpMbs[3]=t[3]+t[3]*this._totalOffset/e,this._tmpMbs}applyToObb(t){return(0,u.gm)(t,this._totalOffset,this._totalOffset,h.RT.Global,this._tmpObb),this._tmpObb}};function v(t){return null!=t?(m.offset=t,m):null}const _=new class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.offset=t,this.tmpVertex=(0,l.vt)()}applyToVertex(t,e,i){const n=(0,a.i)(O,t,e,i),r=(0,a.g)(R,n,this.localOrigin),s=this.offset/(0,a.l)(r);return(0,a.b)(this.tmpVertex,n,r,s),this.tmpVertex}applyToAabb(t){const e=b,i=A,n=M;for(let a=0;a<3;++a)e[a]=t[0+a]+this.localOrigin[a],i[a]=t[3+a]+this.localOrigin[a],n[a]=e[a];const r=this.applyToVertex(e[0],e[1],e[2]);for(let a=0;a<3;++a)t[a]=r[a],t[a+3]=r[a];const s=e=>{const i=this.applyToVertex(e[0],e[1],e[2]);for(let n=0;n<3;++n)t[n]=Math.min(t[n],i[n]),t[n+3]=Math.max(t[n+3],i[n])};for(let a=1;a<8;++a){for(let t=0;t<3;++t)n[t]=a&1<<t?i[t]:e[t];s(n)}let o=0;for(let a=0;a<3;++a)e[a]*i[a]<0&&(o|=1<<a);if(0!==o&&7!==o)for(let a=0;a<8;++a)if(!(o&a)){for(let t=0;t<3;++t)n[t]=o&1<<t?0:a&1<<t?e[t]:i[t];s(n)}for(let a=0;a<3;++a)t[a]-=this.localOrigin[a],t[a+3]-=this.localOrigin[a];return t}};function T(t){return null!=t?(_.offset=t,_):null}const y="terrain",O=(0,l.vt)(),R=(0,l.vt)(),b=(0,l.vt)(),A=(0,l.vt)(),M=(0,l.vt)()},92453:(t,e,i)=>{var n,r;i.d(e,{H6:()=>s,dz:()=>n,oH:()=>r}),function(t){t[t.OBJECT=0]="OBJECT",t[t.HUD=1]="HUD",t[t.TERRAIN=2]="TERRAIN",t[t.OVERLAY=3]="OVERLAY",t[t.I3S=4]="I3S",t[t.PCL=5]="PCL",t[t.LOD=6]="LOD",t[t.VOXEL=7]="VOXEL",t[t.TILES3D=8]="TILES3D"}(n||(n={}));class s{constructor(){this.verticalOffset=0,this.selectionMode=!1,this.hud=!0,this.selectOpaqueTerrainOnly=!0,this.invisibleTerrain=!1,this.backfacesTerrain=!0,this.isFiltered=!1,this.filteredLayerUids=[],this.store=r.ALL,this.normalRequired=!0,this.excludeLabels=!1}}!function(t){t[t.MIN=0]="MIN",t[t.MINMAX=1]="MINMAX",t[t.ALL=2]="ALL"}(r||(r={}))}}]);