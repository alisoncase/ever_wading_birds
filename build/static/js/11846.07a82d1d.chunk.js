"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[11846,17711],{17711:(t,e,n)=>{n.d(e,{l:()=>_});var o=n(93800),i=n(6946),l=n(58448),s=n(79953),a=n(16804),r=n(48602),c=(n(21265),n(50925),n(14746),n(75269)),u=n(32006),h=n(89227),p=n(28473),y=n(96913),f=n(31183),d=n(41317),g=n(78129),b=n(87730),m=n(94706),v=n(36043);let _=class extends i.default{set graphic(t){this._circleCollisionCache=null,this._originalSymbol=t.symbol,this._set("graphic",t),this.attachSymbolChanged()}get elevationInfo(){const{layer:t}=this.graphic,e=t&&"elevationInfo"in t?t.elevationInfo:null,n=(0,d.ky)(this.graphic),o=e?e.offset:0;return new b.A({mode:n,offset:o})}set focusedSymbol(t){t!==this._get("focusedSymbol")&&(this._set("focusedSymbol",t),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(t){t!==this._get("grabbing")&&(this._set("grabbing",t),this._updateGraphicSymbol())}set hovering(t){t!==this._get("hovering")&&(this._set("hovering",t),this._updateGraphicSymbol())}set selected(t){t!==this._get("selected")&&(this._set("selected",t),this._updateGraphicSymbol(),this.events.emit("select-changed",{action:t?"select":"deselect"}))}get _focused(){return this._get("hovering")||this._get("grabbing")}constructor(t){super(t),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.consumesClicks=!0,this.events=new l.A.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set("view",null)}intersectionDistance(t){const e=this.graphic;if(!1===e.visible)return null;const n=e.geometry;if(null==n)return null;const o=this._get("focusedSymbol"),i=null!=o?o:e.symbol;return"2d"===this.view.type?this._intersectDistance2D(this.view,t,n,i):this._intersectDistance3D(this.view,t,e)}attach(){this.attachSymbolChanged(),null!=this.layer&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),null!=this.layer&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=(0,s.watch)((()=>this.graphic?.symbol),(t=>{null!=t&&t!==this.focusedSymbol&&t!==this._originalSymbol&&(this._originalSymbol=t,this._focused&&null!=this.focusedSymbol&&(this.graphic.symbol=this.focusedSymbol))}),s.sync)}detachSymbolChanged(){null!=this._graphicSymbolChangedHandle&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}onElevationChange(){}onViewChange(){}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&null!=this.focusedSymbol?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(t,e,n,o){if(null==(o=o||(0,g.SF)(n)))return null;let i=this._circleCollisionCache;if("point"===n.type&&"cim"===o.type&&"CIMPointSymbol"===o.data.symbol?.type&&o.data.symbol.symbolLayers){const{offsetX:i,offsetY:l,size:s}=(0,m.T)(o),r=(0,a.WA)(e,S),c=s/2,h=t.toScreen(n),p=h.x+i,y=h.y+l;return(0,u.hG)(r,[p,y])<c*c?1:null}if("point"!==n.type||"simple-marker"!==o.type)return(0,v.t)(e,n,t)?1:null;if(null==i||!i.originalPoint.equals(n)){const e=n,l=t.spatialReference;if((0,y.canProjectWithoutEngine)(e.spatialReference,l)){const t=(0,y.project)(e,l);i={originalPoint:e.clone(),mapPoint:t,radiusPx:(0,a.Lz)(o.size)},this._circleCollisionCache=i}}if(null!=i){const n=(0,a.WA)(e,S),l=t.toScreen?.(i.mapPoint);if(!l)return null;const s=i.radiusPx,r=l.x+(0,a.Lz)(o.xoffset),c=l.y-(0,a.Lz)(o.yoffset);return(0,u.hG)(n,[r,c])<s*s?1:null}return null}_intersectDistance3D(t,e,n){const o=t.toMap(e,{include:[n]});return o&&(0,f.g)(o,M,t.renderSpatialReference)?(0,h.j)(M,t.state.camera.eye):null}};(0,o._)([(0,r.MZ)({constructOnly:!0,nonNullable:!0})],_.prototype,"graphic",null),(0,o._)([(0,r.MZ)()],_.prototype,"elevationInfo",null),(0,o._)([(0,r.MZ)({constructOnly:!0,nonNullable:!0})],_.prototype,"view",void 0),(0,o._)([(0,r.MZ)({value:null})],_.prototype,"focusedSymbol",null),(0,o._)([(0,r.MZ)({constructOnly:!0})],_.prototype,"layer",void 0),(0,o._)([(0,r.MZ)()],_.prototype,"interactive",void 0),(0,o._)([(0,r.MZ)()],_.prototype,"selectable",void 0),(0,o._)([(0,r.MZ)()],_.prototype,"grabbable",void 0),(0,o._)([(0,r.MZ)({value:!1})],_.prototype,"grabbing",null),(0,o._)([(0,r.MZ)()],_.prototype,"dragging",void 0),(0,o._)([(0,r.MZ)()],_.prototype,"hovering",null),(0,o._)([(0,r.MZ)({value:!1})],_.prototype,"selected",null),(0,o._)([(0,r.MZ)()],_.prototype,"cursor",void 0),_=(0,o._)([(0,c.$)("esri.views.interactive.GraphicManipulator")],_);const M=(0,p.vt)(),S=(0,a.gs)()},28454:(t,e,n)=>{n.d(e,{w:()=>a});var o=n(93800),i=n(6946),l=n(48602),s=(n(21265),n(50925),n(14746),n(75269));let a=class extends i.default{constructor(t){super(t),this.helpMessage=void 0,this.viewType=void 0}get visibleElements(){return this.sketchOptions.tooltips.visibleElements}get allFields(){return[]}get editableFields(){return this.allFields.filter((t=>t.visible&&!t.readOnly))}clearInputValues(){this.allFields.forEach((t=>t.clearInputValue()))}};(0,o._)([(0,l.MZ)()],a.prototype,"sketchOptions",void 0),(0,o._)([(0,l.MZ)()],a.prototype,"visibleElements",null),(0,o._)([(0,l.MZ)()],a.prototype,"helpMessage",void 0),(0,o._)([(0,l.MZ)()],a.prototype,"viewType",void 0),(0,o._)([(0,l.MZ)()],a.prototype,"allFields",null),(0,o._)([(0,l.MZ)()],a.prototype,"editableFields",null),a=(0,o._)([(0,s.$)("esri.views.interactive.tooltip.infos.SketchTooltipInfo")],a)},36043:(t,e,n)=>{n.d(e,{V:()=>s,t:()=>a});var o=n(84190),i=n(12560),l=n(49222);function s(t,e,n){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new i.default,s=0;if("2d"===n.type)s=e*(n.resolution??0);else if("3d"===n.type){const i=n.overlayPixelSizeInMapUnits(t),l=n.basemapSpatialReference;s=null==l||l.equals(n.spatialReference)?e*i:(0,o.GA)(l)/(0,o.GA)(n.spatialReference)}const a=t.x-s,r=t.y-s,c=t.x+s,u=t.y+s,{spatialReference:h}=n;return l.xmin=Math.min(a,c),l.ymin=Math.min(r,u),l.xmax=Math.max(a,c),l.ymax=Math.max(r,u),l.spatialReference=h,l}function a(t,e,n){const o=n.toMap(t);return null!=o&&s(o,(0,l.o)(),n,r).intersects(e)}const r=new i.default},38412:(t,e,n)=>{n.d(e,{A:()=>_,HA:()=>P,IA:()=>S,Ue:()=>M,mu:()=>x,sZ:()=>z,wG:()=>I});var o=n(58828),i=n(42198),l=n(64682),s=n(92143),a=n(79953),r=n(84190),c=n(89227),u=n(28473),h=n(52566),p=n(53409),y=n(20444),f=n(70576),d=n(5616),g=n(4542),b=n(95329),m=n(46910),v=n(95095);function _(t){const e=new b.default(t());return e.addHandles((0,a.watch)((()=>t()),(t=>{let{view:n,options:o,info:i}=t;e.view=n,void 0!==o&&(e.options=o),void 0!==i&&(e.info=i)}))),e}function M(t,e){const n=(0,y.Hq)(e.vertexSpace),{scale:o,orientation:i}=t,{transform:l}=e,a=function(t){if(!t)return 0;const e=C(t.rotationAxis);return null!=e?e*t.rotationAngle:null}(l);n&&null!=a?(i.actual=(0,s.Wq)(a,"degrees","arithmetic"),i.visible=!0):(i.actual=null,i.visible=!1),n?(o.actual=(0,s.LF)(Z(l)),o.visible=!0):(o.actual=null,o.visible=!1)}function S(t,e,n){if(!e||!(0,y.Hq)(e.vertexSpace))return;const o=e.transform??=new p.default;(function(t,e,n){const o=(0,v.Ef)(t.orientation.actual),i=C(e.rotationAxis);if(null==o||null==i)return;const l=e.rotationAngle,s=o*i,a=(o-l)*i;l!==s&&(n?.onRotateStart(0),e.rotationAngle=s,n?.onRotate(a),n?.onRotateStop(a))})(t,o,n),function(t,e,n){const o=t.scale.actual?.value,i=Z(e);if(null==o||o===i)return;const{scale:l}=e;let s;if(0===i)s=(0,u.o8)(u.Un);else{const t=o/i;s=(0,c.h)((0,u.vt)(),l,t)}n?.onScaleStart(l[0],l[1],l[2]),e.scale=s,n?.onScale(s[0],s[1],s[2]),n?.onScaleStop(s[0],s[1],s[2])}(t,o,n)}function x(t,e){const{x:n,y:o,z:i}=e,{x:a,y:c,z:u}=function(t,e){let n,o;t.geographic?(n=(0,v.hF)(t.longitude.actual),o=(0,v.hF)(t.latitude.actual),(0,f.K8)(e)&&(null!=n&&null!=o?[n,o]=(0,d.lngLatToXY)(n,o,w):null!=n?n=(0,d.lngLatToXY)(n,0,w)[0]:null!=o&&(o=(0,d.lngLatToXY)(0,o,w)[1]))):(n=t.x.actual?.value,o=t.y.actual?.value);const i=t.elevation.actual,l=(0,r.mq)(e);return{x:n,y:o,z:null!=l&&null!=i?(0,s.l3)(i,l):void 0}}(t,e.spatialReference);return{dx:null==a||(0,l.Io)(a,n)?0:a-n,dy:null==c||(0,l.Io)(c,o)?0:c-o,dz:null==u||null==i||(0,l.Io)(u,i)?0:u-i}}const w=[0,0];function C(t){return(0,c.I)(t,u.Cb)?1:(0,c.I)(t,A)?-1:null}const A=(0,c.v)((0,u.vt)(),u.Cb);function Z(t){return t?Math.max(...t.scale):1}function I(t,e){return!("key-down"!==t.type||t.key!==g.ac.enterInputMode||!e||!function(t){const e=t?.sketchOptions;if(!e)return!1;const{inputEnabled:n,visibleElements:o}=e.tooltips;return n&&!0===t.editableFields.some((t=>{let{name:e}=t;return"x"===e||"y"===e?o.coordinates:o[e]}))}(e.info))&&(e.enterInputMode(),t.preventDefault(),t.stopPropagation(),!0)}function z(t,e){let n=null;return(0,i.vE)([t.on("paste",(async i=>{n?.abort(),n=(0,o.UT)((async()=>{(0,h.isLoaded)()||await(0,h.load)(),P(i,t.info,e)}))})),(0,o.UT)((()=>(0,h.load)())),(0,i.hA)((()=>n?.abort()))])}function P(t,e,n){if(!e||!("geographic"in e))return;const o=t.clipboardData?.getData("text");if(!o)return;const i=e=>{t.stopPropagation(),t.preventDefault(),n?.onBeforePaste(),e(),n?.onAfterPaste()};if(e.geographic){const t=(0,m.X3)(o);t&&i((()=>{e.longitude.applyValue(t.longitude),e.latitude.applyValue(t.latitude)}))}else{const t=(0,m.Nr)(o);t&&i((()=>{e.x.applyValue(t.x),e.y.applyValue(t.y)}))}}},42050:(t,e,n)=>{n.d(e,{Do:()=>r,Kt:()=>a,ob:()=>s});var o=n(28473),i=n(36089),l=n(90968);function s(t){return(0,l.mh)(t)??(0,i.Xg)(t)}function a(t,e){return(0,l.Og)(t,e)??(0,i.ll)(t,e)}function r(t,e,n){return c[0]=t[0],c[1]=t[1],c[2]=3===t.length?t[2]:0,u[0]=e[0],u[1]=e[1],u[2]=3===e.length?e[2]:0,(0,l.n3)(c,u,n)??(0,i.sT)(c,u,n)}const c=(0,o.vt)(),u=(0,o.vt)()},49222:(t,e,n)=>{function o(t,e){return e?"xoffset"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):"yoffset"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function i(t,e){return"number"==typeof t?t:t?.stops?.length?function(t){let e=0,n=0;for(let o=0;o<t.length;o++){const i=t[o].size;"number"==typeof i&&(e+=i,n++)}return e/n}(t.stops):e}function l(t,e){if(!e)return t;const n=e.filter((t=>"size"===t.type)).map((e=>{const{maxSize:n,minSize:o}=e;return(i(n,t)+i(o,t))/2}));let o=0;const l=n.length;if(0===l)return t;for(let i=0;i<l;i++)o+=n[i];const s=Math.floor(o/l);return Math.max(s,t)}function s(t){const e=t?.renderer,n=t?.pointerType,i="touch"===n?9:6;if(!e)return i;const s="visualVariables"in e?l(i,e.visualVariables):i;if("simple"===e.type)return o(s,e.symbol);if("unique-value"===e.type){let t=s;return e.uniqueValueInfos?.forEach((e=>{t=o(t,e.symbol)})),t}if("class-breaks"===e.type){let t=s;return e.classBreakInfos.forEach((e=>{t=o(t,e.symbol)})),t}return"dot-density"===e.type||e.type,s}n.d(e,{o:()=>s})},53409:(t,e,n)=>{n.r(e),n.d(e,{default:()=>g});var o,i=n(93800),l=n(19455),s=n(48602),a=(n(21265),n(50925),n(14746),n(75269)),r=n(87752),c=n(10382),u=n(21369),h=n(66509),p=n(28473),y=n(21465);let f=o=class extends l.A{constructor(t){super(t),this.translation=(0,p.vt)(),this.rotationAxis=(0,p.ci)(y.up),this.rotationAngle=0,this.scale=(0,p.fA)(1,1,1)}get rotation(){return(0,y.i4)(this.rotationAxis,this.rotationAngle)}set rotation(t){this.rotationAxis=(0,p.o8)((0,y.yo)(t)),this.rotationAngle=(0,y.g7)(t)}get localMatrix(){const t=(0,c.vt)();return(0,u.x8)(d,(0,y.yo)(this.rotation),(0,y.$I)(this.rotation)),(0,r.o1)(t,d,this.translation,this.scale),t}get localMatrixInverse(){return(0,r.B8)((0,c.vt)(),this.localMatrix)}equals(t){return this===t||null!=t&&(0,r.t2)(this.localMatrix,t.localMatrix)}clone(){const t={translation:(0,p.o8)(this.translation),rotationAxis:(0,p.o8)(this.rotationAxis),rotationAngle:this.rotationAngle,scale:(0,p.o8)(this.scale)};return new o(t)}};(0,i._)([(0,s.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],f.prototype,"translation",void 0),(0,i._)([(0,s.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],f.prototype,"rotationAxis",void 0),(0,i._)([(0,s.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],f.prototype,"rotationAngle",void 0),(0,i._)([(0,s.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],f.prototype,"scale",void 0),(0,i._)([(0,s.MZ)()],f.prototype,"rotation",null),(0,i._)([(0,s.MZ)()],f.prototype,"localMatrix",null),(0,i._)([(0,s.MZ)()],f.prototype,"localMatrixInverse",null),f=o=(0,i._)([(0,a.$)("esri.geometry.support.MeshTransform")],f);const d=(0,h.vt)(),g=f},94706:(t,e,n)=>{n.d(e,{T:()=>i});var o=n(16804);function i(t){let e=0,n=0,i=0;return t?("cim"===t.type&&t.data.symbol&&"symbolLayers"in t.data.symbol&&t.data.symbol.symbolLayers&&t.data.symbol.symbolLayers.map((t=>{"CIMVectorMarker"===t.type&&t.anchorPoint&&(Math.abs(t.anchorPoint.x)>e&&(e=t.anchorPoint.x),Math.abs(t.anchorPoint.y)>n&&(n=t.anchorPoint.y),null!=t.size&&t.size>i&&(i=t.size))})),e=(0,o.Lz)(e),n=(0,o.Lz)(n),i=(0,o.Lz)(i),{offsetX:e,offsetY:n,size:i}):{offsetX:e,offsetY:n,size:i}}}}]);