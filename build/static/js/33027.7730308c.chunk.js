"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[33027],{12069:(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s(93800),n=s(48602),a=(s(21265),s(50925),s(14746),s(75269)),o=s(65455);let l=class extends o.default{constructor(t){super(t),this.handlesSyncedToPrimary=!0}set primaryHandleEnabled(t){this._set("primaryHandleEnabled",t)}get primaryHandleEnabled(){const{stops:t}=this;if(!t?.length)return!1;const e=t.length;return(3===e||5===e)&&this._get("primaryHandleEnabled")}get values(){const{primaryHandleEnabled:t,stops:e}=this;if(!e?.length||e.length<2)return[];const s=this.getValuesFromStops();return t?3===s.length?[s[0],s[1],s[2]]:[s[0],s[2],s[4]]:[s[0],s[s.length-1]]}setValue(t,e){const{max:s,min:i,values:n}=this,a=n[t];if(isNaN(e)||a===e||e>s||e<i)return;e=this.toPrecision(e);const o=this.primaryHandleEnabled&&this.handlesSyncedToPrimary;if(o){const s=n.slice().sort(((t,e)=>t>e?1:-1))[1];(0===t&&e>s||2===t&&e<s)&&(e=s)}const l=this.getStopChanges(t,e);this.updateStops(l),o?this.notifyChange("values"):(n[t]=e,this._set("values",[...n])),this.notifyChange("labels")}getStopIndexFromValueIndex(t){const{handlesSyncedToPrimary:e,primaryHandleEnabled:s}=this;if(s){const{values:s}=this,i=s[t];if(e)return t;const n=s.slice().sort(((t,e)=>t>e?1:-1)),a=n.indexOf(i);return s.some(((t,e)=>t===i&&e!==a))?n.lastIndexOf(i):a}return super.getStopIndexFromValueIndex(t)}getStopChanges(t,e){return this.primaryHandleEnabled?this._getStopChanges(t,e):super.getStopChanges(t,e)}_getStopChanges(t,e){const{max:s,min:i,stops:n,values:a}=this,o=this.handlesSyncedToPrimary&&1===t,l=a[t],r=a.slice();o||(r[t]=e);const h=r.sort(((t,e)=>t>e?1:-1)),d=o?e:h[1],m=e-l,u=o?this.toPrecision(Math.max(Math.min(h[0]+m,s),i)):h[0],p=o?this.toPrecision(Math.max(Math.min(h[2]+m,s),i)):h[2];return 5===n.length?[{index:0,value:u},{index:1,value:this.toPrecision((d+u)/2)},{index:2,value:d},{index:3,value:this.toPrecision((d+p)/2)},{index:4,value:p}]:[{index:0,value:u},{index:1,value:d},{index:2,value:p}]}};(0,i._)([(0,n.MZ)()],l.prototype,"handlesSyncedToPrimary",void 0),(0,i._)([(0,n.MZ)()],l.prototype,"primaryHandleEnabled",null),(0,i._)([(0,n.MZ)({dependsOn:["handlesSyncedToPrimary"],readOnly:!0})],l.prototype,"values",null),l=(0,i._)([(0,a.$)("esri.widgets.smartMapping.SmartMappingPrimaryHandleSliderViewModel")],l);const r=l},33027:(t,e,s)=>{s.r(e),s.d(e,{default:()=>y});var i,n=s(93800),a=s(48602),o=(s(21265),s(50925),s(14746),s(75269)),l=s(80382),r=s(30692),h=s(96570),d=s(50821),m=(s(17745),s(76697)),u=s(87118);const p="esri-color-slider",g={base:p,rampElement:`${p}__ramp`,sliderContainer:`${p}__slider-container`,histogramContainer:`${p}__histogram-container`,primaryHandle:`${p}--primary-handle`,track:`${p}--interactive-track`};let c=i=class extends r.default{constructor(t,e){super(t,e),this.messages=null,this.viewModel=new h.default,this._bgFillId=`${this.id}-bg-fill`,this._rampFillId=`${this.id}-linear-gradient`}get handlesSyncedToPrimary(){return this.viewModel.handlesSyncedToPrimary}set handlesSyncedToPrimary(t){this.viewModel.handlesSyncedToPrimary=t}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}get primaryHandleEnabled(){return this.viewModel.primaryHandleEnabled}set primaryHandleEnabled(t){this.viewModel.primaryHandleEnabled=t}get stops(){return this.viewModel.stops}set stops(t){this.viewModel.stops=t}static fromRendererResult(t,e){const{visualVariable:{stops:s},statistics:n}=t,{avg:a,stddev:o}=n,r=t.renderer.authoringInfo?.visualVariables.find((t=>"color"===t.type)),[h,d]=(0,l.n)(r);return new i({max:d,min:h,stops:s,histogramConfig:{average:a??void 0,standardDeviation:o??void 0,bins:e?e.bins:[]},primaryHandleEnabled:"high-to-low"!==r?.theme})}updateFromRendererResult(t,e){const{visualVariable:{stops:s},statistics:i}=t,{avg:n,stddev:a}=i,o=t.renderer.authoringInfo?.visualVariables.find((t=>"color"===t.type)),[r,h]=(0,l.n)(o);this.set({max:h,min:r,stops:s,histogramConfig:{average:n,standardDeviation:a,bins:e?e.bins:[]},primaryHandleEnabled:"high-to-low"!==o?.theme})}render(){const{label:t,primaryHandleEnabled:e,state:s,visibleElements:i}=this,n="disabled"===s,a=this.classes(g.base,d.D.widget,d.D.panel,{[d.D.disabled]:n,[g.primaryHandle]:e,[g.track]:!!i.interactiveTrack});return(0,u.K)("div",{"aria-label":t,class:a},n?null:this.renderContent(this._renderRamp(),g.sliderContainer,g.histogramContainer))}_renderRamp(){const{_bgFillId:t,_rampFillId:e,viewModel:s,zoomOptions:i}=this,n=s.getStopInfo();return(0,u.K)("div",{class:g.rampElement},(0,u.K)("svg",{xmlns:"http://www.w3.org/2000/svg"},(0,u.K)("defs",null,this.renderRampFillDefinition(e,n),this.renderBackgroundFillDefinition(t)),(0,u.K)("rect",{fill:`url(#${t})`,height:"100%",width:"100%",x:"0",y:"0"}),(0,u.K)("rect",{fill:`url(#${e})`,height:"100%",width:"100%",x:"0",y:"0"})),i?this.renderZoomCaps():null)}};(0,n._)([(0,a.MZ)()],c.prototype,"handlesSyncedToPrimary",null),(0,n._)([(0,a.MZ)()],c.prototype,"label",null),(0,n._)([(0,a.MZ)(),(0,m.G)("esri/widgets/smartMapping/ColorSlider/t9n/ColorSlider")],c.prototype,"messages",void 0),(0,n._)([(0,a.MZ)()],c.prototype,"primaryHandleEnabled",null),(0,n._)([(0,a.MZ)()],c.prototype,"stops",null),(0,n._)([(0,a.MZ)({type:h.default})],c.prototype,"viewModel",void 0),c=i=(0,n._)([(0,o.$)("esri.widgets.smartMapping.ColorSlider")],c);const y=c},65455:(t,e,s)=>{s.r(e),s.d(e,{default:()=>h});var i=s(93800),n=s(48602),a=(s(21265),s(50925),s(14746),s(75269)),o=s(99400),l=s(20348);let r=class extends o.default{constructor(t){super(t),this._initialStopValues=[],this._max=null,this._min=null,this.hasTimeData=!1,this.inputFormatFunction=(t,e)=>"max"===e?this.getUnzoomedMax().toString():"min"===e?this.getUnzoomedMin().toString():t.toString(),this.inputParseFunction=null,this.labelFormatFunction=t=>{if(this.hasTimeData)return(0,l.formatDateLabel)(t);const{max:e,min:s,precision:i}=this,n=e-s>10?2:i;return(0,l.formatNumberLabel)(parseFloat(t.toFixed(n)))},this.thumbsConstrained=!1,this.zoomingEnabled=!0}set breaks(t){this._set("breaks",t),this.notifyChange("max"),this.notifyChange("min")}set stops(t){if(t?.length){const{max:e,min:s}=this,i=this.getValuesFromStops(t),n={};null!=s&&i.some((t=>t<s))&&(n.min=Math.min(...i)),null!=e&&i.some((t=>t>e))&&(n.max=Math.max(...i)),this.set({...n}),this._initialStopValues=i}else this._initialStopValues=null;this._set("stops",t||null),this.notifyChange("values")}get labels(){const{values:t}=this,e=t&&t.length?t.map(((t,e)=>this.getLabelForValue(t,"value",e))):[],s=this.getUnzoomedMax(),i=this.getUnzoomedMin();return{max:this.getLabelForValue(s,"max"),min:this.getLabelForValue(i,"min"),values:e}}get max(){const{breaks:t}=this;return t?.length?t[t.length-1].max:this.max}set max(t){const{zoomOptions:e}=this;if(null!=e?.max){const s=this.values;let i=e.max;if(t<i&&(i=t,e.max=t),s&&s.length)for(let e=0;e<s.length;e++)t<s[e]&&this.setValue(e,t);this._storeZoomMax(i,t)}else this.updateBreakMax(t),this.setMax(t);this.notifyChange("labels")}get min(){const{breaks:t}=this;return t?.length?t[0].min:this.min}set min(t){const{zoomOptions:e}=this;if(null!=e?.min){const s=this.values;let i=e.min;if(t>i&&(i=t,e.min=t),s&&s.length)for(let e=0;e<s.length;e++)t>s[e]&&this.setValue(e,t);this._storeZoomMin(i,t)}else this.updateBreakMin(t),this.setMin(t);this.notifyChange("labels")}get state(){const{max:t,min:e,values:s}=this;return null!=t&&null!=e&&s.length>0?"ready":"disabled"}get values(){const{breaks:t,stops:e}=this;if(!t&&!e)return[];if(t?.length){const e=t.map((t=>t.max));return e.pop(),e}if(e?.length<2)return[];const s=this.getValuesFromStops();return[s[0],s[s.length-1]]}set zoomOptions(t){const{zoomingEnabled:e,zoomOptions:s}=this;if(e){if(s){const e=null!=this._max?this._max:this.max,s=null!=this._min?this._min:this.min;if(t){const{max:i,min:n}=t,a=null!=i,o=null!=n,l=o?t.min:s,r=o?s:null,h=a?t.max:e,d=a?e:null;this._storeZoomMin(l,r),this._storeZoomMax(h,d)}else this.setMax(e),this.setMin(s),this._min=null,this._max=null}else if(t){const{max:e,min:s}=t;null!=s&&this._storeZoomMin(t.min,this.min),null!=e&&this._storeZoomMax(t.max,this.max)}this._set("zoomOptions",t),this.notifyChange("max"),this.notifyChange("min")}}getStopIndexFromValueIndex(t){const{stops:e}=this,s=this.values[t];return 0===t?s<=this.values[1]?0:e.length-1:1===t?this.values[0]>=s?0:e.length-1:null}getStopChanges(t,e){const s=this.stops,i=this.getStopIndexFromValueIndex(t),n=this.getValuesFromStops();n[i]=e;const[a,o]=[n[0],n[n.length-1]].sort(((t,e)=>t>e?1:-1)),l=o-a,r=s.length-1;return n.map(((t,e)=>({index:e,value:this.toPrecision(a+e*l/r)})))}setValue(t,e){const{max:s,min:i,values:n}=this,a=n[t];if(isNaN(e)||a===e||e>s||e<i)return;n[t]=this.toPrecision(e),this._set("values",[...n]);const o=n.slice().sort(((t,e)=>t>e?1:-1)),r=o[0],h=o[o.length-1],d=(0,l.getStopChanges)(r,h,this._initialStopValues??[]);this.updateStops(d),this.updateBreaks(),this.notifyChange("labels")}getValuesFromStops(t){const e=t||this.stops;return e?.map((t=>t.hasOwnProperty("ratio")?t.ratio:t.value))}updateBreaks(){const{breaks:t,values:e}=this;t?.length&&e.slice().sort(((t,e)=>t>e?1:-1)).forEach(((e,s)=>{t[s].max=e,null!=t[s+1]&&(t[s+1].min=e)}))}updateBreakMax(t){const{breaks:e,max:s,min:i}=this;!isNaN(t)&&s!==t&&null!=i&&t>i&&e?.length&&(e[e.length-1].max=t)}updateBreakMin(t){const{breaks:e,max:s,min:i}=this;!isNaN(t)&&i!==t&&null!=s&&t<s&&e?.length&&(e[0].min=t)}updateStops(t){const{stops:e}=this,s=this.getValuesFromStops();if(s?.length){for(const e of t)s[e.index]=e.value;e.forEach(((t,e)=>{t.hasOwnProperty("ratio")?t.ratio=s[e]:t.value=s[e]}))}}getUnzoomedMax(){return this.zoomOptions&&null!=this._max?this._max:this.max}getUnzoomedMin(){return this.zoomOptions&&null!=this._min?this._min:this.min}_storeZoomMax(t,e){this._max=e,this.setMax(t)}_storeZoomMin(t,e){this._min=e,this.setMin(t)}};(0,i._)([(0,n.MZ)()],r.prototype,"breaks",null),(0,i._)([(0,n.MZ)()],r.prototype,"stops",null),(0,i._)([(0,n.MZ)()],r.prototype,"hasTimeData",void 0),(0,i._)([(0,n.MZ)()],r.prototype,"inputFormatFunction",void 0),(0,i._)([(0,n.MZ)()],r.prototype,"inputParseFunction",void 0),(0,i._)([(0,n.MZ)()],r.prototype,"labelFormatFunction",void 0),(0,i._)([(0,n.MZ)({readOnly:!0})],r.prototype,"labels",null),(0,i._)([(0,n.MZ)()],r.prototype,"max",null),(0,i._)([(0,n.MZ)()],r.prototype,"min",null),(0,i._)([(0,n.MZ)({readOnly:!0})],r.prototype,"state",null),(0,i._)([(0,n.MZ)()],r.prototype,"thumbsConstrained",void 0),(0,i._)([(0,n.MZ)({readOnly:!0})],r.prototype,"values",null),(0,i._)([(0,n.MZ)()],r.prototype,"zoomingEnabled",void 0),(0,i._)([(0,n.MZ)()],r.prototype,"zoomOptions",null),r=(0,i._)([(0,a.$)("esri.widgets.smartMapping.SmartMappingSliderViewModel")],r);const h=r},80382:(t,e,s)=>{function i(t){return n(t?.visualVariables[0])}function n(t){return[t?.minSliderValue??0,t?.maxSliderValue??0]}s.d(e,{N:()=>i,n:()=>n})},96570:(t,e,s)=>{s.r(e),s.d(e,{default:()=>l});var i=s(93800),n=(s(50925),s(21265),s(14746),s(74719),s(75269)),a=s(12069);let o=class extends a.default{constructor(t){super(t)}getStopInfo(){const{min:t,max:e,stops:s}=this;return s?.length?s.map((s=>({color:s.color,offset:(e-s.value)/(e-t)}))):[]}};o=(0,i._)([(0,n.$)("esri.widgets.smartMapping.ColorSlider.ColorSliderViewModel")],o);const l=o}}]);