"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[40384],{40384:(t,e,i)=>{i.r(e),i.d(e,{default:()=>p});var a=i(93800),o=i(74719),n=i(58448),r=i(48602),s=(i(21265),i(50925),i(14746),i(75269)),l=i(30449);let h=class extends n.A.EventedAccessor{constructor(t){super(t),this._goToExtentController=null,this._scaleExtent=(t,e)=>{const i=t,a=(t.xmax-t.xmin)/2*(e-1),o=(t.ymax-t.ymin)/2*(e-1);return i.xmin=t.xmin-a,i.ymin=t.ymin-o,i.xmax=t.xmax+a,i.ymax=t.ymax+o,i},this.switchLayout=this.switchLayout.bind(this)}destroy(){this._cancelGoToExtent(),this.view=null}set view(t){this._set("view",t),t&&t.when().then((()=>{if(this.view===t){if(!this.view.map.linkChartProperties)throw new o.default("linkChartLayoutSwitcher:error","Link chart layouts are only supported on WebLinkCharts.");this.layout=(0,l.convertLayoutTypeToWebSupportedFormat)(this.view.map.linkChartProperties.layoutType)}}))}get state(){return this.view?this.view.map.linkChartProperties?"ready":"disabled":"loading"}get layout(){return this._get("layout")||"organic-standard"}set layout(t){this._set("layout",t)}get preventExtentUpdate(){return this._get("preventExtentUpdate")||!1}set preventExtentUpdate(t){this._set("preventExtentUpdate",t)}async switchLayout(t){if(!this.view||!this.view.map)throw new o.default("linkChartLayoutSwitcher:loading-state","Cannot change layout when link chart has not loaded.");if(this.layout=t,await this.view.map.applyLayout(t),!this.preventExtentUpdate&&this.view.map.diagramNodesExtent){const i="geographic-organic-standard"!==t?this._scaleExtent(this.view.map.diagramNodesExtent,1.4):this.view.map.diagramNodesExtent,a=new AbortController;this._goToExtentController=a;try{await this.view.when(),await this.view.goTo(i,{signal:a.signal})}catch(e){}this._goToExtentController=null}this.emit("switchLayout",{layout:t})}_cancelGoToExtent(){const{_goToExtentController:t}=this;t&&t.abort(),this._goToExtentController=null}};(0,a._)([(0,r.MZ)()],h.prototype,"_goToExtentController",void 0),(0,a._)([(0,r.MZ)()],h.prototype,"view",null),(0,a._)([(0,r.MZ)({readOnly:!0})],h.prototype,"state",null),(0,a._)([(0,r.MZ)()],h.prototype,"layout",null),(0,a._)([(0,r.MZ)()],h.prototype,"preventExtentUpdate",null),h=(0,a._)([(0,s.$)("esri.widgets.LinkChartLayoutSwitcher.LinkChartLayoutSwitcherViewModel")],h);const p=h}}]);