"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[10963,14524,25521,47381,66201,69762,88582,92143],{6579:(e,t,i)=>{i.d(t,{Cq:()=>c,Ee:()=>m,J1:()=>w,LF:()=>y,Me:()=>C,Mm:()=>p,Sz:()=>M,W4:()=>g,e_:()=>b,nD:()=>u,t_:()=>_,tr:()=>v,v7:()=>I,zJ:()=>h,zq:()=>f});var l=i(87436),n=i(5839),o=i(64682),s=i(92143),a=i(56612),r=i(84190),d=i(23224);function c(e,t,i){return e.units[t][i]}function h(e,t,i){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";return`${(0,d.ZV)(t,{minimumFractionDigits:l,maximumFractionDigits:l,signDisplay:t>0?"never":"exceptZero"})} ${c(e,i,n)}`}function u(e,t,i){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";return`${(0,d.ZV)(t,{minimumFractionDigits:l,maximumFractionDigits:l,signDisplay:"exceptZero"})} ${c(e,i,n)}`}function m(e,t,i){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const o=(0,r.x0)(t,i);return h(e,(0,r.oU)(t,i,o),o,l,n)}function p(e,t,i){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const o=(0,r.x0)(t,i);return u(e,(0,r.oU)(t,i,o),o,l,n)}function g(e,t,i){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const o=(0,r.x$)(t,i);return h(e,(0,r.oU)(t,i,o),o,l,n)}function b(e,t,i){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const o=(0,r.x$)(t,i);return u(e,(0,r.oU)(t,i,o),o,l,n)}function v(e,t,i){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const o=(0,r.OU)(t,i);return h(e,(0,r.oU)(t,i,o),o,l,n)}function w(e,t,i){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const o=(0,r.OU)(t,i);return u(e,(0,r.oU)(t,i,o),o,l,n)}function _(e,t,i){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const o=(0,r.y7)(t,i);return h(e,(0,r.oU)(t,i,o),o,l,n)}function y(e,t,i){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const o=(0,r.y7)(t,i);return u(e,(0,r.oU)(t,i,o),o,l,n)}function f(e,t,i){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const o=(0,r.wv)(t,i);return h(e,(0,r.oU)(t,i,o),o,l,n)}function M(e,t,i){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";const o=(0,r.TL)(t,i);return h(e,(0,r.oU)(t,i,o),o,l,n)}const S=(e,t)=>({style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:t,minimumFractionDigits:t,signDisplay:e>0?"never":"exceptZero"});function C(e,t,i,l,o){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:n.ie,c=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],h=a.normalize((0,s.g2)((0,r.oU)(e,t,"degrees"),i,l),0,c);const u=S(h,o??2);return h=A(h,u),(0,d.ZV)(h,u)}const T=new Map;function A(e,t){const i=JSON.stringify(t);let l=T.get(i);return l||(l=new Intl.NumberFormat("en-US",t),T.set(i,l)),/^[-+]?360\.?0*\xb0?$/.test(l.format(e))?0:e}const E=["B","kB","MB","GB","TB"];function I(e,t){let i=0===(t=Math.round(t))?0:Math.floor(Math.log(t)/Math.log(l.u.KILOBYTES));i=(0,o.qE)(i,0,E.length-1);const n=(0,d.ZV)(t/l.u.KILOBYTES**i,{maximumFractionDigits:2});return(0,a.HC)(e.units.bytes[E[i]],{fileSize:n})}},9137:(e,t,i)=>{i.d(t,{D:()=>a,S:()=>d});var l=i(64682),n=i(50821),o=i(17745),s=i(87118);function a(e,t){let{level:i,class:l,...a}=e;const d=r(i);return(0,s.K)(`h${d}`,{...a,"aria-level":String(d),class:(0,o.Ly)(n.D.heading,l),role:"heading"},t)}function r(e){return(0,l.qE)(Math.ceil(e),1,6)}function d(e){return r(e+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1))}},25521:(e,t,i)=>{i.r(t),i.d(t,{default:()=>le});var l=i(93800),n=(i(88677),i(62631)),o=i(79953),s=i(6579),a=i(48602),r=(i(21265),i(50925),i(75269)),d=i(9674),c=i(78076),h=i(85473),u=i(27811),m=i(76004),p=i(65946),g=i(6946);i(14746);let b=class extends g.default{constructor(e){super(e),this.sortAscending=!0,this.sortDescending=!0}};(0,l._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],b.prototype,"sortAscending",void 0),(0,l._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],b.prototype,"sortDescending",void 0),b=(0,l._)([(0,r.$)("esri.widgets.FeatureTable.ColumnMenuVisibleElements")],b);const v=b;var w=i(62329);let _=class extends g.default{constructor(e){super(e),this.clearSelection=!0,this.deleteSelection=!0,this.exportSelectionToCSV=!0,this.refreshData=!0,this.selectedRecordsShowAllToggle=!0,this.selectedRecordsShowSelectedToggle=!0,this.toggleColumns=!0,this.zoomToSelection=!0}};(0,l._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],_.prototype,"clearSelection",void 0),(0,l._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],_.prototype,"deleteSelection",void 0),(0,l._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],_.prototype,"exportSelectionToCSV",void 0),(0,l._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],_.prototype,"refreshData",void 0),(0,l._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],_.prototype,"selectedRecordsShowAllToggle",void 0),(0,l._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],_.prototype,"selectedRecordsShowSelectedToggle",void 0),(0,l._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],_.prototype,"toggleColumns",void 0),(0,l._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],_.prototype,"zoomToSelection",void 0),_=(0,l._)([(0,r.$)("esri.widgets.FeatureTable.TableMenuVisibleElements")],_);const y=_;let f=class extends g.default{constructor(e){super(e),this.columnDescriptions=!0,this.columnMenus=!0,this.columnMenuItems=new v,this.close=!1,this.header=!0,this.layerDropdown=!1,this.layerDropdownIcons=!0,this.menu=!0,this.menuItems=new y,this.progress=!0,this.selectionColumn=!0,this.tooltips=!0}};(0,l._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],f.prototype,"columnDescriptions",void 0),(0,l._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],f.prototype,"columnMenus",void 0),(0,l._)([(0,a.MZ)({type:v,nonNullable:!0})],f.prototype,"columnMenuItems",void 0),(0,l._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],f.prototype,"close",void 0),(0,l._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],f.prototype,"header",void 0),(0,l._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],f.prototype,"layerDropdown",void 0),(0,l._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],f.prototype,"layerDropdownIcons",void 0),(0,l._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],f.prototype,"menu",void 0),(0,l._)([(0,a.MZ)({type:y,nonNullable:!0})],f.prototype,"menuItems",void 0),(0,l._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],f.prototype,"progress",void 0),(0,l._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],f.prototype,"selectionColumn",void 0),(0,l._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],f.prototype,"tooltips",void 0),f=(0,l._)([(0,r.$)("esri.widgets.FeatureTable.VisibleElements")],f);const M=f;var S,C=i(54057),T=i(98461),A=i(49403),E=i(50821),I=i(17745),Z=i(76697),V=i(66201),R=i(87118),D=i(99961);const k="esri-feature-table",x=`${k}__prompt`,K=`${k}__attachments-view`,P={base:k,content:`${k}__content`,menuPopover:`${k}__menu-popover`,layerDropdownMenu:`${k}__layer-switcher-menu`,tableContainer:`${k}__table-container`,tableContainerWithAttachments:`${k}__table-container--attachments`,tableNavigation:`${k}__table-navigation`,attachmentsView:K,attachmentsViewContent:`${K}__content`,attachmentsViewDropArea:`${K}__drop-area`,attachmentsViewIcon:`${K}__icon`,attachmentsViewInformation:`${K}__information`,attachmentsViewList:`${K}__list`,attachmentsViewListFileSize:`${K}__list__filesize`,attachmentsViewListItemDelete:`${K}__list-item--delete`,attachmentsViewListThumbnail:`${K}__list__thumbnail`,expanded:`${k}__expanded`,collapsed:`${k}__collapsed`,promptContainer:x,promptHeader:`${x}__header`,promptHeading:`${x}__header__heading`,promptMessage:`${x}__message`,promptDivider:`${x}__divider`,promptActions:`${x}__actions`},$="chevron-right",F="clear-selection",L="download-to",O="exclamation-mark-triangle",z="file-csv",B="folder-open",N="trash",U="launch",G="layers",j="move-up",H="plus",W="refresh",Y="replace-image",q="save",J="selection-x",Q="show-column",X="selection-filter",ee="upload",te="zoom-to-object";let ie=S=class extends u.default{constructor(e,t){super(e,t),this._attachmentsInput=null,this._columnVisibilityActions=new Map,this.attachmentsList=null,this.description=null,this.disabled=!1,this.menuConfig=null,this.title=null,this.viewModel=new w.default,this.visibleElements=new M,this._showDeletePrompt=this._showDeletePrompt.bind(this),this._onDeleteSelectionClick=this._onDeleteSelectionClick.bind(this)}initialize(){this.addHandles([(0,o.watch)((()=>[this.viewModel.store.querying,this.viewModel.store.syncing,this.editingEnabled]),(()=>this.scheduleRender())),(0,o.watch)((()=>[this._effectiveVisibleElements,this._effectiveVisibleElements.columnDescriptions,this._effectiveVisibleElements.columnMenus,this._effectiveVisibleElements.columnMenuItems,this.columns.length]),(()=>{this.columns.forEach((e=>e.visibleElements=this._effectiveVisibleElements)),this.refreshCellContent()}),o.sync),(0,o.watch)((()=>this._effectiveVisibleElements.selectionColumn),(e=>{this.grid&&(this.grid.selectionColumnEnabled=e)}),o.initial),(0,o.on)((()=>this.viewModel),"show-related-table",(e=>this._onShowRelatedTable(e))),(0,o.watch)((()=>this.editingEnabled),(()=>{const{attachmentsViewOptions:e}=this;this.clearPrompt(),e&&(e.form?.reset(),e.candidates=null)}))])}loadDependencies(){return Promise.all([(0,A.W)({action:()=>i.e(88342).then(i.bind(i,88342)),alert:()=>Promise.all([i.e(60382),i.e(82404)]).then(i.bind(i,82404)),button:()=>Promise.resolve().then(i.bind(i,20423)),chip:()=>i.e(60382).then(i.bind(i,60382)),dropdown:()=>i.e(41631).then(i.bind(i,41631)),"dropdown-group":()=>i.e(90553).then(i.bind(i,90553)),"dropdown-item":()=>i.e(54055).then(i.bind(i,54055)),icon:()=>Promise.resolve().then(i.bind(i,92439)),label:()=>i.e(60216).then(i.bind(i,60216)),list:()=>Promise.all([i.e(46138),i.e(89939),i.e(18170)]).then(i.bind(i,18170)),"list-item":()=>Promise.all([i.e(73373),i.e(14960)]).then(i.bind(i,28898)),pagination:()=>Promise.all([i.e(78652),i.e(92571)]).then(i.bind(i,78652)),panel:()=>Promise.all([i.e(86290),i.e(74597),i.e(99776)]).then(i.bind(i,99776)),popover:()=>Promise.all([i.e(86290),i.e(74597)]).then(i.bind(i,74597)),progress:()=>i.e(84689).then(i.bind(i,84689)),switch:()=>i.e(92812).then(i.bind(i,92812)),tooltip:()=>Promise.resolve().then(i.bind(i,75703))}),(0,p.D6)(),(0,T.zz)()])}destroy(){this.drainRelatedTables(),this.clearPrompt()}get _effectiveDescription(){const{description:e}=this;return null!=e?I.W5.sanitize("function"==typeof e?e():e):void 0}get _effectiveLayers(){const{layer:e,layers:t}=this,i=t?.length?t.filter(T.hg):[],l=i.length?i:[...this._viewLayers];return e&&!l.includes(e)&&l.push(e),l}get _effectiveTitle(){const{layer:e,messages:t,state:i,highlightIds:l,title:n,size:o}=this;if(n)return I.W5.sanitize("function"==typeof n?n():n);if(!e)return t.noLayer;switch(i){case"disabled":return t.errorLayer;case"ready":case"loading":return t.loading;case"error":return t.errorData}return(0,D.V)(t.header,{title:I.W5.sanitize(e.title),count:o,selected:l.length})}get _effectiveVisibleElements(){return this.visibleElementsOverride??this.visibleElements}get _filteredTables(){const e=this.relatedTables.toArray(),t=1===e.length;return this.allRelatedTablesVisible?e:t?[e[0]]:this._shouldShowAttachmentsView?e.slice(-1):e.slice(-2)}get _hasAttachmentsViewError(){return null!=this.attachmentsViewOptions.error}get _hasCustomMenuItems(){return!!this.menuConfig?.items?.length}get _hasDefaultMenuItems(){return!!(this._showClearSelectionAction||this._showDeleteSelectionAction||this._showExportSelectionToCSVAction||this._showRefreshDataAction||this._showZoomToSelectionAction||this._showSelectedRecordsShowSelectedAction||this._showSelectedRecordsShowAllAction||this._showColumnsVisibilityAction)}get _shouldShowGrid(){return this.allRelatedTablesVisible||1===this.relatedTables.length&&!this._shouldShowAttachmentsView}get _shouldShowMenu(){const{header:e,menu:t}=this._effectiveVisibleElements;return!(!e||!t||!this._hasDefaultMenuItems&&!this._hasCustomMenuItems)}get _shouldShowAttachmentsView(){return!(null==this.attachmentsViewOptions.objectId&&!this.relatedTables.some((e=>null!=e.attachmentsViewOptions.objectId)))}get _showClearSelectionAction(){return!(!this.highlightIds.length||!this._effectiveVisibleElements.menuItems?.clearSelection||this.relatedTables.length)}get _showColumnsVisibilityAction(){const{header:e,menu:t,menuItems:i}=this._effectiveVisibleElements;return!(!(e&&t&&i?.toggleColumns)||this.showRelatedTableCallback||this.allRelatedTablesVisible||this._shouldShowAttachmentsView)}get _showDeleteSelectionAction(){return!(!(this.editingEnabled&&this.highlightIds.length&&this._effectiveVisibleElements.menuItems?.deleteSelection&&this.layer?.capabilities?.operations?.supportsDelete)||this.relatedTables.length)}get _showExportSelectionToCSVAction(){return!(!(this._effectiveVisibleElements.menuItems.exportSelectionToCSV&&this.layer&&this.highlightIds.length)||this.relatedTables.length)}get _showLayerDropdown(){return!(!this._effectiveLayers.length||!this._effectiveVisibleElements.layerDropdown)}get _shouldShowNavigationBar(){const e=!!this.relatedTable||this._shouldShowAttachmentsView;return!this.tableParent&&e}get _showRefreshDataAction(){return!!this._effectiveVisibleElements.menuItems?.refreshData}get _showSelectedRecordsShowSelectedAction(){const e=this.objectIds.length,t=this.highlightIds.length;return!(!t||!this._effectiveVisibleElements.menuItems?.selectedRecordsShowSelectedToggle||e&&t===e||this.relatedTables.length)}get _showSelectedRecordsShowAllAction(){return!(!this._effectiveVisibleElements.menuItems?.selectedRecordsShowAllToggle||!this.objectIds.length||this.relatedTables.length)}get _showZoomToSelectionAction(){return!(!this.view||!this.highlightIds.length||this.effectiveTable.layer?.isTable||!this._effectiveVisibleElements.menuItems?.zoomToSelection)}get _viewLayers(){const e=this.view?.map;if(!e)return[];const t=new Set,i=e=>{!(0,T.hg)(e)||(0,c.F2)(e)||t.has(e)||(e.load(),t.add(e))},l=e=>{(0,d.isLayerFromCatalog)(e)||"catalog-footprint"===e.type||((0,c.cM)(e)?(e.load(),e.layers?.forEach(i),e.tables?.forEach(i)):(0,T.pJ)(e)?(e.loadAll(),e.sublayers?.forEach(i),e.subtables?.forEach(i)):(0,c.F2)(e)?(e.loadAll(),e.sublayers?.forEach(i)):i(e))};return e.allLayers.forEach(l),e.allTables.forEach(l),[...t.values()]}get grid(){return this.viewModel.grid}get actionColumnConfig(){return this.viewModel.actionColumnConfig}set actionColumnConfig(e){this.viewModel.actionColumnConfig=e}get activeFilters(){return this.viewModel.activeFilters}get activeSortOrders(){return this.viewModel.activeSortOrders}get allColumns(){return this.viewModel.allColumns}get allRelatedTablesVisible(){return this.viewModel.allRelatedTablesVisible}get attachmentsEnabled(){return this.viewModel.attachmentsEnabled}set attachmentsEnabled(e){this.viewModel.attachmentsEnabled=e}get attachmentsViewOptions(){return this.viewModel.attachmentsViewOptions}set attachmentsViewOptions(e){this.viewModel.attachmentsViewOptions=e}get attributeTableTemplate(){return this.viewModel.attributeTableTemplate}set attributeTableTemplate(e){this.viewModel.attributeTableTemplate=e}get autoRefreshEnabled(){return this.viewModel.autoRefreshEnabled}set autoRefreshEnabled(e){this.viewModel.autoRefreshEnabled=e}get clearPrompt(){return this.viewModel.clearPrompt}set clearPrompt(e){this.viewModel.clearPrompt=e}get columnPerformanceModeEnabled(){return this.viewModel.columnPerformanceModeEnabled}set columnPerformanceModeEnabled(e){this.viewModel.columnPerformanceModeEnabled=e}get columnReorderingEnabled(){return this.viewModel.columnReorderingEnabled}set columnReorderingEnabled(e){this.viewModel.columnReorderingEnabled=e}get columns(){return this.viewModel.columns}get editingEnabled(){return this.viewModel.editingEnabled}set editingEnabled(e){this.viewModel.editingEnabled=e}get effectiveSize(){return this.viewModel.effectiveSize}get effectiveTable(){return this.relatedTable||this}get filterGeometry(){return this.viewModel.filterGeometry}set filterGeometry(e){this.viewModel.filterGeometry=e}get filterBySelectionEnabled(){return this.viewModel.filterBySelectionEnabled}set filterBySelectionEnabled(e){this.viewModel.filterBySelectionEnabled=e}get hiddenFields(){return this.viewModel.hiddenFields}set hiddenFields(e){this.viewModel.hiddenFields=e}get highlightEnabled(){return this.viewModel.highlightEnabled}set highlightEnabled(e){this.viewModel.highlightEnabled=e}get highlightIds(){return this.viewModel.highlightIds}set highlightIds(e){this.viewModel.highlightIds=e}get icon(){return"table"}set icon(e){this._overrideIfSome("icon",e)}get initialSize(){return this.viewModel.initialSize}set initialSize(e){this.viewModel.initialSize=e}get isQueryingOrSyncing(){return this.viewModel.isQueryingOrSyncing}get isSyncingAttachments(){return this.viewModel.isSyncingAttachments}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get layer(){return this.viewModel.layer}set layer(e){this.viewModel.layer=e}get layers(){return this.viewModel.layers}set layers(e){this.viewModel.layers=e}get layerView(){return this.viewModel.layerView}get maxSize(){return this.viewModel.maxSize}set maxSize(e){this.viewModel.maxSize=e}get messages(){return this.viewModel.messages}set messages(e){this.viewModel.messages=e}get messagesCommon(){return this.viewModel.messagesCommon}set messagesCommon(e){this.viewModel.messagesCommon=e}get messagesUnits(){return this.viewModel.messagesUnits}set messagesUnits(e){this.viewModel.messagesUnits=e}get messagesURIUtils(){return this.viewModel.messagesURIUtils}set messagesURIUtils(e){this.viewModel.messagesURIUtils=e}get multipleSelectionEnabled(){return this.viewModel.multipleSelectionEnabled}set multipleSelectionEnabled(e){this.viewModel.multipleSelectionEnabled=e}get multiSortEnabled(){return this.viewModel.multiSortEnabled}set multiSortEnabled(e){this.viewModel.multiSortEnabled=e}get objectIds(){return this.viewModel.objectIds}set objectIds(e){this.viewModel.objectIds=e}get outFields(){return this.viewModel.outFields}set outFields(e){this.viewModel.outFields=e}get pageCount(){return this.viewModel.pageCount}get pageIndex(){return this.viewModel.pageIndex}set pageIndex(e){this.viewModel.pageIndex=e}get pageSize(){return this.viewModel.pageSize}set pageSize(e){this.viewModel.pageSize=e}get paginationEnabled(){return this.viewModel.paginationEnabled}set paginationEnabled(e){this.viewModel.paginationEnabled=e}get prompt(){return this.viewModel.prompt}set prompt(e){this.viewModel.prompt=e}get relatedRecordsEnabled(){return this.viewModel.relatedRecordsEnabled}set relatedRecordsEnabled(e){this.viewModel.relatedRecordsEnabled=e}get relatedTable(){return this.viewModel.relatedTable}get relatedTables(){return this.viewModel.relatedTables}set relatedTables(e){this.viewModel.relatedTables=e}get relationship(){return this.viewModel.relationship}get relationshipColumnConfigs(){return this.viewModel.relationshipColumnConfigs}set relationshipColumnConfigs(e){this.viewModel.relationshipColumnConfigs=e}get relationshipConfig(){return this.viewModel.relationshipConfig}set relationshipConfig(e){this.viewModel.relationshipConfig=e}get relationshipInfos(){return this.viewModel.relationshipInfos}get returnGeometryEnabled(){return this.viewModel.returnGeometryEnabled}set returnGeometryEnabled(e){this.viewModel.returnGeometryEnabled=e}get returnMEnabled(){return this.viewModel.returnMEnabled}set returnMEnabled(e){this.viewModel.returnMEnabled=e}get returnZEnabled(){return this.viewModel.returnZEnabled}set returnZEnabled(e){this.viewModel.returnZEnabled=e}get rowHighlightIds(){return this.viewModel.rowHighlightIds}set rowHighlightIds(e){this.viewModel.rowHighlightIds=e}get selectionSource(){return this.viewModel.selectionSource}set selectionSource(e){this.viewModel.selectionSource=e}get showAllRelatedTables(){return this.viewModel.showAllRelatedTables}set showAllRelatedTables(e){this.viewModel.showAllRelatedTables=e}get showPrompt(){return this.viewModel.showPrompt}set showPrompt(e){this.viewModel.showPrompt=e}get showRelatedTableCallback(){return this.viewModel.showRelatedTableCallback}set showRelatedTableCallback(e){this.viewModel.showRelatedTableCallback=e}get size(){return this.viewModel.size}get state(){return this.viewModel.state}get tableController(){return this.viewModel.tableController}set tableController(e){this.viewModel.tableController=e}get tableParent(){return this.viewModel.tableParent}set tableParent(e){this.viewModel.tableParent=e}get tableTemplate(){return this.viewModel.tableTemplate}set tableTemplate(e){this.viewModel.tableTemplate=e}get tableTemplateOverride(){return this.viewModel.tableTemplateOverride}set tableTemplateOverride(e){this.viewModel.tableTemplateOverride=e}get timeExtent(){return this.viewModel.timeExtent}set timeExtent(e){this.viewModel.timeExtent=e}get timeZone(){return this.viewModel.timeZone}set timeZone(e){this.viewModel.timeZone=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}get visibleElementsOverride(){const{attachmentsViewOptions:e,relatedTable:t,tableController:i,visibleElements:l}=this,{columnDescriptions:n,columnMenus:o,tooltips:s}=l,a=null!=e.objectId;if(t)return new M({columnDescriptions:n,columnMenus:o,tooltips:s,close:l.close,header:l.header,layerDropdown:l.layerDropdown,layerDropdownIcons:l.layerDropdownIcons,menu:l.menu,menuItems:l.menuItems,progress:l.progress,selectionColumn:!1,columnMenuItems:new v({sortAscending:!1,sortDescending:!1})});if(i){const e=i.relatedTable===this,t=i.allRelatedTablesVisible,r=e&&l.selectionColumn&&!t&&!a,d=e&&!t&&!a;return new M({columnDescriptions:n,columnMenus:o,tooltips:s,selectionColumn:r,close:!1,header:!1,layerDropdown:!1,menu:!1,progress:!1,columnMenuItems:new v({sortAscending:d,sortDescending:d})})}return a?new M({columnDescriptions:n,columnMenus:o,tooltips:s,close:l.close,header:l.header,layerDropdown:l.layerDropdown,layerDropdownIcons:l.layerDropdownIcons,menu:l.menu,menuItems:l.menuItems,progress:l.progress,selectionColumn:!1,columnMenuItems:new v({sortAscending:!1,sortDescending:!1})}):null}clearSelectionFilter(){this.viewModel.clearSelectionFilter()}async deleteAttachments(e,t,i){null!=e&&t?.length&&(i?this._showDeleteAttachmentPrompt(e,t):await this.viewModel.deleteAttachments(e,t))}deleteSelection(e){return this.highlightIds.length?e?(this._showDeletePrompt(),this.scheduleRender(),Promise.resolve()):this.viewModel.deleteSelection():Promise.resolve()}async downloadAttachmentById(e,t){return this.viewModel.downloadAttachmentById(e,t)}drainRelatedTables(){this.viewModel.drainRelatedTables()}exportSelectionToCSV(e){return this.viewModel.exportSelectionToCSV(e)}filterBySelection(){this.viewModel.filterBySelection()}findColumn(e){return this.viewModel.findColumn(e)}goToPage(e){this.viewModel.goToPage(e)}hideColumn(e){this.grid?.hideColumn(e)}nextPage(){this.viewModel.nextPage()}previousPage(){this.viewModel.previousPage()}async refresh(){await this.viewModel.refresh()}refreshCellContent(){this.viewModel.refreshCellContent()}async saveAttachmentsViewForm(){await this.viewModel.saveAttachmentsViewForm()}showAllColumns(){this.viewModel.showAllColumns()}showColumn(e){this.grid?.showColumn(e)}sortColumn(e,t){this.viewModel.sortColumn(e,t)}scrollLeft(){this.viewModel.scrollLeft()}scrollToBottom(){this.viewModel.scrollToBottom()}scrollToIndex(e){this.viewModel.scrollToIndex(e)}scrollToRow(e){this.viewModel.scrollToRow(e)}scrollToTop(){this.viewModel.scrollToTop()}toggleColumnVisibility(e){this.viewModel.toggleColumnVisibility(e)}zoomToSelection(){this.effectiveTable.viewModel.zoomToSelection()}render(){const{_effectiveVisibleElements:e,isQueryingOrSyncing:t,menuConfig:i,state:l}=this;return(0,R.K)("div",{bind:this,class:this.classes(P.base,E.D.widget)},(0,R.K)("calcite-panel",{bind:this,class:P.content,closable:e.close,description:this._effectiveDescription,disabled:this.disabled||"disabled"===l&&!this._effectiveLayers?.length,heading:e.header?this._effectiveTitle:void 0,loading:"loading"===l,menuOpen:!!i?.open,overlayPositioning:"fixed",onCalcitePanelClose:e=>{e.currentTarget.closed=!1,this.emit("close")}},e.progress?(0,R.K)("calcite-progress",{type:t?"indeterminate":"determinate"}):null,this._showLayerDropdown?this._renderLayerDropdown():null,this._renderColumnVisibilityAction(),this._renderHeaderMenuActions(),this._renderNavigationBar(),this._renderTables(),this._renderError()),this._renderColumnVisibilityPopover(),this._renderPrompt())}_renderTables(){const{grid:e,relatedTables:t}=this,i=this.classes(P.tableContainer);if(t.length){const l=this.classes(P.base,this.allRelatedTablesVisible?P.expanded:P.collapsed,this._shouldShowAttachmentsView?P.tableContainerWithAttachments:void 0);return(0,R.K)("div",{class:i},(0,R.K)("calcite-panel",{overlayPositioning:"fixed"},(0,R.K)("div",null,[this._shouldShowGrid?(0,R.K)("div",{class:l},e?.render(),this._renderPagination()):void 0,...this._filteredTables.map((e=>{const i=t.indexOf(e);return(0,R.K)("div",{class:l,key:`related-${i}`},e.render())})),,])))}return null!=this.attachmentsViewOptions.objectId?(0,R.K)("div",{class:i},(0,R.K)("calcite-panel",{overlayPositioning:"fixed"},(0,R.K)("div",null,[(0,R.K)("div",{class:this.classes(P.base,P.collapsed)},e?.render(),this._renderPagination()),this._renderAttachmentsView()]))):[(0,R.K)("div",{class:i},e?.render()),this._renderPagination()]}_renderPagination(){if(this.paginationEnabled)return(0,R.K)("calcite-pagination",{pageSize:1,startItem:this.pageIndex+1,totalItems:this.pageCount,onCalcitePaginationChange:e=>this.goToPage(e.currentTarget.startItem-1)})}_renderError(){const{messages:e}=this;return(0,R.K)("calcite-alert",{autoClose:!0,autoCloseDuration:"fast",icon:O,kind:"danger",label:e.errorOccured,open:this._hasAttachmentsViewError,slot:"alerts",onCalciteAlertClose:()=>{this.attachmentsViewOptions.error=null}},(0,R.K)("span",{slot:"message"},e.errorOccured))}_renderPrompt(){return this.prompt?(0,R.K)(p.XG,{...this.prompt,headingLevel:2}):void 0}_showDeletePrompt(){const{messages:e,messagesCommon:t}=this,i=(0,D.V)(e.deleteSelectionCount,{count:this.highlightIds.length});this.showPrompt({title:i,message:e.deleteRecordsRemoved,context:"danger",actions:{primary:{label:t.delete,action:this._onDeleteSelectionClick},secondary:{label:e.keepRecords,action:()=>this.clearPrompt()}}})}_showDeleteAttachmentPrompt(e,t){const{messages:i,messagesCommon:l}=this,n=(0,D.V)(i.deleteAttachmentCount,{count:t.length});this.showPrompt({title:n,message:i.deleteAttachmentConfirmation,context:"danger",actions:{primary:{label:l.delete,action:async()=>{try{await this.deleteAttachments(e,t,!1)}finally{this.clearPrompt()}}},secondary:{label:l.cancel,action:()=>this.clearPrompt()}}})}async _onDeleteSelectionClick(){try{await this.viewModel.deleteSelection()}finally{this.clearPrompt()}}_renderHeaderMenuAction(e){const{disabled:t,hidden:i,icon:l,text:n,clickFunction:o}=e;if(!i)return(0,R.K)("calcite-action",{disabled:t??this.menuConfig?.disabled,icon:l??void 0,key:n,onclick:()=>o(),slot:"header-menu-actions",text:n,textEnabled:!0,title:n})}_renderHeaderMenuActions(){return this._shouldShowMenu?[this._renderDefaultHeaderMenuActions(),this._renderCustomHeaderMenuActions()]:[]}_renderDefaultHeaderMenuActions(){if(!this._hasDefaultMenuItems)return[];const{messages:e}=this;return[this._showRefreshDataAction&&{icon:W,text:e.refreshData,clickFunction:()=>this.refresh()},this._showDeleteSelectionAction&&{icon:N,text:e.deleteSelection,clickFunction:()=>this.deleteSelection(!0)},this._showClearSelectionAction&&{icon:F,text:e.clearSelection,clickFunction:()=>this.highlightIds?.removeAll()},this._showZoomToSelectionAction&&{icon:te,text:e.zoomToSelection,clickFunction:()=>this.zoomToSelection()},this._showSelectedRecordsShowSelectedAction&&{icon:X,text:e.showSelected,clickFunction:()=>{const{objectIds:e}=this;e.removeAll(),e.addMany(this.highlightIds.toArray())}},this._showSelectedRecordsShowAllAction&&{icon:J,text:e.showAllRecords,clickFunction:()=>this.objectIds.removeAll()},this._showExportSelectionToCSVAction&&{icon:z,text:e.exportSelectionCSV,clickFunction:()=>this.exportSelectionToCSV()}].filter(n.Ru).map((e=>e&&this._renderHeaderMenuAction(e)))}_renderCustomHeaderMenuActions(){return this.menuConfig?.items?.map((e=>{let{disabled:t,hidden:i,icon:l,label:n,clickFunction:o}=e;return this._renderHeaderMenuAction({hidden:"function"==typeof i?i():i,icon:l,text:n,disabled:t,clickFunction:e=>o(e)})}))??[]}_renderColumnVisibilityAction(){if(!this._showColumnsVisibilityAction)return[];const{_columnVisibilityActions:e,effectiveTable:t,id:i}=this,l=this.messages.toggleColumns;return(0,R.K)("calcite-action",{afterCreate:t=>e.set(i,t),afterRemoved:()=>e.delete(i),appearance:"transparent",bind:this,disabled:t.menuConfig?.disabled,icon:Q,id:`${i}__toggle-columns-action`,slot:"header-actions-end",text:l},this._effectiveVisibleElements.tooltips?(0,R.K)("calcite-tooltip",{closeOnClick:!0,overlayPositioning:"fixed",placement:"bottom-end",slot:"tooltip"},l):null)}_renderColumnVisibilityPopover(){if(!this._showColumnsVisibilityAction||this.effectiveTable.menuConfig?.disabled)return;const{effectiveTable:e}=this,t=this.messages.toggleColumns;return(0,R.K)("calcite-popover",{autoClose:!0,class:P.menuPopover,label:t,overlayPositioning:"fixed",placement:"top-end",pointerDisabled:!0,referenceElement:this._columnVisibilityActions.get(this.id)},(0,R.K)("calcite-list",{displayMode:"nested",filterEnabled:!0,filterPlaceholder:t,label:t,selectionMode:"multiple"},e.columns.toArray().map((t=>{const i=(0,C.Ie)(t)?t.columns?.map((t=>this._renderColumnListItem({column:t,table:e,ignoreSelect:!0}))):void 0;return this._renderColumnListItem({column:t,table:e,items:i})}))))}_renderColumnListItem(e){const{column:t,table:i,items:l,ignoreSelect:n}=e,{effectiveLabel:o,fieldName:s,hidden:a}=t;return(0,R.K)("calcite-list-item",{key:`toggle-columns__item-${s}`,label:o,open:!(!l?.length||a)||void 0,selected:!a,value:s,onCalciteListItemSelect:e=>{n&&e.stopPropagation(),i.toggleColumnVisibility(e.currentTarget.value)}},l)}_renderLayerDropdown(){const e=this.messages.selectALayer;return(0,R.K)("div",{class:P.layerDropdownMenu,key:`${this.id}-layerDropdown`,slot:"header-actions-start"},(0,R.K)("calcite-dropdown",{bind:this,maxItems:5,overlayPositioning:"fixed",placement:"bottom-start"},(0,R.K)("calcite-action",{icon:G,slot:"trigger",text:e,title:e}),(0,R.K)("calcite-dropdown-group",{selectionMode:"single"},this._effectiveLayers.map(((e,t)=>this._renderLayerDropdownItem(e,t)))??null)))}_renderLayerDropdownItem(e,t){const i=this.visibleElements.layerDropdownIcons;return(0,R.K)("calcite-dropdown-item",{iconStart:i?(0,T.Gx)(e):void 0,key:`dropdown-item-${t}`,label:e.title??"",selected:e===this.layer,value:e.id,onCalciteDropdownItemSelect:()=>{this.layer=e}},e.title)}_onRelatedNavigationItemClick(e){this.viewModel.drainRelatedTablesAboveIndex(e)}_collapseRelatedTable(e){this.viewModel.collapseRelatedTable(this.effectiveTable,e)}_onShowRelatedTable(e){this.showRelatedTableCallback||(this._collapseRelatedTable(e),this._createRelatedTable(e))}async _createRelatedTable(e){const{editingEnabled:t,effectiveTable:i,paginationEnabled:l,pageSize:n,view:o,viewModel:s}=this,{layer:a,objectId:r,relatedLayer:d,relationshipId:c}=e;await a.load();const h=this.attachmentsEnabled&&(0,T.d0)(a),u=new S({layer:a,attachmentsEnabled:h,editingEnabled:t,paginationEnabled:l,pageSize:n,relatedRecordsEnabled:!0,relationshipConfig:{objectId:r,relatedLayer:d,relationshipId:c},relationshipColumnConfigs:(0,T.Dv)(a,c),tableController:this,tableParent:i,view:o,showRelatedTableCallback:e=>s.emit("show-related-table",e)});this.relatedTables.add(u),this.scheduleRender()}_renderAttachmentsView(){const{attachmentInfos:e,mode:t,objectId:i}=this.attachmentsViewOptions;return"file"!==t&&e.length&&null!=i?this._renderAttachmentsViewList():this._renderAttachmentsViewFilePane()}_renderAttachmentsViewFilePane(){const{attachmentsViewOptions:e,isSyncingAttachments:t,messages:i,messagesUnits:l,viewModel:{supportsAddAttachments:n}}=this,{attachmentId:o,attachmentInfos:a,candidates:r,objectId:d}=e,c=a.find((e=>e.id===o)),h=a.length,u=r?.length,m=c?(0,R.K)("calcite-label",{alignment:"center",key:"replace-file-node",scale:"l"},i.replaceFile):void 0,p=u?void 0:(0,R.K)("calcite-label",{alignment:"center",key:"message-node",scale:"m"},n?null==d?i.noFeature:i.dragAndDropToUpload:i.editingRestricted),g=Array.from(r??[]).pop(),b=g?(0,R.K)("calcite-label",{key:"filename-node"},g.name):void 0,v=n&&null!=d,w=v&&u,_=(0,R.K)("input",{afterCreate:I.cA,afterRemoved:I.N_,afterUpdate:I.cA,bind:this,"data-node-ref":"_attachmentsInput",files:r,hidden:!0,name:"attachment",onchange:e=>this._onAttachmentsViewCandidateChange(e),type:"file"}),y=v?(0,R.K)("calcite-button",{appearance:"outline-fill",bind:this,disabled:t,iconStart:B,key:"select-node",loading:!1,onclick:()=>{this._attachmentsInput?.click()},width:"full"},i.selectFile):void 0,f=w?(0,R.K)("calcite-button",{appearance:"outline-fill",bind:this,disabled:t,iconStart:q,key:"save-node",loading:t,onclick:()=>{this.saveAttachmentsViewForm()},width:"full"},c?i.updateAttachment:i.addAttachment):void 0,M=h||u?(0,R.K)("calcite-button",{appearance:"transparent",bind:this,disabled:t,key:"cancel-node",onclick:()=>{this._attachmentsInput&&(this._attachmentsInput.value=""),e.reset(),e.attachmentInfos?.length&&(e.mode="list")},width:"full"},this.messagesCommon.cancel):void 0;return[(0,R.K)("div",{class:P.attachmentsView,key:"attachments-view"},(0,R.K)("div",{class:P.attachmentsViewContent,key:"attachments-view-content"},(0,R.K)("div",{bind:this,class:P.attachmentsViewDropArea,ondragover:e=>e.preventDefault(),ondrop:this._onAttachmentsViewDrop},(0,R.K)("calcite-icon",{class:P.attachmentsViewIcon,icon:ee,scale:"l"}),m,p,(0,R.K)("form",{afterCreate:t=>e.form=t,afterRemoved:()=>e.form=null,bind:this,key:"attachments-form"},(0,R.K)("fieldset",null,b,_,y,f,M)))),null!=d&&null!=c?(0,R.K)("div",{class:P.attachmentsViewInformation,key:"information"},this._renderAttachmentsViewThumbnail(c,200),(0,R.K)("label",{key:"file-label"},i.fileName),(0,R.K)("span",{key:"file-span"},c.name),(0,R.K)("label",{key:"size-label"},i.size),(0,R.K)("span",{key:"size-span"},(0,s.v7)(l,c.size??0))):void 0)]}_renderAttachmentsViewList(){const{attachmentsViewOptions:e,messages:t,messagesUnits:i,viewModel:{store:{syncingAttachmentEdits:l},supportsDeleteAttachments:n,supportsUpdateAttachments:o}}=this,{attachmentInfos:a,objectId:r}=e;return(0,R.K)("calcite-list",{afterCreate:I.cA,afterRemoved:I.N_,afterUpdate:I.cA,bind:this,class:P.attachmentsViewList,"data-node-ref":"attachmentsList",key:`attachments-list-${r}`,label:t?.attachments,loading:l,ondragover:e=>e.preventDefault(),ondrop:this._onAttachmentsViewDrop,selectionMode:"multiple",onCalciteListChange:()=>this.scheduleRender()},...a?.map((l=>{const{id:a,name:d,size:c,url:h}=l,u=(0,s.v7)(i,c??0);return(0,R.K)("calcite-list-item",{afterRemoved:()=>this.scheduleRender(),key:`attachment-${a}`,label:d,value:a},this._renderAttachmentsViewListThumbnail(l),(0,R.K)("span",{class:P.attachmentsViewListFileSize,slot:"actions-end",title:u},u),(0,R.K)("calcite-action",{appearance:"transparent",icon:L,key:`download-attachment-${a}`,label:`${d}`,onclick:e=>{e.preventDefault(),this.downloadAttachmentById(r??-1,a)},slot:"actions-end",text:t.downloadAttachment,title:t.downloadAttachment}),o&&null!=r?(0,R.K)("calcite-action",{appearance:"transparent",disabled:!o,icon:Y,key:`replace-attachment-${a}`,label:`${d}`,onclick:()=>{e.mode="file",e.attachmentId=a},slot:"actions-end",text:t.updateAttachment,title:t.updateAttachment}):void 0,(0,R.K)("calcite-action",{appearance:"transparent",icon:U,key:`launch-attachment-${a}`,label:`${d}`,onclick:()=>{h&&window.open(h,"_blank")},slot:"actions-end",text:t.viewAttachment,title:t.viewAttachment}),n&&null!=r?(0,R.K)("calcite-action",{appearance:"transparent",class:P.attachmentsViewListItemDelete,disabled:!n,icon:N,key:`delete-attachment-${a}`,label:`${d}`,onclick:()=>{this.deleteAttachments(r,[a],!0)},slot:"actions-end",text:t.deleteAttachment,title:t.deleteAttachment}):void 0)})))}_renderAttachmentsViewListThumbnail(e){return(0,R.K)("div",{class:P.attachmentsViewListThumbnail,slot:"content-start"},(0,R.K)("a",{href:e.url??"",rel:"noreferrer",target:"_blank"},this._renderAttachmentsViewThumbnail(e)))}_renderAttachmentsViewThumbnail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64;const{contentType:i,name:l,size:n,url:o}=e,s=`${o}${o?.includes("?")?"&":"?"}w=${t}&s=${n}`;return this.viewModel.supportsResizeAttachments&&(0,m.SD)(i)?(0,R.K)("img",{alt:l,key:`thumbnail-image-${l}`,src:s,title:l}):(0,R.K)("calcite-icon",{icon:(0,m.tV)(i),key:`thumbnail-icon-${l}`,scale:"l",textLabel:l,title:l})}_onAttachmentsViewCandidateChange(e){let{target:t}=e;this.attachmentsViewOptions.candidates=t?.files}_onAttachmentsViewDrop(e){const{viewModel:t}=this;e.preventDefault(),(t.supportsAddAttachments||t.supportsUpdateAttachments)&&this.attachmentsViewOptions.set({mode:"file",candidates:e.dataTransfer?.files})}_renderNavigationBar(){const{effectiveTable:e,messages:t,messagesCommon:i,relatedTable:l,relatedTables:n}=this;if(!this._shouldShowNavigationBar)return;const{attachmentsList:o,attachmentsViewOptions:s,layer:a,viewModel:{supportsAddAttachments:r,supportsDeleteAttachments:d}}=e;if(!a)return;const{attachmentInfos:c,objectId:h}=s,u=null!=h,m=c.length,p=o?.selectedItems?.length??0,g=`${a.objectIdField}: ${h}`,b=(0,D.V)(t.selectedCount,{count:p}),v=(0,D.V)(t.attachmentsCount,{count:m}),w=u?(0,R.K)("calcite-action",{bind:this,icon:$,iconFlipRtl:!0,key:"navigation-feature",onclick:()=>e.scrollToRow(h),text:g,textEnabled:!0,title:g}):void 0,_=u?(0,R.K)("calcite-action",{icon:$,iconFlipRtl:!0,key:"navigation-attachments-label",label:v,onclick:()=>{m>0&&(s.mode="list")},text:v,textEnabled:!0,title:v}):void 0,y=u?(0,R.K)("calcite-chip",{closable:!0,closed:0===p,key:"navigation-chip",kind:"inverse",label:b,selected:!0,title:b,value:"selected",onCalciteChipClose:()=>o?.selectedItems?.forEach((e=>e.selected=!1))},b):void 0,f=l?(0,R.K)("calcite-label",{layout:"inline"},t.showAllTables,(0,R.K)("calcite-switch",{checked:this.allRelatedTablesVisible,onCalciteSwitchChange:e=>this.showAllRelatedTables=!!e.currentTarget.checked})):void 0,M=u&&"list"===s.mode&&null!=h&&p&&d?(0,R.K)("calcite-action",{icon:N,iconFlipRtl:!0,key:"attachments-trash-all",onclick:()=>{e.deleteAttachments(h,o?.selectedItems?.map((e=>e.value))??[],!0)},text:i.delete,textEnabled:!0,title:(0,D.V)(t.deleteAttachmentCount,{count:p})}):void 0,S=u&&"list"===s.mode&&r?(0,R.K)("calcite-action",{bind:this,icon:H,iconFlipRtl:!0,key:"attachments-add",onclick:()=>{s.attachmentId=null,s.mode="file"},text:t.addAttachment,textEnabled:!0,title:t.addAttachment}):void 0;return(0,R.K)("div",{class:P.tableNavigation,key:"table-nav"},(0,R.K)("calcite-action",{icon:j,iconFlipRtl:!0,key:"go-back",onclick:()=>{l&&this.drainRelatedTables(),e.attachmentsViewOptions.objectId=null},text:this.layer?.title??"",textEnabled:!1,title:l?t.exitRelatedRecords:t.exitAttachments}),n.toArray().map(((e,t)=>this._renderRelatedTableNavigationAction(e,t))),w,_,(0,R.K)("div",null,y,f,M,S))}_renderRelatedTableNavigationAction(e,t){const i=this._getLabelForRelatedTableNavigationAction(e);return(0,R.K)("calcite-action",{icon:$,iconFlipRtl:!0,key:t,onclick:()=>this._onRelatedNavigationItemClick(t),text:i,textEnabled:!0,title:e.layer?.title||""})}_getLabelForRelatedTableNavigationAction(e){const t=e.layer?.title;if(!t)return"";const{relatedTables:i}=this;return i.length<=1?t:i.indexOf(e)!==i.length-1&&t.length>20?`${t.slice(0,20)}...`:t}};(0,l._)([(0,a.MZ)()],ie.prototype,"_attachmentsInput",void 0),(0,l._)([(0,a.MZ)()],ie.prototype,"_columnVisibilityActions",void 0),(0,l._)([(0,a.MZ)()],ie.prototype,"_effectiveDescription",null),(0,l._)([(0,a.MZ)()],ie.prototype,"_effectiveLayers",null),(0,l._)([(0,a.MZ)()],ie.prototype,"_effectiveTitle",null),(0,l._)([(0,a.MZ)()],ie.prototype,"_effectiveVisibleElements",null),(0,l._)([(0,a.MZ)()],ie.prototype,"_filteredTables",null),(0,l._)([(0,a.MZ)()],ie.prototype,"_hasAttachmentsViewError",null),(0,l._)([(0,a.MZ)()],ie.prototype,"_hasCustomMenuItems",null),(0,l._)([(0,a.MZ)()],ie.prototype,"_hasDefaultMenuItems",null),(0,l._)([(0,a.MZ)()],ie.prototype,"_shouldShowGrid",null),(0,l._)([(0,a.MZ)()],ie.prototype,"_shouldShowMenu",null),(0,l._)([(0,a.MZ)()],ie.prototype,"_shouldShowAttachmentsView",null),(0,l._)([(0,a.MZ)()],ie.prototype,"_showClearSelectionAction",null),(0,l._)([(0,a.MZ)()],ie.prototype,"_showColumnsVisibilityAction",null),(0,l._)([(0,a.MZ)()],ie.prototype,"_showDeleteSelectionAction",null),(0,l._)([(0,a.MZ)()],ie.prototype,"_showExportSelectionToCSVAction",null),(0,l._)([(0,a.MZ)()],ie.prototype,"_showLayerDropdown",null),(0,l._)([(0,a.MZ)()],ie.prototype,"_shouldShowNavigationBar",null),(0,l._)([(0,a.MZ)()],ie.prototype,"_showRefreshDataAction",null),(0,l._)([(0,a.MZ)()],ie.prototype,"_showSelectedRecordsShowSelectedAction",null),(0,l._)([(0,a.MZ)()],ie.prototype,"_showSelectedRecordsShowAllAction",null),(0,l._)([(0,a.MZ)()],ie.prototype,"_showZoomToSelectionAction",null),(0,l._)([(0,a.MZ)()],ie.prototype,"_viewLayers",null),(0,l._)([(0,a.MZ)()],ie.prototype,"attachmentsList",void 0),(0,l._)([(0,a.MZ)({readOnly:!0})],ie.prototype,"grid",null),(0,l._)([(0,a.MZ)()],ie.prototype,"actionColumnConfig",null),(0,l._)([(0,a.MZ)({readOnly:!0})],ie.prototype,"activeFilters",null),(0,l._)([(0,a.MZ)({readOnly:!0})],ie.prototype,"activeSortOrders",null),(0,l._)([(0,a.MZ)()],ie.prototype,"allColumns",null),(0,l._)([(0,a.MZ)({readOnly:!0})],ie.prototype,"allRelatedTablesVisible",null),(0,l._)([(0,a.MZ)()],ie.prototype,"attachmentsEnabled",null),(0,l._)([(0,a.MZ)()],ie.prototype,"attachmentsViewOptions",null),(0,l._)([(0,a.MZ)({type:h.default})],ie.prototype,"attributeTableTemplate",null),(0,l._)([(0,a.MZ)()],ie.prototype,"autoRefreshEnabled",null),(0,l._)([(0,a.MZ)()],ie.prototype,"clearPrompt",null),(0,l._)([(0,a.MZ)()],ie.prototype,"columnPerformanceModeEnabled",null),(0,l._)([(0,a.MZ)()],ie.prototype,"columnReorderingEnabled",null),(0,l._)([(0,a.MZ)({readOnly:!0})],ie.prototype,"columns",null),(0,l._)([(0,a.MZ)()],ie.prototype,"description",void 0),(0,l._)([(0,a.MZ)()],ie.prototype,"disabled",void 0),(0,l._)([(0,a.MZ)()],ie.prototype,"editingEnabled",null),(0,l._)([(0,a.MZ)()],ie.prototype,"effectiveSize",null),(0,l._)([(0,a.MZ)()],ie.prototype,"effectiveTable",null),(0,l._)([(0,a.MZ)()],ie.prototype,"filterGeometry",null),(0,l._)([(0,a.MZ)()],ie.prototype,"filterBySelectionEnabled",null),(0,l._)([(0,a.MZ)()],ie.prototype,"hiddenFields",null),(0,l._)([(0,a.MZ)()],ie.prototype,"highlightEnabled",null),(0,l._)([(0,a.MZ)()],ie.prototype,"highlightIds",null),(0,l._)([(0,a.MZ)()],ie.prototype,"icon",null),(0,l._)([(0,a.MZ)()],ie.prototype,"initialSize",null),(0,l._)([(0,a.MZ)()],ie.prototype,"isQueryingOrSyncing",null),(0,l._)([(0,a.MZ)()],ie.prototype,"isSyncingAttachments",null),(0,l._)([(0,a.MZ)()],ie.prototype,"label",null),(0,l._)([(0,a.MZ)()],ie.prototype,"layer",null),(0,l._)([(0,a.MZ)()],ie.prototype,"layers",null),(0,l._)([(0,a.MZ)()],ie.prototype,"layerView",null),(0,l._)([(0,a.MZ)()],ie.prototype,"maxSize",null),(0,l._)([(0,a.MZ)(),(0,Z.G)("esri/widgets/FeatureTable/t9n/FeatureTable")],ie.prototype,"messages",null),(0,l._)([(0,a.MZ)(),(0,Z.G)("esri/t9n/common")],ie.prototype,"messagesCommon",null),(0,l._)([(0,a.MZ)(),(0,Z.G)("esri/core/t9n/Units")],ie.prototype,"messagesUnits",null),(0,l._)([(0,a.MZ)(),(0,Z.G)("esri/widgets/support/t9n/uriUtils")],ie.prototype,"messagesURIUtils",null),(0,l._)([(0,a.MZ)()],ie.prototype,"menuConfig",void 0),(0,l._)([(0,a.MZ)()],ie.prototype,"multipleSelectionEnabled",null),(0,l._)([(0,a.MZ)()],ie.prototype,"multiSortEnabled",null),(0,l._)([(0,a.MZ)()],ie.prototype,"objectIds",null),(0,l._)([(0,a.MZ)()],ie.prototype,"outFields",null),(0,l._)([(0,a.MZ)()],ie.prototype,"pageCount",null),(0,l._)([(0,a.MZ)()],ie.prototype,"pageIndex",null),(0,l._)([(0,a.MZ)()],ie.prototype,"pageSize",null),(0,l._)([(0,a.MZ)()],ie.prototype,"paginationEnabled",null),(0,l._)([(0,a.MZ)()],ie.prototype,"prompt",null),(0,l._)([(0,a.MZ)()],ie.prototype,"relatedRecordsEnabled",null),(0,l._)([(0,a.MZ)()],ie.prototype,"relatedTable",null),(0,l._)([(0,a.MZ)()],ie.prototype,"relatedTables",null),(0,l._)([(0,a.MZ)()],ie.prototype,"relationship",null),(0,l._)([(0,a.MZ)()],ie.prototype,"relationshipColumnConfigs",null),(0,l._)([(0,a.MZ)()],ie.prototype,"relationshipConfig",null),(0,l._)([(0,a.MZ)()],ie.prototype,"relationshipInfos",null),(0,l._)([(0,a.MZ)()],ie.prototype,"returnGeometryEnabled",null),(0,l._)([(0,a.MZ)()],ie.prototype,"returnMEnabled",null),(0,l._)([(0,a.MZ)()],ie.prototype,"returnZEnabled",null),(0,l._)([(0,a.MZ)()],ie.prototype,"rowHighlightIds",null),(0,l._)([(0,a.MZ)()],ie.prototype,"selectionSource",null),(0,l._)([(0,a.MZ)()],ie.prototype,"showAllRelatedTables",null),(0,l._)([(0,a.MZ)()],ie.prototype,"showPrompt",null),(0,l._)([(0,a.MZ)()],ie.prototype,"showRelatedTableCallback",null),(0,l._)([(0,a.MZ)()],ie.prototype,"size",null),(0,l._)([(0,a.MZ)({readOnly:!0})],ie.prototype,"state",null),(0,l._)([(0,a.MZ)({constructOnly:!0})],ie.prototype,"tableController",null),(0,l._)([(0,a.MZ)({constructOnly:!0})],ie.prototype,"tableParent",null),(0,l._)([(0,a.MZ)()],ie.prototype,"tableTemplate",null),(0,l._)([(0,a.MZ)()],ie.prototype,"tableTemplateOverride",null),(0,l._)([(0,a.MZ)()],ie.prototype,"title",void 0),(0,l._)([(0,a.MZ)()],ie.prototype,"timeExtent",null),(0,l._)([(0,a.MZ)()],ie.prototype,"timeZone",null),(0,l._)([(0,a.MZ)()],ie.prototype,"view",null),(0,l._)([(0,a.MZ)({type:w.default}),(0,V.U)(["cell-click","cell-dblclick","cell-pointerover","cell-pointerout","cell-keydown","column-reorder","show-related-table"])],ie.prototype,"viewModel",void 0),(0,l._)([(0,a.MZ)({type:M,nonNullable:!0})],ie.prototype,"visibleElements",void 0),(0,l._)([(0,a.MZ)({type:M})],ie.prototype,"visibleElementsOverride",null),ie=S=(0,l._)([(0,r.$)("esri.widgets.FeatureTable")],ie);const le=ie},62541:(e,t,i)=>{i.d(t,{d:()=>l});const l={danger:"exclamation-mark-circle",info:"information",success:"check",warning:"exclamation-mark-triangle",brand:void 0,neutral:void 0,inverse:void 0}},65946:(e,t,i)=>{i.d(t,{D6:()=>c,XG:()=>h});var l=i(49403),n=i(9137),o=i(62541),s=i(17745),a=i(87118);const r="esri-editor__prompt",d={base:r,header:`${r}__header`,heading:`${r}__header__heading`,message:`${r}__message`,divider:`${r}__divider`,actions:`${r}__actions`,halfWidthButton:`${r}__half-width-button`},c=()=>(0,l.W)({button:()=>Promise.resolve().then(i.bind(i,20423)),icon:()=>Promise.resolve().then(i.bind(i,92439)),scrim:()=>i.e(86836).then(i.bind(i,64455)),label:()=>i.e(60216).then(i.bind(i,60216)),"radio-button":()=>i.e(35906).then(i.bind(i,35906)),"radio-button-group":()=>i.e(31544).then(i.bind(i,31544))});function h(e){let{actions:t,context:i,headingLevel:l,message:r,title:c,...h}=e;const{primary:u,secondary:m}=t;let p;switch(i){case"danger":p="danger";break;case"info":p="brand";break;default:p="neutral"}const g=(0,a.K)("calcite-button",{afterCreate:e=>(0,s.Z6)(e),appearance:"solid",classes:{[d.halfWidthButton]:!!m},"data-testid":"primary-prompt-button",key:"prompt-primary-button",kind:p,onclick:u.action,width:"full"},u.label),b=m&&(0,a.K)("calcite-button",{appearance:"outline",class:d.halfWidthButton,"data-testid":"secondary-prompt-button",key:"prompt-secondary-button",kind:p,onclick:m.action,width:"full"},m.label);return(0,a.K)("calcite-scrim",{"data-testid":"prompt",key:"prompt"},(0,a.K)("div",{class:`${d.base}--${i}`},(0,a.K)("div",{class:d.header},(0,a.K)("calcite-icon",{icon:o.d.warning}),(0,a.K)(n.D,{class:d.heading,level:l},c)),(0,a.K)("div",{class:d.message},r),function(e){let{radios:t,onRadioSelection:i,defaultRadioSelection:l}=e;return t?.length?(0,a.K)("calcite-radio-button-group",{name:"PromptChoiceList"},t.map((e=>(0,a.K)("calcite-label",{layout:"inline"},(0,a.K)("calcite-radio-button",{checked:e.value===l,value:e.value,onCalciteRadioButtonChange:()=>i?.(e.value)}),e.label)))):void 0}(h)??(0,a.K)("div",{class:d.divider}),(0,a.K)("div",{class:d.actions},b,g)))}},66201:(e,t,i)=>{function l(e){return t=>{t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);const i=t._delegatedEventNames,l=Array.isArray(e)?e:function(e){return e.split(",").map((e=>e.trim()))}(e);i.push(...l)}}i.d(t,{U:()=>l})},87436:(e,t,i)=>{var l;i.d(t,{u:()=>l}),function(e){e[e.KILOBYTES=1024]="KILOBYTES",e[e.MEGABYTES=1048576]="MEGABYTES",e[e.GIGABYTES=1073741824]="GIGABYTES"}(l||(l={}))},92143:(e,t,i)=>{i.d(t,{IV:()=>g,LF:()=>n,T9:()=>c,Wq:()=>a,d_:()=>o,g2:()=>u,gT:()=>s,hs:()=>h,iT:()=>p,kM:()=>r,l3:()=>d,n0:()=>b,r7:()=>m});var l=i(84190);function n(e){return{value:e}}function o(e,t){return{type:(0,l.t$)(t),value:e,unit:t}}function s(e,t){return{type:(0,l.t$)(t),value:e,unit:t}}function a(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"arithmetic";return{type:(0,l.t$)(t),value:e,unit:t,rotationType:i}}function r(e,t){const i=d(e,t);return"angle"===e.type?a(i,t,e.rotationType):function(e,t){return{type:(0,l.t$)(t),value:e,unit:t}}(i,t)}function d(e,t){return(0,l.oU)(e.value,e.unit,t)}function c(e,t){return null==e?t:null==t||e.value>(0,l.oU)(t.value,t.unit,e.unit)?e:t}function h(e,t){return null==e?null:{...e,value:e.value*t}}function u(e,t,i){if(t===i)return e;switch(i){case"arithmetic":case"geographic":return 90-e}}const m=o(0,"meters"),p=s(0,"square-meters"),g=(a(0,"radians"),a(0,"degrees")),b=a(0,"degrees","geographic")}}]);