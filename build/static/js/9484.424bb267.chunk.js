"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[9484,95252],{12837:(e,t,i)=>{i.d(t,{X:()=>p});var n=i(42198),s=i(22029),r=i(89129),o=i(79953),a=i(59116),l=i(34519),d=i(35130);var h=i(62791);const c=new Map;function p(e){if(!c.has(e)){const t=function(e,t){const i=new d.default({enabled:!0,selfEnabled:!1,featureEnabled:!0,distance:t?.distance??l.N.distance,touchSensitivityMultiplier:t?.touchSensitivityMultiplier??l.N.touchSensitivityMultiplier});return{...(0,o.watch)((()=>e.map?.allLayers?.toArray()??[]),(e=>{i.featureSources=new r.default(e).map((e=>new a.default({layer:e})))}),o.syncAndInitial),options:i}}(e,{distance:10}),i=function(e,t){return new h.g({view:e,options:t})}(e,t.options);c.set(e,{referenceCount:0,snappingManager:i,remove:()=>{t.remove(),i.destroy()}})}const t=c.get(e);t.referenceCount++;const i=(0,n.hA)((()=>{return i=e,(n=t).referenceCount--,void(n.referenceCount>0||(0,s.d)((()=>{0===n.referenceCount&&(n.remove(),c.delete(i))})));var i,n}));return{snappingManager:t.snappingManager,...i}}},23278:(e,t,i)=>{var n;i.d(t,{n:()=>n}),function(e){e[e.FEATURE=1]="FEATURE",e[e.SELF=2]="SELF",e[e.ALL=3]="ALL"}(n||(n={}))},34519:(e,t,i)=>{i.d(t,{N:()=>h});var n=i(93800),s=i(88102),r=i(19455),o=i(48602),a=i(75269);let l=class extends r.A{constructor(){super(...arguments),this.enabled=!0}};(0,n._)([(0,o.MZ)({type:Boolean})],l.prototype,"enabled",void 0),l=(0,n._)([(0,a.$)("esri.views.interactive.snapping.Settings.DefaultSnappingAlgorithm")],l);let d=class extends r.A{constructor(e){super(e),this.lineSnapper=new l,this.parallelLineSnapper=new l,this.rightAngleSnapper=new l,this.rightAngleTriangleSnapper=new l,this.shortLineThreshold=15,this.distance=5,this.pointThreshold=1e-6,this.intersectionParallelLineThreshold=1e-6,this.parallelLineThreshold=1e-6,this.verticalLineThresholdMeters=.3,this.touchSensitivityMultiplier=1.5,this.pointOnLineThreshold=1e-6,this.orange=new s.default([255,127,0]),this.orangeTransparent=new s.default([255,127,0,.5]),this.lineHintWidthReference=3,this.lineHintWidthTarget=3,this.lineHintFadedExtensions=.3,this.parallelLineHintWidth=2,this.parallelLineHintLength=24,this.parallelLineHintOffset=1.5,this.rightAngleHintSize=24,this.rightAngleHintOutlineSize=1.5,this.satisfiesConstraintScreenThreshold=1}};(0,n._)([(0,o.MZ)({type:l,constructOnly:!0,nonNullable:!0,json:{write:!0}})],d.prototype,"lineSnapper",void 0),(0,n._)([(0,o.MZ)({type:l,constructOnly:!0,nonNullable:!0,json:{write:!0}})],d.prototype,"parallelLineSnapper",void 0),(0,n._)([(0,o.MZ)({type:l,constructOnly:!0,nonNullable:!0,json:{write:!0}})],d.prototype,"rightAngleSnapper",void 0),(0,n._)([(0,o.MZ)({type:l,constructOnly:!0,nonNullable:!0,json:{write:!0}})],d.prototype,"rightAngleTriangleSnapper",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],d.prototype,"shortLineThreshold",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],d.prototype,"distance",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],d.prototype,"pointThreshold",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],d.prototype,"intersectionParallelLineThreshold",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],d.prototype,"parallelLineThreshold",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],d.prototype,"verticalLineThresholdMeters",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],d.prototype,"touchSensitivityMultiplier",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],d.prototype,"pointOnLineThreshold",void 0),(0,n._)([(0,o.MZ)({type:s.default,nonNullable:!0})],d.prototype,"orange",void 0),(0,n._)([(0,o.MZ)({type:s.default,nonNullable:!0})],d.prototype,"orangeTransparent",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],d.prototype,"lineHintWidthReference",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],d.prototype,"lineHintWidthTarget",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],d.prototype,"lineHintFadedExtensions",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],d.prototype,"parallelLineHintWidth",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:50},json:{write:!0}})],d.prototype,"parallelLineHintLength",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:5},json:{write:!0}})],d.prototype,"parallelLineHintOffset",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:46},json:{write:!0}})],d.prototype,"rightAngleHintSize",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:6},json:{write:!0}})],d.prototype,"rightAngleHintOutlineSize",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:5},json:{write:!0}})],d.prototype,"satisfiesConstraintScreenThreshold",void 0),d=(0,n._)([(0,a.$)("esri.views.interactive.snapping.Settings.Defaults")],d);const h=new d},38319:(e,t,i)=>{i.d(t,{W:()=>r});var n=i(60984),s=i(30051);class r extends n.im{intersect(e,t,i,n,r,o){return(0,s.Uy)(e,i,n,r,void 0,o)}}},43536:(e,t,i)=>{i.d(t,{m:()=>n});class n{constructor(e,t){this.isDraped=e,this.domain=t}}},47752:(e,t,i)=>{i.d(t,{I:()=>f,a:()=>g,b:()=>v});var n=i(96236),s=i(75304),r=i(50366),o=i(78731),a=i(61535),l=i(66652),d=i(35490),h=i(42403),c=i(16878),p=i(67058),u=i(22131),_=i(14480),m=i(20783),y=i(8118);class g extends m.Y{}function v(e){const t=new y.N5,{vertex:i,fragment:m}=t,{output:g,perspectiveInterpolation:v}=e;return(0,d.NB)(i,e),t.include(r.d,e),t.include(a.Z,e),t.fragment.include(s.HQ,e),t.include(o.g,e),t.include(_.z,e),t.attributes.add(u.r.POSITION,"vec3"),t.attributes.add(u.r.UV0,"vec2"),v&&t.attributes.add(u.r.PERSPECTIVEDIVIDE,"float"),i.main.add(c.H`
    vpos = position;
    forwardViewPosDepth((view * vec4(vpos, 1.0)).xyz);
    vTexCoord = uv0;
    gl_Position = transformPosition(proj, view, vpos);
    ${(0,c.If)(v,"gl_Position *= perspectiveDivide;")}`),t.varyings.add("vpos","vec3"),t.varyings.add("vTexCoord","vec2"),m.include(l.a),m.uniforms.add(new h.m("opacity",(e=>e.opacity)),new p.N("tex",(e=>e.texture))).main.add(c.H`
    discardBySlice(vpos);
    discardByTerrainDepth();
    ${(0,c.If)(g===n.V.ObjectAndLayerIdColor,"fragColor = vec4(0, 0, 0, 1); return;")}
    vec4 finalColor = texture(tex, vTexCoord) * opacity;
    outputColorHighlightOID(finalColor, vpos);`),t}const f=Object.freeze(Object.defineProperty({__proto__:null,ImageMaterialPassParameters:g,build:v},Symbol.toStringTag,{value:"Module"}))},58715:(e,t,i)=>{i.d(t,{S:()=>o});var n=i(30124),s=i(79978),r=i(6613);class o extends n.p{constructor(e,t,i){super(e,t),this._updateControlPoints=i,this.editSourcePoints=!1}updateVertices(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.Y.ACCUMULATE_STEPS;return this._apply(new a(this.data,e,t,this.editSourcePoints,this._updateControlPoints),i)}}class a extends r.D{constructor(e,t,i,n,s){super(e,t,i),this._editSourcePoints=n,this._updateControlPoints=s}_notifyChanges(e){super._notifyChanges(e),this._updateControlPoints(this._editSourcePoints)}canAccumulate(e){return this._editSourcePoints===e._editSourcePoints&&super.canAccumulate(e)}}},59247:(e,t,i)=>{i.d(t,{r:()=>A});var n=i(76517),s=i(96236),r=i(71723),o=i(35694),a=i(60984),l=i(85645),d=i(53801),h=i(89893),c=i(22131),p=i(19236),u=i(92434),_=i(38319),m=i(33050),y=i(93003),g=i(16434),v=i(86836),f=i(92804),x=i(47752),w=i(12723);class b extends g.w{constructor(e,t){super(e,t,new y.$(x.I,(()=>i.e(63336).then(i.bind(i,63336)))),T)}_getPipelineState(e,t){const{oitPass:i,output:n,hasOccludees:r,enableOffset:o,cullFace:a}=e,d=i===v.Y.NONE,h=i===v.Y.FrontFace;return(0,w.Ey)({blending:(0,s.RN)(n)?d?w.Os:(0,l.ez)(i):null,culling:(0,w.Xt)(a),depthTest:{func:(0,l.K_)(i)},depthWrite:(0,l.z5)(e),drawBuffers:(0,l.m6)(i,n),colorWrite:w.kn,stencilWrite:r?f.v0:null,stencilTest:r?t?f.a9:f.qh:null,polygonOffset:d||h?null:(0,l.aB)(o)})}initializePipeline(e){return this._occludeePipeline=this._getPipelineState(e,!0),this._getPipelineState(e,!1)}getPipeline(e){return e?this._occludeePipeline:super.getPipeline()}}const T=new Map([[c.r.POSITION,0],[c.r.UV0,2],[c.r.PERSPECTIVEDIVIDE,3]]);var E=i(93800),M=i(69261),P=i(82606),S=i(21484),I=i(51448);class O extends I.E{constructor(){super(...arguments),this.cullFace=r.s2.None,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.perspectiveInterpolation=!0,this.textureCoordinateType=M.I.None,this.emissionSource=P.ZX.None,this.discardInvisibleFragments=!0,this.occlusionPass=!1,this.objectAndLayerIdColorInstanced=!1}}(0,E._)([(0,S.W)({count:r.s2.COUNT})],O.prototype,"cullFace",void 0),(0,E._)([(0,S.W)()],O.prototype,"enableOffset",void 0),(0,E._)([(0,S.W)()],O.prototype,"writeDepth",void 0),(0,E._)([(0,S.W)()],O.prototype,"hasOccludees",void 0),(0,E._)([(0,S.W)()],O.prototype,"terrainDepthTest",void 0),(0,E._)([(0,S.W)()],O.prototype,"cullAboveTerrain",void 0),(0,E._)([(0,S.W)()],O.prototype,"perspectiveInterpolation",void 0);class A extends _.W{constructor(e){super(e,D),this._configuration=new O,this.vertexAttributeLocations=T,this.supportsEdges=!0,this.produces=new Map([[d.N.OPAQUE_MATERIAL,e=>(0,s.CL)(e)],[d.N.TRANSPARENT_MATERIAL,e=>(0,s._o)(e)&&this.parameters.writeDepth],[d.N.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,e=>(0,s._o)(e)&&!this.parameters.writeDepth],[d.N.DRAPED_MATERIAL,e=>(0,s._o)(e)||(0,s.CL)(e)]])}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=t.hasOccludees,this._configuration.oitPass=t.oitPass,this._configuration.enableOffset=t.camera.relativeElevation<l.xt,this._configuration.terrainDepthTest=t.terrainDepthTest,this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration.perspectiveInterpolation=this.parameters.perspectiveInterpolation,this._configuration}get visible(){return!0}createGLMaterial(e){return new C(e)}createBufferWriter(){const e=u.zK.clone();return this.parameters.perspectiveInterpolation&&e.f32(c.r.PERSPECTIVEDIVIDE),new R(e)}}class C extends o.m8{constructor(e){super({...e,...e.material.parameters})}beginSlot(e){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.getTechnique(b,e)}}class R extends p.Z{write(e,t,i,s,r,o){for(const a of this.vertexBufferLayout.fields.keys()){const s=i.get(a);if(s)if(a===c.r.PERSPECTIVEDIVIDE){(0,h.vA)(1===s.size);const e=r.getField(a,n.Y$);e&&(0,m.uO)(s,e,o)}else(0,m.zC)(a,s,e,t,r,o)}}}class D extends a.qA{constructor(e){super(),this.textureId=e,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=r.s2.None,this.opacity=1,this.perspectiveInterpolation=!1}}},59865:(e,t,i)=>{i.r(t),i.d(t,{default:()=>J});var n=i(93800),s=i(74719),r=i(42198),o=(i(21265),i(64986)),a=i(79970),l=i(49959),d=i(79953),h=i(48602),c=(i(50925),i(14746),i(75269)),p=i(13473),u=i(90772),_=i(92539),m=i(77297),y=i(76406),g=i(6946),v=i(64682),f=i(17741),x=i(84190),w=i(98352),b=i(67654),T=i(32006),E=i(98080),M=i(15492),P=i(58715),S=i(51232),I=i(4542),O=i(12837);const A=Symbol(),C=Symbol();let R=class extends g.default{get editSourcePoints(){return!!this.options?.reshapeOptions.editSourcePoints!==this._isEditSourcePointsToggled}get updating(){return this._updatingHandles.updating}get _preferredInteractionTool(){return this.options?.tool??"transform"}get _toolType(){switch(this._preferredInteractionTool){case"transform":return"transform-3d";case"reshape":return"reshape-3d"}}get _validatedSelectedElement(){const e=this.selectedElement;if(!e)return null;const{layer:{source:t}}=this;return t?"hasElement"in t?t.hasElement(e)?e:null:t===e?e:null:null}constructor(e){super(e),this.enabled=!1,this._isEditSourcePointsToggled=!1,this._updatingHandles=new M.U,this._isOpacityToggled=!1,this._factor=1,this._tool=null,this._object=null,this._createToolAbortController=null,this._onPointerMove=(0,l.debounce)((async e=>{const t=await this._updatingHandles.addPromise(this._findElementAtScreenPoint(e));this.destroyed||(this.removeHandles(C),t&&t!==this.selectedElement&&(this.view.cursor="pointer",this.addHandles((0,r.hA)((()=>this.view.cursor=null)),C)))})),this._tmpMat2=(0,b.vt)(),this._tmpVec2=(0,E.vt)()}destroy(){this._createToolAbortController=(0,f.DC)(this._createToolAbortController)}initialize(){this.addHandles([(0,r.DQ)(this._updatingHandles),this._updatingHandles.add((()=>this.enabled),(e=>this._enableDisable(e)),d.initial),this._updatingHandles.add((()=>this._preferredInteractionTool),(e=>this._preferredInteractionToolChanged(e)))])}_enableDisable(e){if(!e)return void this.removeHandles(A);this._dynamicImports();const{view:t}=this,i=new I.oe;i.add(I.TU.undo,(()=>{this._object?.operations?.undo(),this._object?.emit("modified-externally")})),i.add(I.TU.redo,(()=>{this._object?.operations?.redo(),this._object?.emit("modified-externally")})),i.addToggle(I.TU.preserveAspectRatio,(e=>{"transform-3d"===this._tool?.type&&(this._tool.preserveAspectRatio="key-down"===e.type)})),i.addToggle(I.TU.editSourcePoints,(e=>{"reshape-3d"===this._tool?.type&&(this._isEditSourcePointsToggled="key-down"===e.type)})),i.addToggle(I.TU.rotateIncrements,(e=>{"transform-3d"===this._tool?.type&&(this._tool.snapRotation="key-down"===e.type)})),i.add(I.TU.toggleOpacity,(()=>{const e=this._object?.element;e&&(e.opacity*=this._isOpacityToggled?2:.5,this._isOpacityToggled=!this._isOpacityToggled)})),i.add(I.TU.moveUp,(()=>this._move(0,this._factor))),i.add(I.TU.moveDown,(()=>this._move(0,-this._factor))),i.add(I.TU.moveRight,(()=>this._move(this._factor,0))),i.add(I.TU.moveLeft,(()=>this._move(-this._factor,0))),i.addToggle(I.TU.factorModifier,(e=>this._factor="key-down"===e.type?10:1)),this._isOpacityToggled=!1,this.addHandles([i.register(t,S.o.TOOL),(0,r.hA)((()=>{this._isOpacityToggled&&this.selectedElement&&(this.selectedElement.opacity*=2,this._isOpacityToggled=!1)})),t.on("immediate-click",(e=>this._onClick(e)),S.o.TOOL),t.on("pointer-move",(e=>this._onPointerMove(e).catch((()=>{}))),S.o.TOOL),this._updatingHandles.add((()=>this._validatedSelectedElement),((e,t)=>{t&&e!==t&&this._isOpacityToggled&&(t.opacity*=2,this._isOpacityToggled=!1),this._selectedElementChanged(e)}),d.initial),(0,r.hA)((()=>{t.cursor=null,this._removeTool()}))],A)}async _onClick(e){await this._updatingHandles.addPromise(e.async((async()=>{const t=await this._findElementAtScreenPoint(e);this.destroyed||(t&&e.stopPropagation(),this.selectedElement=t,this.selectedElement&&(this.view.cursor=null))})))}async _selectedElementChanged(e){e?.georeference?this._object?.element!==e&&await this._updatingHandles.addPromise(this._recreateTool()):this._removeTool()}async _recreateTool(){this._createToolAbortController=(0,f.DC)(this._createToolAbortController),this._removeTool();const e=this._validatedSelectedElement;if(!e)return;const t=new AbortController;this._createToolAbortController=t;const{ManipulatedObject3DMediaElement:i,ExtentTransformTool:n,ReshapeTool3D:s}=await this._dynamicImports();if(t.signal.aborted)return;const{view:o,layer:a,_toolType:l}=this;switch(this._object=new i({view:o,layer:a,element:e,tool:this._preferredInteractionTool}),l){case"transform-3d":{this._tool=new n({view:o,object:this._object});const e=o.inputManager;e.isModifierKeyDown(I.TU.rotateIncrements.key)&&(this._tool.snapRotation=!0),e.isModifierKeyDown(I.TU.preserveAspectRatio.key)&&(this._tool.preserveAspectRatio=!0)}break;case"reshape-3d":{const e=(0,O.X)(o),{snappingManager:t}=e;this._tool=new s({view:o,object:this._object,enableMidpoints:!1,enableZShape:!1,snappingManager:t,enableMoveObject:!1,autoHideManipulators:!0,enableDeleteVertices:!1,sketchOptions:{tooltips:{enabled:!0,inputEnabled:!0,visibleElements:{area:!1}}}}),this.addHandles([e,(0,d.watch)((()=>({editSourcePoints:this.editSourcePoints,operations:this._object?.operations})),(e=>{e.operations instanceof P.S&&(e.operations.editSourcePoints=e.editSourcePoints)}),d.syncAndInitial)],this._tool)}}this.addHandles([(0,r.hA)((()=>{this._object=(0,f.pR)(this._object),this._tool&&(o.tools.remove(this._tool),this._tool=null)}))],this._tool),o.addAndActivateTool(this._tool)}_preferredInteractionToolChanged(e){const{_tool:t}=this;if(!t)return;if(this._toolType!==t.type)return void this._updatingHandles.addPromise(this._recreateTool());const{_object:i}=this;i&&(i.tool=e)}async _dynamicImports(){const[{ManipulatedObject3DMediaElement:e},{ExtentTransformTool:t,ReshapeTool3D:n}]=await Promise.all([Promise.all([i.e(45641),i.e(47903)]).then(i.bind(i,47903)),Promise.all([i.e(31329),i.e(67439),i.e(26584),i.e(70082),i.e(48261),i.e(58005),i.e(85090),i.e(95329),i.e(61018),i.e(11846),i.e(13497),i.e(78548),i.e(67754),i.e(81239),i.e(43882),i.e(35074)]).then(i.bind(i,43882))]);return{ManipulatedObject3DMediaElement:e,ExtentTransformTool:t,ReshapeTool3D:n}}async _findElementAtScreenPoint(e){const t=(await this.view.hitTest(e,{include:[this.layer]})).results[0];return"media"===t?.type?t.element:null}_removeTool(){this._tool&&this.removeHandles(this._tool)}_move(e,t){const{view:i,_object:n}=this,s=n?.operations;if(!s)return;const r=i.overlayPixelSizeInMapUnits(i.pointsOfInterest.focus.location)*(0,x.GA)(i.spatialReference)/(0,x.GA)(s.data.spatialReference),{_tmpMat2:o,_tmpVec2:a}=this,l=(0,w.$0)(o,(0,v.kU)(360-this.view.camera.heading)),d=(0,T.hZ)(a,r*e,r*t);(0,T.l0)(d,d,l),s.move(d[0],d[1],0),n.emit("modified-externally")}};(0,n._)([(0,h.MZ)({constructOnly:!0})],R.prototype,"view",void 0),(0,n._)([(0,h.MZ)({constructOnly:!0})],R.prototype,"layer",void 0),(0,n._)([(0,h.MZ)()],R.prototype,"selectedElement",void 0),(0,n._)([(0,h.MZ)()],R.prototype,"enabled",void 0),(0,n._)([(0,h.MZ)()],R.prototype,"options",void 0),(0,n._)([(0,h.MZ)()],R.prototype,"editSourcePoints",null),(0,n._)([(0,h.MZ)()],R.prototype,"_isEditSourcePointsToggled",void 0),(0,n._)([(0,h.MZ)()],R.prototype,"updating",null),(0,n._)([(0,h.MZ)()],R.prototype,"_preferredInteractionTool",null),(0,n._)([(0,h.MZ)()],R.prototype,"_validatedSelectedElement",null),R=(0,n._)([(0,c.$)("esri.views.3d.layers.support.MediaLayerInteraction")],R);var D=i(84654),L=i(65069),Z=i(69291),H=i(25735),N=i(69473),j=i(86845),V=i(10625),U=i(51446),z=i(71602),k=i(22131),G=i(59247),W=i(84279),F=i(95252),B=i(50330),$=i(19983),q=i(92156);let Y=class extends((0,y.w)((0,F.default)(W.default))){get interactive(){return this._interaction.enabled}set interactive(e){this._interaction&&(this._interaction.enabled=e)}get selectedElement(){return this._interaction.selectedElement}set selectedElement(e){this._interaction&&(this._interaction.selectedElement=e)}get visibleAtCurrentScale(){return(0,$.E5)(this.layer.effectiveScaleRange,this.view.scale)}constructor(e){super(e),this.type="media-3d",this.drapeSourceType=m.Om.Features,this.updatePolicy=z.q.SYNC,this._uidToElement=new Map,this._highlightedElements=new Map,this._elementsInHighlightedId=new Map,this._renderElements=new Map,this._lastDrapingExtent=null,this._update=(0,l.debounce)((async(e,t,i)=>{const n=await this._collectMediaElements(e,t,i);this._synchronizeRenderElements(n)}),0);const{view:t,layer:i}=e;this._interaction=new R({view:t,layer:i}),this.addHandles((0,d.watch)((()=>this.interactionOptions),(e=>this._interaction.options=e),d.syncAndInitial))}initialize(){const{view:e,layer:t}=this;this._renderer=e.basemapTerrain.overlayManager.registerGeometryDrapeSource(this);const i=()=>this._updateWithLastDrapingExtent();this.addHandles([(0,r.hA)((()=>e.basemapTerrain.overlayManager.unregisterDrapeSource(this))),(0,d.on)((()=>t.effectiveSource),"change",i),(0,d.on)((()=>t.effectiveSource),"refresh",i)]),this._updatingHandles.add((()=>this.suspended),i)}setDrapingExtent(e,t){this._lastDrapingExtent={overlays:e,spatialReference:t},this._updateWithLastDrapingExtent()}getHit(e){const t=this._uidToElement.get(e);return t?{type:"media",element:t,layer:this.layer}:null}highlight(e,t){const i=new j.h(t?.name??B.Tv),n=(0,o.xZ)(e)?Array.from(e):[e];this._elementsInHighlightedId.set(i,n);for(const s of n){const e=this._highlightedElements.get(s);e?e.add(i):this._highlightedElements.set(s,new Set([i]));const t=this._renderElements.get(s)?.getRenderData();t&&(t.renderGeometry.geometry.addHighlight(i),this._renderer.modifyGeometries([t.renderGeometry],N.k.HIGHLIGHT))}return(0,r.hA)((()=>{const e=this._elementsInHighlightedId.get(i);if(e){for(const t of e){const e=this._highlightedElements.get(t);if(!e)continue;e.delete(i);const n=this._renderElements.get(t)?.getRenderData();n&&(n.renderGeometry.geometry.removeHighlight(i),this._renderer.modifyGeometries([n.renderGeometry],N.k.HIGHLIGHT)),0===e.size&&this._highlightedElements.delete(t)}this._elementsInHighlightedId.delete(i)}}))}isUpdating(){return super.isUpdating()||this._interaction.updating}_updateWithLastDrapingExtent(){if(null==this._lastDrapingExtent||this.suspended)return void(this._renderer&&this._synchronizeRenderElements(new Set));const{overlays:e,spatialReference:t}=this._lastDrapingExtent;this._updatingHandles.addPromise(this._update(e,t).catch((()=>{})))}async _collectMediaElements(e,t,i){const n=this.layer.effectiveSource;return null==n?new Set:new Set((await Promise.all(e.map((e=>n.queryElements((0,u.w1)(e.extent,t),{signal:i}))))).flat())}_synchronizeRenderElements(e){this._synchronizeRenderElementsRemove(e),this._synchronizeRenderElementsAdd(e)}_synchronizeRenderElementsRemove(e){this._renderElements.forEach(((t,i)=>{e.has(i)||(this._removeElement(i,t),this.emit("element-render-changed",{element:i}))}))}_synchronizeRenderElementsAdd(e){for(const t of e)this._renderElements.has(t)||this._createRenderElement(t)}_removeElement(e,t){this._destroyRenderData(e,t),this._renderElements.delete(e),this._uidToElement.delete(e.uid),t.handle.remove()}_createRenderElement(e){const t=new _._({spatialReference:this.view.spatialReference,element:e}),i=new X((0,r.vE)([this._updatingHandles.add((()=>e.opacity),(e=>i.getRenderData()?.material.setParameters({opacity:e}))),this._updatingHandles.add((()=>t.coords),(()=>{i.data?this._updateGeometry(t,i):this._initializeRenderData(t,i)})),this._updatingHandles.add((()=>e.content),(()=>this._initializeRenderData(t,i))),(0,r.DQ)(t)]));this._renderElements.set(e,i),this._uidToElement.set(e.uid,e),this._updatingHandles.addPromise(e.load().catch((()=>{}))),this._initializeRenderData(t,i)}_initializeRenderData(e,t){const{coords:i,element:n}=e,{contentWidth:s,contentHeight:r}=n;if(null==i||null==n.content)return void this._destroyRenderData(n,t);if(t.data)return;const o=this._createTexture(n.content),a=o.load(this.view._stage.renderView.renderingContext),d=()=>{this.view._stage.add(o);const e=new G.r({textureId:o.id,opacity:n.opacity,perspectiveInterpolation:!0}),a=this._getPositionAttributeArray(i),l=this._getPerspectiveDivideAttributeArray(a,s,r),d=[0,1,2,0,2,3],h=new H.V(e,[[k.r.POSITION,new L.n(a,d,3,!0)],[k.r.UV0,new L.n([0,0,1,0,1,1,0,1],d,2,!0)],[k.r.PERSPECTIVEDIVIDE,new L.n(l,d,1,!0)]]),c=new V.$(h,{layerUid:this.layer.uid,graphicUid:n.uid}),p=this._highlightedElements.get(n);p?.forEach((e=>c.geometry.addHighlight(e))),this._renderer.addGeometries([c],N.q.ADD),t.data=new Q(c,o,e),this.emit("element-render-changed",{element:n})};(0,l.isPromiseLike)(a)?(t.data=o,this._updatingHandles.addPromise(a),a.then(d).catch((()=>o.dispose()))):d()}_updateGeometry(e,t){const{coords:i,element:n}=e;if(null==i||null==n.content)return void this._destroyRenderData(n,t);const s=t.getRenderData();if(!s)return;const r=this._getPositionAttributeArray(i);s.renderGeometry.geometry.setAttributeData(k.r.POSITION,r);const o=this._getPerspectiveDivideAttributeArray(r,n.contentWidth,n.contentHeight);s.renderGeometry.geometry.setAttributeData(k.r.PERSPECTIVEDIVIDE,o),s.renderGeometry.geometry.invalidateBoundingInfo(),this._renderer.modifyGeometries([s.renderGeometry],N.k.GEOMETRY),this.emit("element-render-changed",{element:n})}_getPositionAttributeArray(e){const[t,i,n,s]=e.rings[0];return[t[0],t[1],D.bi,s[0],s[1],D.bi,n[0],n[1],D.bi,i[0],i[1],D.bi]}_getPerspectiveDivideAttributeArray(e,t,i){(0,a.O)(K,[0,0,t,0,t,i,0,i],[e[0],e[1],e[3],e[4],e[6],e[7],e[9],e[10]]);const n=K[6]/K[8]*t,s=K[7]/K[8]*i;return[1,1+n,1+n+s,1+s]}_destroyRenderData(e,t){const i=t.data;if(null==i)return;if(t.data=null,i?.type===Z.X.Texture)return void i.dispose();const n=i.texture;n.unload(),this.view._stage.remove(n),this._renderer.removeGeometries([i.renderGeometry],N.q.REMOVE),this.emit("element-render-changed",{element:e})}_createTexture(e){const t=e instanceof HTMLImageElement?e.naturalWidth:e.width,i=e instanceof HTMLImageElement?e.naturalHeight:e.height;if("getFrame"in e)throw new s.default("media-layer-view-3d","animation is not supported");return new U.g(e,{wrap:{s:q.pF.CLAMP_TO_EDGE,t:q.pF.CLAMP_TO_EDGE},preMultiplyAlpha:!0,width:t,height:i,mipmap:!0,updateCallback:()=>this.view.basemapTerrain.overlayManager.requestRender()})}get test(){}};(0,n._)([(0,h.MZ)({readOnly:!0})],Y.prototype,"type",void 0),(0,n._)([(0,h.MZ)()],Y.prototype,"layer",void 0),(0,n._)([(0,h.MZ)()],Y.prototype,"interactive",null),(0,n._)([(0,h.MZ)()],Y.prototype,"selectedElement",null),(0,n._)([(0,h.MZ)({readOnly:!0})],Y.prototype,"visibleAtCurrentScale",null),Y=(0,n._)([(0,c.$)("esri.views.3d.layers.MediaLayerView3D")],Y);const K=(0,p.vt)();class X{constructor(e){this.handle=e}getRenderData(){return this.data?.type===Z.X.Texture?null:this.data}}class Q{constructor(e,t,i){this.renderGeometry=e,this.texture=t,this.material=i,this.type="RenderData"}}const J=Y},61073:(e,t,i)=>{i.d(t,{l:()=>o});i(21265),i(50925);var n=i(89227),s=i(23278),r=i(43536);class o extends r.m{constructor(e,t,i,n){super(n,arguments.length>4&&void 0!==arguments[4]?arguments[4]:s.n.ALL),this.previousVertex=e,this.centerVertex=t,this.nextVertex=i}equals(e){return e instanceof o&&(0,n.p)(this.previousVertex,e.previousVertex)&&(0,n.p)(this.centerVertex,e.centerVertex)&&(0,n.p)(this.nextVertex,e.nextVertex)}}},65022:(e,t,i)=>{i.d(t,{c:()=>o});i(21265),i(50925);var n=i(89227),s=i(23278),r=i(43536);class o extends r.m{constructor(e,t,i,n){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:s.n.ALL,o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];super(n,r),this.type=e,this.lineStart=t,this.lineEnd=i,this.fadeLeft=o,this.fadeRight=a}equals(e){return e instanceof o&&this.type===e.type&&(0,n.p)(this.lineStart,e.lineStart)&&(0,n.p)(this.lineEnd,e.lineEnd)&&this.fadeLeft===e.fadeLeft&&this.fadeRight===e.fadeRight}get length(){return(0,n.j)(this.lineStart,this.lineEnd)}}},70755:(e,t,i)=>{i.d(t,{r:()=>o});i(21265),i(50925);var n=i(89227),s=i(23278),r=i(43536);class o extends r.m{constructor(e,t,i){super(i,arguments.length>3&&void 0!==arguments[3]?arguments[3]:s.n.ALL),this.lineStart=e,this.lineEnd=t}equals(e){return e instanceof o&&(0,n.p)(this.lineStart,e.lineStart)&&(0,n.p)(this.lineEnd,e.lineEnd)}}},74309:(e,t,i)=>{i.d(t,{v:()=>o});var n=i(89227),s=i(23278),r=i(43536);class o extends r.m{constructor(e,t){super(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.n.ALL),this.intersectionPoint=e}equals(e){return e instanceof o&&(0,n.p)(this.intersectionPoint,e.intersectionPoint)}}},76406:(e,t,i)=>{i.d(t,{w:()=>h});var n=i(93800),s=i(42198),r=i(49959),o=i(79953),a=i(48602),l=(i(21265),i(50925),i(14746),i(75269)),d=i(19317);const h=e=>{let t=class extends e{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),(0,d.jI)(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const e=new AbortController,t=e.signal;this.addHandles((0,s.hA)((()=>e.abort()))),await(0,o.whenOnce)((()=>this.view.defaultsFromMap?.heightModelInfoReady),t),(0,r.throwIfAborted)(t);const i=(0,d.Hu)(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return(0,n._)([(0,a.MZ)()],t.prototype,"view",void 0),(0,n._)([(0,a.MZ)()],t.prototype,"slicePlaneEnabled",void 0),t=(0,n._)([(0,l.$)("esri.views.3d.layers.LayerView3D")],t),t}},79970:(e,t,i)=>{i.d(t,{O:()=>p,W:()=>c});var n=i(67965),s=i(13473),r=i(32006),o=i(89227);const a=(0,i(28473).vt)(),l=(0,s.vt)(),d=(0,s.vt)(),h=(0,s.vt)();function c(e,t,i){return(0,o.i)(a,t[0],t[1],1),(0,o.q)(a,a,(0,n.mg)(l,i)),0===a[2]?(0,r.hZ)(e,a[0],a[1]):(0,r.hZ)(e,a[0]/a[2],a[1]/a[2])}function p(e,t,i){return u(d,t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]),u(h,i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7]),(0,n.lw)(e,(0,n.KC)(d,d),h),0!==e[8]&&(e[0]/=e[8],e[1]/=e[8],e[2]/=e[8],e[3]/=e[8],e[4]/=e[8],e[5]/=e[8],e[6]/=e[8],e[7]/=e[8],e[8]/=e[8]),e}function u(e,t,i,s,r,d,h,c,p){(0,n.hZ)(e,t,s,d,i,r,h,1,1,1),(0,o.i)(a,c,p,1),(0,n.KC)(l,e);const[u,_,m]=(0,o.q)(a,a,(0,n.mg)(l,l));return(0,n.hZ)(l,u,0,0,0,_,0,0,0,m),(0,n.lw)(e,l,e)}},83795:(e,t,i)=>{i.d(t,{b3:()=>c,jZ:()=>h});var n=i(19455),s=i(90772),r=i(41896),o=i(53053),a=i(78629),l=i(65597),d=i(70576);function h(e){return p(e,!0)}function c(e){return p(e,!1)}function p(e,t){if(null==e)return null;const i=e.spatialReference,s=(0,d.Vp)(i),o=n.A.isSerializable(e)?e.toJSON():e;if(!s)return o;const h=(0,d.K8)(i)?102100:4326,c=l.j7[h].maxX,p=l.j7[h].minX;if((0,a.isPoint)(o))return _(o,c,p);if((0,a.isMultipoint)(o))return o.points=o.points.map((e=>_(e,c,p))),o;if((0,a.isExtent)(o))return u(o,s);if((0,a.isPolygon)(o)||(0,a.isPolyline)(o)){const e=(0,r.Rg)(x,o),i={xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3]},n=(0,l.kd)(i.xmin,p)*(2*c),s=0===n?o:(0,l.kS)(o,n);return i.xmin+=n,i.xmax+=n,i.xmax>c?v(s,c,t):i.xmin<p?v(s,p,t):s}return o}function u(e,t){if(!t)return e;const i=function(e,t){const i=[],{ymin:n,ymax:s,xmin:r,xmax:o}=e,a=e.xmax-e.xmin,[l,d]=t.valid,{x:h,frameId:c}=m(e.xmin,t),{x:p,frameId:u}=m(e.xmax,t),_=h===p&&a>0;if(a>2*d){const e={xmin:r<o?h:p,ymin:n,xmax:d,ymax:s},t={xmin:l,ymin:n,xmax:r<o?p:h,ymax:s},a={xmin:0,ymin:n,xmax:d,ymax:s},_={xmin:l,ymin:n,xmax:0,ymax:s},m=[],g=[];y(e,a)&&m.push(c),y(e,_)&&g.push(c),y(t,a)&&m.push(u),y(t,_)&&g.push(u);for(let i=c+1;i<u;i++)m.push(i),g.push(i);i.push(new f(e,[c]),new f(t,[u]),new f(a,m),new f(_,g))}else h>p||_?i.push(new f({xmin:h,ymin:n,xmax:d,ymax:s},[c]),new f({xmin:l,ymin:n,xmax:p,ymax:s},[u])):i.push(new f({xmin:h,ymin:n,xmax:p,ymax:s},[c]));return i}(e,t).map((e=>e.extent));return i.length<2?i[0]||e:i.length>2?(e.xmin=t.valid[0],e.xmax=t.valid[1],e):{rings:i.map((e=>[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]))}}function _(e,t,i){if(Array.isArray(e)){const n=e[0];if(n>t){const i=(0,l.kd)(n,t);e[0]=n+i*(-2*t)}else if(n<i){const t=(0,l.kd)(n,i);e[0]=n+t*(-2*i)}}else{const n=e.x;if(n>t){const i=(0,l.kd)(n,t);e.x+=i*(-2*t)}else if(n<i){const t=(0,l.kd)(n,i);e.x+=t*(-2*i)}}return e}function m(e,t){const[i,n]=t.valid,s=2*n;let r,o=0;return e>n?(r=Math.ceil(Math.abs(e-n)/s),e-=r*s,o=r):e<i&&(r=Math.ceil(Math.abs(e-i)/s),e+=r*s,o=-r),{x:e,frameId:o}}function y(e,t){const{xmin:i,ymin:n,xmax:s,ymax:r}=t;return g(e,i,n)&&g(e,i,r)&&g(e,s,r)&&g(e,s,n)}function g(e,t,i){return t>=e.xmin&&t<=e.xmax&&i>=e.ymin&&i<=e.ymax}function v(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=!(0,a.isPolyline)(e);if(n&&(0,o.m3)(e),i)return(new w).cut(e,t);const s=n?e.rings:e.paths,r=n?4:2,l=s.length,d=-2*t;for(let o=0;o<l;o++){const e=s[o];if(e&&e.length>=r){const t=[];for(const i of e)t.push([i[0]+d,i[1]]);s.push(t)}}return n?e.rings=s:e.paths=s,e}class f{constructor(e,t){this.extent=e,this.frameIds=t}}const x=(0,s.vt)();class w{constructor(){this._linesIn=[],this._linesOut=[]}cut(e,t){let i;if(this._xCut=t,e.rings)this._closed=!0,i=e.rings,this._minPts=4;else{if(!e.paths)return null;this._closed=!1,i=e.paths,this._minPts=2}for(const s of i){if(!s||s.length<this._minPts)continue;let e=!0;for(const t of s)e?(this.moveTo(t),e=!1):this.lineTo(t);this._closed&&this.close()}this._pushLineIn(),this._pushLineOut(),i=[];for(const s of this._linesIn)s&&s.length>=this._minPts&&i.push(s);const n=-2*this._xCut;for(const s of this._linesOut)if(s&&s.length>=this._minPts){for(const e of s)e[0]+=n;i.push(s)}return this._closed?e.rings=i:e.paths=i,e}moveTo(e){this._pushLineIn(),this._pushLineOut(),this._prevSide=this._side(e[0]),this._moveTo(e[0],e[1],this._prevSide),this._prevPt=e,this._firstPt=e}lineTo(e){const t=this._side(e[0]);if(t*this._prevSide==-1){const i=this._intersect(this._prevPt,e);this._lineTo(this._xCut,i,0),this._prevSide=0,this._lineTo(e[0],e[1],t)}else this._lineTo(e[0],e[1],t);this._prevSide=t,this._prevPt=e}close(){const e=this._firstPt,t=this._prevPt;e[0]===t[0]&&e[1]===t[1]||this.lineTo(e),this._checkClosingPt(this._lineIn),this._checkClosingPt(this._lineOut)}_moveTo(e,t,i){this._closed?(this._lineIn.push([i<=0?e:this._xCut,t]),this._lineOut.push([i>=0?e:this._xCut,t])):(i<=0&&this._lineIn.push([e,t]),i>=0&&this._lineOut.push([e,t]))}_lineTo(e,t,i){this._closed?(b(this._lineIn,i<=0?e:this._xCut,t),b(this._lineOut,i>=0?e:this._xCut,t)):i<0?(0===this._prevSide&&this._pushLineOut(),this._lineIn.push([e,t])):i>0?(0===this._prevSide&&this._pushLineIn(),this._lineOut.push([e,t])):this._prevSide<0?(this._lineIn.push([e,t]),this._lineOut.push([e,t])):this._prevSide>0&&(this._lineOut.push([e,t]),this._lineIn.push([e,t]))}_checkClosingPt(e){const t=e.length;t>3&&e[0][0]===this._xCut&&e[t-2][0]===this._xCut&&e[1][0]===this._xCut&&(e[0][1]=e[t-2][1],e.pop())}_side(e){return e<this._xCut?-1:e>this._xCut?1:0}_intersect(e,t){const i=(this._xCut-e[0])/(t[0]-e[0]);return e[1]+i*(t[1]-e[1])}_pushLineIn(){this._lineIn&&this._lineIn.length>=this._minPts&&this._linesIn.push(this._lineIn),this._lineIn=[]}_pushLineOut(){this._lineOut&&this._lineOut.length>=this._minPts&&this._linesOut.push(this._lineOut),this._lineOut=[]}}function b(e,t,i){const n=e.length;n>1&&e[n-1][0]===t&&e[n-2][0]===t?e[n-1][1]=i:e.push([t,i])}},84279:(e,t,i)=>{i.r(t),i.d(t,{default:()=>m});var n=i(93800),s=i(6946),r=i(58448),o=i(93633),a=i(50925),l=i(17741),d=i(20620),h=i(48602),c=(i(21265),i(14746),i(75269)),p=i(15492),u=i(19983);let _=class extends(o.A.IdentifiableMixin(d.A.EsriPromiseMixin(r.A.EventedMixin(s.default)))){get spatialReferenceSupported(){return!0}constructor(e){super(e),this._updatingHandles=new p.U,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if("layerview:create-error"!==e.name){const t=this.layer&&this.layer.id||"no id",i=this.layer?.title||"no title";a.A.getLogger(this).error("#resolve()",`Failed to resolve layer view (layer title: '${i}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=(0,l.pR)(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome("visible",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&this.parent&&!this.parent.suspended&&this.view?.ready&&(0,u.g7)(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{};this.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const t=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return(0,u.g7)(t)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};(0,n._)([(0,h.MZ)({readOnly:!0})],_.prototype,"spatialReferenceSupported",null),(0,n._)([(0,h.MZ)()],_.prototype,"view",void 0),(0,n._)([(0,h.MZ)()],_.prototype,"fullOpacity",null),(0,n._)([(0,h.MZ)()],_.prototype,"layer",void 0),(0,n._)([(0,h.MZ)()],_.prototype,"parent",void 0),(0,n._)([(0,h.MZ)({readOnly:!0})],_.prototype,"suspended",null),(0,n._)([(0,h.MZ)({readOnly:!0})],_.prototype,"suspendInfo",null),(0,n._)([(0,h.MZ)({readOnly:!0})],_.prototype,"legendEnabled",null),(0,n._)([(0,h.MZ)({type:Boolean,readOnly:!0})],_.prototype,"updating",null),(0,n._)([(0,h.MZ)({readOnly:!0})],_.prototype,"updatingProgress",null),(0,n._)([(0,h.MZ)()],_.prototype,"updateSuspended",null),(0,n._)([(0,h.MZ)()],_.prototype,"visible",null),(0,n._)([(0,h.MZ)({readOnly:!0})],_.prototype,"visibleAtCurrentScale",null),(0,n._)([(0,h.MZ)({readOnly:!0})],_.prototype,"visibleAtCurrentTimeExtent",null),_=(0,n._)([(0,c.$)("esri.views.layers.LayerView")],_);const m=_},92434:(e,t,i)=>{i.d(t,{Ci:()=>r,Dq:()=>l,dB:()=>a,zK:()=>o});var n=i(98876),s=i(22131);const r=(0,n.BP)().vec3f(s.r.POSITION),o=(0,n.BP)().vec3f(s.r.POSITION).vec2f(s.r.UV0),a=(0,n.BP)().vec3f(s.r.POSITION).vec4u8(s.r.COLOR),l=(0,n.BP)().vec3f(s.r.POSITION).vec2f(s.r.UV0).vec4u8(s.r.OBJECTANDLAYERIDCOLOR)},92539:(e,t,i)=>{i.d(t,{_:()=>c});var n=i(93800),s=i(6946),r=i(48602),o=(i(21265),i(50925),i(14746),i(75269)),a=i(65920),l=i(96913),d=i(90772),h=i(83795);let c=class extends s.default{constructor(e){super(e)}get bounds(){const e=this.coords;return null==e?.extent?null:(0,d.VY)(e.extent)}get coords(){const e=this.element.georeference?.coords;return(0,l.projectOrLoad)(e,this.spatialReference).geometry}get normalizedCoords(){return a.default.fromJSON((0,h.jZ)(this.coords))}get normalizedBounds(){const e=null!=this.normalizedCoords?this.normalizedCoords.extent:null;return null!=e?(0,d.VY)(e):null}};(0,n._)([(0,r.MZ)()],c.prototype,"spatialReference",void 0),(0,n._)([(0,r.MZ)()],c.prototype,"element",void 0),(0,n._)([(0,r.MZ)()],c.prototype,"bounds",null),(0,n._)([(0,r.MZ)()],c.prototype,"coords",null),(0,n._)([(0,r.MZ)()],c.prototype,"normalizedCoords",null),(0,n._)([(0,r.MZ)()],c.prototype,"normalizedBounds",null),c=(0,n._)([(0,o.$)("esri.layers.support.MediaElementView")],c)},95252:(e,t,i)=>{i.r(t),i.d(t,{default:()=>d});var n=i(93800),s=i(48602),r=(i(21265),i(50925),i(14746),i(75269)),o=i(6946);let a=class extends o.default{constructor(e){super(e),this.editSourcePoints=!1}};(0,n._)([(0,s.MZ)()],a.prototype,"editSourcePoints",void 0),a=(0,n._)([(0,r.$)("esri.views.3d.layers.support.MediaLayerInteractionOptions.ReshapeOptions")],a);let l=class extends o.default{constructor(e){super(e),this.tool="transform",this.reshapeOptions=new a}};(0,n._)([(0,s.MZ)()],l.prototype,"tool",void 0),(0,n._)([(0,s.MZ)({type:a})],l.prototype,"reshapeOptions",void 0),l=(0,n._)([(0,r.$)("esri.views.3d.layers.support.MediaLayerInteractionOptions")],l);const d=e=>{let t=class extends e{constructor(){super(...arguments),this.layer=null,this.interactive=!1,this.interactionOptions=new l,this.selectedElement=null}highlight(e,t){throw new Error("missing implementation")}};return(0,n._)([(0,s.MZ)()],t.prototype,"layer",void 0),(0,n._)([(0,s.MZ)()],t.prototype,"interactive",void 0),(0,n._)([(0,s.MZ)({type:l})],t.prototype,"interactionOptions",void 0),(0,n._)([(0,s.MZ)()],t.prototype,"selectedElement",void 0),t=(0,n._)([(0,r.$)("esri.views.layers.MediaLayerView")],t),t}}}]);