"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[3885,8501,26266,30882,53263,71028,74940,75644,85648],{26266:(e,t,n)=>{n.r(t),n.d(t,{InverseGeodeticSolverResult:()=>b,directGeodeticSolver:()=>_,geodesicAreas:()=>w,geodesicCompatibleSpatialReference:()=>S,geodesicDensify:()=>M,geodesicDistance:()=>C,geodesicLengths:()=>v,inverseGeodeticSolver:()=>y,isSupported:()=>g,pointFromDistance:()=>R});var i=n(74719),r=n(84190),a=n(80556),s=n(75400),o=n(65920),l=n(54824),c=n(93321),u=n(64226),d=n(70576);function h(e){if(!e)return null;const t=e.wkid;if(t)return u.uw[t];const n=e.wkt2??e.wkt;return n?function(e){const t=u._f.exec(e);if(!t||2!==t.length)return null;const n=t[1].split(",");if(!n||n.length<3)return null;const i=parseFloat(n[1]),r=parseFloat(n[2]);return isNaN(i)||isNaN(r)?null:{a:i,f:0===r?0:1/r}}(n):null}function p(e){const t=h(e);if(function(e){return null!=e&&"b"in e&&"eSq"in e&&"radius"in e}(t))return t;const n=t.a*(1-t.f);return Object.assign(t,{b:n,eSq:1-(n/t.a)**2,radius:(2*t.a+n)/3,densificationRatio:1e4/((2*t.a+n)/3)})}function f(e){return null!=e&&e<0?e+360:e}function m(e,t,n){const{a:i,eSq:r}=p(n),a=Math.sqrt(r),s=Math.sin(t[1]*u.eh),o=i*t[0]*u.eh;let l;return l=r>0?i*((1-r)*(s/(1-r*(s*s))-1/(2*a)*Math.log((1-a*s)/(1+a*s))))*.5:i*s,e[0]=o,e[1]=l,e}function g(e){return(0,d.EA)(e)&&!!h(e)}function w(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"square-meters";if(e.some((e=>!g(e.spatialReference))))throw new i.default("geodesic-areas:invalid-spatial-reference","the input geometries spatial reference is not supported");const n=[];for(let i=0;i<e.length;i++){const t=e[i],r=t.spatialReference,{radius:a,densificationRatio:s}=p(r),o=a*s;n.push(M(t,o))}const a=[],s=[0,0],o=[0,0];for(let i=0;i<n.length;i++){const{rings:e,spatialReference:l}=n[i];let c=0;for(let t=0;t<e.length;t++){const n=e[t];m(s,n[0],l),m(o,n[n.length-1],l);let i=o[0]*s[1]-s[0]*o[1];for(let e=0;e<n.length-1;e++)m(s,n[e+1],l),m(o,n[e],l),i+=o[0]*s[1]-s[0]*o[1];c+=i}c=(0,r.oU)(c,"square-meters",t),a.push(c/-2)}return a}function v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"meters";if(!e)throw new i.default("geodesic-lengths:invalid-geometries","the input geometries type is not supported");if(e.some((e=>!g(e.spatialReference))))throw new i.default("geodesic-lengths:invalid-spatial-reference","the input geometries spatial reference is not supported");const n=[];for(let i=0;i<e.length;i++){const a=e[i],{spatialReference:s}=a,o="polyline"===a.type?a.paths:a.rings;let l=0;for(let e=0;e<o.length;e++){const t=o[e];let n=0;for(let e=1;e<t.length;e++){const i=t[e-1][0],r=t[e][0],a=t[e-1][1],o=t[e][1];if(a!==o||i!==r){const e=new b;y(e,[i,a],[r,o],s),n+=e.distance}}l+=n}l=(0,r.oU)(l,"meters",t),n.push(l)}return n}function M(e,t){if("polyline"!==e.type&&"polygon"!==e.type)throw new i.default("geodesic-densify:invalid-geometry","the input geometry is neither polyline nor polygon");const{spatialReference:n}=e;if(!g(n))throw new i.default("geodesic-densify:invalid-spatial-reference","the input geometry spatial reference is not supported");const r="polyline"===e.type?e.paths:e.rings,s=[],u=[0,0],d=new b;for(const i of r){const e=[];s.push(e),e.push([i[0][0],i[0][1]]);let r,a,o=i[0][0],l=i[0][1];for(let s=0;s<i.length-1;s++){if(r=i[s+1][0],a=i[s+1][1],o===r&&l===a)continue;const c=[o,l];y(d,[o,l],[r,a],n);const{azimuth:h,distance:p}=d,f=p/t;if(f>1){for(let i=1;i<=f-1;i++)_(u,c,h,i*t,n),e.push(u.slice());_(u,c,h,(p+Math.floor(f-1)*t)/2,n),e.push(u.slice())}_(u,c,h,p,n),e.push(u.slice()),o=u[0],l=u[1]}}const h=(0,a.PZ)(c.default,n);return"polyline"===e.type?new l.default({paths:s,spatialReference:h}):new o.default({rings:s,spatialReference:h})}class b{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.distance=e,this.azimuth=t,this.reverseAzimuth=n}}function _(e,t,n,i,r){const a=t[0],s=t[1],o=a*u.eh,l=s*u.eh,c=(n??0)*u.eh,{a:d,b:h,f:f}=p(r),m=Math.sin(c),g=Math.cos(c),w=(1-f)*Math.tan(l),v=1/Math.sqrt(1+w*w),M=w*v,b=Math.atan2(w,g),_=v*m,y=_*_,C=1-y,R=C*(d*d-h*h)/(h*h),S=1+R/16384*(4096+R*(R*(320-175*R)-768)),B=R/1024*(256+R*(R*(74-47*R)-128));let k,L,x,$=i/(h*S),z=2*Math.PI;for(;Math.abs($-z)>1e-12;)x=Math.cos(2*b+$),k=Math.sin($),L=Math.cos($),z=$,$=i/(h*S)+B*k*(x+B/4*(L*(2*x*x-1)-B/6*x*(4*k*k-3)*(4*x*x-3)));const K=M*k-v*L*g,U=Math.atan2(M*L+v*k*g,(1-f)*Math.sqrt(y+K*K)),Z=f/16*C*(4+f*(4-3*C)),q=Math.atan2(k*m,v*L-M*k*g)-(1-Z)*f*_*($+Z*k*(x+Z*L*(2*x*x-1)));return e[0]=(o+q)/u.eh,e[1]=U/u.eh,e}function y(e,t,n,i){const r=t[0]*u.eh,a=t[1]*u.eh,s=n[0]*u.eh,o=n[1]*u.eh,{a:l,b:c,f:d,radius:h}=p(i),f=s-r,m=Math.atan((1-d)*Math.tan(a)),g=Math.atan((1-d)*Math.tan(o)),w=Math.sin(m),v=Math.cos(m),M=Math.sin(g),b=Math.cos(g);let _,y,C,R,S,B,k,L,x,$,z=1e3,K=f;do{if(k=Math.sin(K),L=Math.cos(K),C=Math.sqrt(b*k*(b*k)+(v*M-w*b*L)*(v*M-w*b*L)),0===C)return e.distance=0,e.azimuth=void 0,e.reverseAzimuth=void 0,e;S=w*M+v*b*L,B=Math.atan2(C,S),x=v*b*k/C,y=1-x*x,R=S-2*w*M/y,isNaN(R)&&(R=0),$=d/16*y*(4+d*(4-3*y)),_=K,K=f+(1-$)*d*x*(B+$*C*(R+$*S*(2*R*R-1)))}while(Math.abs(K-_)>1e-12&&--z>0);if(0===z){const t=h,n=Math.acos(Math.sin(a)*Math.sin(o)+Math.cos(a)*Math.cos(o)*Math.cos(s-r))*t,i=s-r,l=Math.sin(i)*Math.cos(o),c=Math.cos(a)*Math.sin(o)-Math.sin(a)*Math.cos(o)*Math.cos(i),d=Math.atan2(l,c);return e.azimuth=d/u.eh,e.distance=n,e.reverseAzimuth=void 0,e}const U=y*(l*l-c*c)/(c*c),Z=U/1024*(256+U*(U*(74-47*U)-128)),q=c*(1+U/16384*(4096+U*(U*(320-175*U)-768)))*(B-Z*C*(R+Z/4*(S*(2*R*R-1)-Z/6*R*(4*C*C-3)*(4*R*R-3)))),D=Math.atan2(b*Math.sin(K),v*M-w*b*Math.cos(K)),A=Math.atan2(v*Math.sin(K),v*M*Math.cos(K)-w*b);return e.azimuth=D/u.eh,e.distance=q,e.reverseAzimuth=A/u.eh,e}function C(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"meters";if(!e||!t)throw new i.default("geodesic-distance:missing-parameters","one or both input parameters are missing");if(!e.spatialReference||!t.spatialReference)throw new i.default("geodesic-distance:invalid-parameters","one or both input points do not have a spatial reference");if(!(0,d.aI)(e.spatialReference,t.spatialReference))throw new i.default("geodesic-distance:invalid-parameters","spatial references of input parameters do not match");const{spatialReference:a}=e;if(!g(a))throw new i.default("geodesic-distance:not-supported","input geometry spatial reference is not supported");if(e.x===t.x&&e.y===t.y)return new b(0,0,0);const s=new b;return y(s,[e.x,e.y],[t.x,t.y],a),s.distance=(0,r.oU)(s.distance,"meters",n),s.azimuth=f(s.azimuth),s.reverseAzimuth=f(s.reverseAzimuth),s}function R(e,t,n){if(!e||null==t||null==n)throw new i.default("point-from-distance:missing-parameters","one or more input parameters are missing or undefined");if(n<0||n>360)throw new i.default("point-from-distance:-of-bounds","azimuth is restricted to angles between, and including, 0\xb0 to 360\xb0 degrees");if(!e.spatialReference)throw new i.default("point-from-distance:missing-spatial-reference","the input point must have a spatial reference");const{spatialReference:r}=e;if(!g(r))throw new i.default("geodesic-distance:not-supported","input geometry spatial reference is not supported");const a=[0,0];return _(a,[e.x,e.y],n,t,r),new s.default({x:a[0],y:a[1],spatialReference:r})}function S(e){return g(e)?e:(0,d.K8)(e)?c.default.WGS84:null}},35104:(e,t,n)=>{function i(e){return null!=e&&"object"==typeof e&&"2d"===e.type&&"linkchart"===e.view2dType}n.d(t,{O:()=>i})},56062:(e,t,n)=>{n.d(t,{c:()=>a});var i=n(84190),r=n(78139);function a(e){const t="metric";if(null==e)return t;const n=e.map,a=(n&&"portalItem"in n?n.portalItem?.portal:null)??r.default.getDefault();switch(a.user?.units??a.units){case t:return t;case"english":return"imperial"}return(0,i.jM)(e.spatialReference)??t}},74940:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var i=n(93800),r=n(6946),a=n(16804),s=n(84190),o=n(48602),l=(n(21265),n(50925),n(14746),n(75269)),c=n(75400),u=n(54824),d=n(93321),h=n(26266),p=n(30312),f=n(70576),m=n(5616),g=n(35104);function w(e){let{state:{paddedViewState:t},spatialReference:n,width:i}=e;return n.isWrappable&&t.worldScreenWidth<i}function v(e,t){const{x:n,y:i}=e?(0,m.webMercatorToGeographic)(t,!0):t;return[n,i]}let M=class extends r.default{constructor(e){super(e),this.scaleComputedFrom=(0,a.tc)(),this.view=null}get state(){return this.view?.ready&&"2d"===this.view.type?(0,g.O)(this.view)&&!this.view.inGeographicLayout?"disabled":"ready":"disabled"}getScaleBarProperties(e,t){if("disabled"===this.state||isNaN(e)||!t||!this.view)return null;const n=this._getDistanceInMeters();return null==n?null:this._getScaleBarProps(e,n,t)}_getDistanceInMeters(){const{state:e,spatialReference:t}=this.view;if(!(0,f.fn)(t))return null;const{isGeographic:n}=t,i=function(e){const{isWebMercator:t,wkt:n,wkt2:i}=e;return t||((i||n)?.includes("WGS_1984_Web_Mercator")??!1)}(t);if(!n&&!i)return e.extent.width*((0,s.Ao)(t)??1);const[r,a]=this._getScaleMeasuringPoints(),o=i||n&&!(0,h.isSupported)(t)?d.default.WGS84:t,l=new u.default({paths:[[v(i,r),v(i,a)]],spatialReference:o}),c=(0,p.straightLineDensify)(l,10);let m;try{[m]=(0,h.geodesicLengths)([c],"meters")}catch{return null}return m}_getScaleMeasuringPoints(){const e=this.view,{width:t,height:n,position:i,spatialReference:r}=e;if(w(e)){const e=(0,f.Vp)(r),{valid:t}=e;return[new c.default(t[0],0,r),new c.default(t[1],0,r)]}let s=this.scaleComputedFrom.y-i[1];s>n?s=n:s<0&&(s=0);const o=(0,a.tc)(0,s),l=(0,a.tc)(t,s);return[e.toMap(o),e.toMap(l)]}_getScaleBarProps(e,t,n){const i=this.view,r=e*t/(w(i)?i.state.paddedViewState.worldScreenWidth:i.width);if(r<.001)return null;const a=function(e,t){switch(t){case"metric":return e>1e3?{distance:(0,s.oU)(e,"meters","kilometers"),unit:"kilometer"}:e>1?{distance:e,unit:"meter"}:e>.01?{distance:(0,s.oU)(e,"meters","centimeters"),unit:"centimeter"}:{distance:(0,s.oU)(e,"meters","millimeters"),unit:"millimeter"};case"imperial":return e>1609.344?{distance:(0,s.oU)(e,"meters","miles"),unit:"mile"}:e>.3048?{distance:(0,s.oU)(e,"meters","feet"),unit:"foot"}:{distance:(0,s.oU)(e,"meters","inches"),unit:"inch"}}}(r,n),{distance:o,unit:l}=a;let c=o,u=0;for(;c>=1;)c/=10,u++;const{min:d,max:h}=function(e){return e>.5?{min:.5,max:1}:e>.2?{min:.2,max:.5}:{min:.1,max:.2}}(c),p=h/c>=c/d?d:h;return{length:e*(p/c),value:10**u*p,unit:l}}};(0,i._)([(0,o.MZ)()],M.prototype,"scaleComputedFrom",void 0),(0,i._)([(0,o.MZ)({readOnly:!0})],M.prototype,"state",null),(0,i._)([(0,o.MZ)()],M.prototype,"view",void 0),M=(0,i._)([(0,l.$)("esri.widgets.ScaleBar.ScaleBarViewModel")],M);const b=M},75644:(e,t,n)=>{n.d(t,{q:()=>r});var i=n(56062);const r={readOnly:!0,get(){return(0,i.c)(this.view)}}},85648:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var i=n(93800),r=n(56082),a=n(50925),s=n(79953),o=n(16804),l=n(48602),c=(n(21265),n(14746),n(75269)),u=n(23224),d=n(75644),h=n(27811);const p="esri-scale-bar",f={base:p,labelContainer:`${p}__label-container`,rulerLabelContainer:`${p}__label-container--ruler`,lineLabelContainer:`${p}__label-container--line`,topLabelContainer:`${p}__label-container--top`,bottomLabelContainer:`${p}__label-container--bottom`,label:`${p}__label`,line:`${p}__line`,topLine:`${p}__line--top`,bottomLine:`${p}__line--bottom`,ruler:`${p}__ruler`,rulerBlock:`${p}__ruler-block`,barContainer:`${p}__bar-container`,rulerBarContainer:`${p}__bar-container--ruler`,lineBarContainer:`${p}__bar-container--line`};var m=n(74940),g=n(50821),w=(n(17745),n(76697)),v=n(87118);function M(e,t){return(0,u.ZV)(e,{style:"unit",unit:t,unitDisplay:"short"})}let b=class extends h.default{constructor(e,t){super(e,t),this.messages=null,this.style="line",this.viewModel=new m.default,(0,r.ED)(a.A.getLogger(this),"Scale Bar","arcgis-scale-bar",{version:"4.32"})}initialize(){this.addHandles((0,s.watch)((()=>{const{view:e}=this;return[e?.stationary,e?.center,e?.scale,e?.zoom]}),(e=>{let[t]=e;t&&this.scheduleRender()})))}get icon(){return"actual-size"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get unit(){return this._defaultUnit}set unit(e){this._overrideIfSome("unit",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){const e="disabled"===this.viewModel.state,t={[g.D.disabled]:e};let n,i;if(!e){const{unit:e,style:t}=this,r="metric"===e||"dual"===e,a=100,s="dual"===e?"line":t;if("imperial"===e||"dual"===e){const e=this.viewModel.getScaleBarProperties(a,"imperial");e&&(i="ruler"===s?this._renderRuler(e):this._renderLine(e,"bottom"))}if(r){const e=this.viewModel.getScaleBarProperties(a,"metric");e&&(n="ruler"===s?this._renderRuler(e):this._renderLine(e,"top"))}}return(0,v.K)("div",{afterCreate:this._handleRootCreateOrUpdate,afterUpdate:this._handleRootCreateOrUpdate,bind:this,class:this.classes(f.base,g.D.widget,t)},n,i)}_renderRuler(e){const{length:t,unit:n,value:i}=e,r=Math.round(t),a=M(i,n);return(0,v.K)("div",{class:this.classes(f.barContainer,f.rulerBarContainer),key:f.rulerBarContainer},(0,v.K)("div",{class:f.ruler,styles:{width:`${r}px`}},(0,v.K)("div",{class:f.rulerBlock}),(0,v.K)("div",{class:f.rulerBlock}),(0,v.K)("div",{class:f.rulerBlock}),(0,v.K)("div",{class:f.rulerBlock})),(0,v.K)("div",{class:this.classes(f.labelContainer,f.rulerLabelContainer)},(0,v.K)("div",{class:f.label},"0"),(0,v.K)("div",{class:f.label},a)))}_renderLine(e,t){const{length:n,unit:i,value:r}=e,a=Math.round(n),s=M(r,i),o={[f.topLabelContainer]:"top"===t,[f.bottomLabelContainer]:"bottom"===t},l=(0,v.K)("div",{class:this.classes(f.labelContainer,f.lineLabelContainer,o),key:f.labelContainer},(0,v.K)("div",{class:f.label},s)),c={[f.topLine]:"top"===t,[f.bottomLine]:"bottom"===t},u=(0,v.K)("div",{class:this.classes(f.line,c),key:f.line,styles:{width:`${a}px`}});return(0,v.K)("div",{class:this.classes(f.barContainer,f.lineBarContainer),key:f.lineBarContainer},[u,l])}_handleRootCreateOrUpdate(e){if(!this.viewModel)return;const{scaleComputedFrom:t}=this.viewModel,n=e.getBoundingClientRect(),i=n.left+window.pageXOffset,r=n.top+window.pageYOffset,a=(0,o.tc)(i,r);(a.x!==t.x||a.y!==t.y)&&(this.viewModel.scaleComputedFrom=a)}};(0,i._)([(0,l.MZ)(d.q)],b.prototype,"_defaultUnit",void 0),(0,i._)([(0,l.MZ)()],b.prototype,"icon",null),(0,i._)([(0,l.MZ)()],b.prototype,"label",null),(0,i._)([(0,l.MZ)(),(0,w.G)("esri/widgets/ScaleBar/t9n/ScaleBar")],b.prototype,"messages",void 0),(0,i._)([(0,l.MZ)({type:["ruler","line"]})],b.prototype,"style",void 0),(0,i._)([(0,l.MZ)({type:["metric","imperial","dual"]})],b.prototype,"unit",null),(0,i._)([(0,l.MZ)()],b.prototype,"view",null),(0,i._)([(0,l.MZ)()],b.prototype,"viewModel",void 0),b=(0,i._)([(0,c.$)("esri.widgets.ScaleBar")],b);const _=b}}]);