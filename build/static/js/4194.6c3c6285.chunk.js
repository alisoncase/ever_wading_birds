"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[4194,13730],{13730:(e,i,t)=>{t.r(i),t.d(i,{default:()=>u});var a,l=t(93800),n=t(6946),s=t(48602),r=(t(21265),t(50925),t(14746),t(75269));const c=147914382,o=[{id:"room",minScale:100},{id:"rooms",minScale:400},{id:"smallBuilding",minScale:800},{id:"building",minScale:1999},{id:"buildings",minScale:3999},{id:"street",minScale:7499},{id:"streets",minScale:14999},{id:"neighborhood",minScale:29999},{id:"town",minScale:59999},{id:"city",minScale:119999},{id:"cities",minScale:249999},{id:"metropolitanArea",minScale:499999},{id:"county",minScale:999999},{id:"counties",minScale:1999999},{id:"stateProvince",minScale:3999999},{id:"statesProvinces",minScale:6999999},{id:"countriesSmall",minScale:14999999},{id:"countriesBig",minScale:34999999},{id:"continent",minScale:99999999},{id:"world",minScale:c}];function d(e,i){const t=o,a=t.length,l=[];let n,s=e;e=e>=0?e:0,i=i>0?i:t[a-1].minScale;for(let r=0;r<a;r++){const a=Math.min(t[r].minScale,i);n=Math.min(a,i),e<=a&&s<i&&l.push({id:t[r].id,maxScale:Math.max(s,e),minScale:n}),s=n+1}return l.reverse(),function(e){if(0===e.length)return e;const[i]=e,t=e[e.length-1];return i.minScale===i.maxScale&&(e.shift(),i.minScale+=1),t.minScale===t.maxScale&&(e.pop(),t.maxScale-=1),e}(l)}let m=a=class extends n.default{constructor(){super(...arguments),this.ranges=[]}static fromScaleRange(e){let{maxScale:i,minScale:t}=e;return new a({ranges:d(i,t)})}static async fromLayer(e){await e.when();const i="tileInfo"in e?e.tileInfo?.lods:void 0;let t;return t=i?d(i[i.length-1].scale,i[0].scale):d(0,0),new a({ranges:t})}get firstRange(){return this.ranges[0]}get lastRange(){const e=this.ranges;return e[e.length-1]}get length(){return this.ranges.length}get maxScale(){return this.lastRange.maxScale}get minScale(){return this.firstRange.minScale}isMinScaleEdge(e){const{firstRange:i}=this,t=i.minScale,l=a.RecommendedScales[i.id]||i.maxScale;return e<=t&&e>=l}isMaxScaleEdge(e){const{lastRange:i}=this,t=i.maxScale;return e<=(a.RecommendedScales[i.id]||i.minScale)&&e>=t}findScaleRange(e){const i=this.ranges;let t;if(e>=i[0].maxScale)return i[0];if(e<=i[i.length-1].minScale)return i[i.length-1];for(let a=0;a<i.length;a++){const l=i[a];if(e>=l.maxScale&&e<=l.minScale){t=l;break}}return t}findScaleRangeByIndex(e){return this.ranges[this._clampScaleRangeIndex(e)]}scaleToRangeIndex(e){return this.ranges.indexOf(this.findScaleRange(e))}clampScale(e){return Math.min(this.minScale,Math.max(this.maxScale,e))}clampMinScale(e){return 0===e?this.minScale:this.clampScale(e)}clampMaxScale(e){return this.clampScale(e)}contains(e){const i=this.ranges;let t=!1;for(let a=0;a<i.length;a++){const{maxScale:l,minScale:n}=i[a];if(e>=l&&e<=n){t=!0;break}}return t}_clampScaleRangeIndex(e){if(e<=0)return 0;const i=this.ranges.length-1;return e>i?i:Math.floor(e)}};m.RecommendedScales=Object.freeze({world:c,continent:5e7,countriesBig:25e6,countriesSmall:12e6,statesProvinces:6e6,stateProvince:3e6,counties:15e5,county:75e4,metropolitanArea:32e4,cities:16e4,city:8e4,town:4e4,neighborhood:2e4,streets:1e4,street:5e3,buildings:2500,building:1250,smallBuilding:800,rooms:400,room:100}),(0,l._)([(0,s.MZ)()],m.prototype,"firstRange",null),(0,l._)([(0,s.MZ)()],m.prototype,"lastRange",null),(0,l._)([(0,s.MZ)()],m.prototype,"length",null),(0,l._)([(0,s.MZ)()],m.prototype,"maxScale",null),(0,l._)([(0,s.MZ)()],m.prototype,"minScale",null),(0,l._)([(0,s.MZ)({constructOnly:!0})],m.prototype,"ranges",void 0),m=a=(0,l._)([(0,r.$)("esri.widgets.ScaleRangeSlider.ScaleRanges")],m);const u=m},81774:(e,i,t)=>{t.r(i),t.d(i,{default:()=>m});var a=t(93800),l=t(6946),n=t(79953),s=t(48602),r=(t(21265),t(50925),t(14746),t(75269)),c=t(13730),o=t(99400);let d=class extends l.default{constructor(e){super(e),this.layer=null,this.mode="range",this.scaleRanges=c.default.fromScaleRange({minScale:0,maxScale:0}),this.sliderViewModel=(()=>{const{max:e}=this._getSliderIndexRange(this.scaleRanges.length-1);return new o.default({precision:10,min:0,max:e,values:[0,e]})})()}initialize(){this.addHandles([(0,n.watch)((()=>this.layer),(e=>e?.load().catch((()=>{})))),(0,n.watch)((()=>this.mode),(e=>{"range"===e&&1===this.sliderViewModel.values?.length?this.sliderViewModel.values=[this.sliderViewModel.min,this.sliderViewModel.values[0]]:2===this.sliderViewModel.values?.length&&("min-scale-only"===e?this.sliderViewModel.values=[this.sliderViewModel.values[0]]:"max-scale-only"===e&&(this.sliderViewModel.values=[this.sliderViewModel.values[1]]))})),(0,n.watch)((()=>({loaded:this.layer?.loaded,ready:this.view?.ready})),(e=>{let{loaded:i,ready:t}=e;if(!i||!t)return;if(this._hasTiledLayer()){const e=this._getLayerResampling()?void 0:this.mapScaleToSlider(this._getTiledLayerMaxScale()),i=this.mapScaleToSlider(this._getTiledLayerMinScale());this.sliderViewModel.effectiveMax=e,this.sliderViewModel.effectiveMin=i}else{const e=this.layer&&"maxScaleRange"in this.layer?this.layer.maxScaleRange:null,{minScale:i=0,maxScale:t=0}=e??{};this.sliderViewModel.effectiveMax=0===t?void 0:this.mapScaleToSlider(t),this.sliderViewModel.effectiveMin=0===i?void 0:this.mapScaleToSlider(i)}const a=this.layer;a&&"minScale"in a&&"maxScale"in a?(this.minScale=a.minScale,this.maxScale=a.maxScale):(this.minScale=void 0,this.maxScale=void 0)}),n.initial)])}get effectiveMaxScale(){return 0===this.maxScale?this.maxScaleLimit:this.maxScale}get effectiveMinScale(){return 0===this.minScale?this.minScaleLimit:this.minScale}get effectiveMaxScaleLimit(){return this.mapSliderToScale(this.sliderViewModel.effectiveMax??this.sliderViewModel.max)}get effectiveMinScaleLimit(){return this.mapSliderToScale(this.sliderViewModel.effectiveMin??this.sliderViewModel.min)}get maxScale(){return this._getScale("max")}set maxScale(e){this._setMaxScaleOnSlider(e)}get maxScaleLimit(){return this.mapSliderToScale(this.sliderViewModel.max)}set maxScaleLimit(e){this._setSliderRange({maxScale:e,minScale:this.minScaleLimit})}get minScale(){return this._getScale("min")}set minScale(e){this._setMinScaleOnSlider(e)}get minScaleLimit(){return this.mapSliderToScale(this.sliderViewModel.min)}set minScaleLimit(e){this._setSliderRange({maxScale:this.maxScaleLimit,minScale:e})}get state(){const{view:e,layer:i}=this;return!e&&!i||!e&&i?.loaded||!i&&e?.ready||e&&e.ready&&i?.loaded?"ready":"disabled"}set view(e){this._set("view",e)}mapScaleToSlider(e){const i=this.scaleRanges.scaleToRangeIndex(e),t=this.scaleRanges.findScaleRangeByIndex(i),{maxScale:a,minScale:l}=t,{max:n,min:s}=this._getSliderIndexRange(i);return this._mapToRange(e,l,a,s,n)}mapSliderToScale(e){const i=this.scaleRanges.findScaleRangeByIndex(e),{maxScale:t,minScale:a}=i,{max:l,min:n}=this._getSliderIndexRange(e);return this._mapToRange(e,n,l,a,t)}_setSliderRange(e){this.scaleRanges=c.default.fromScaleRange(e);const{max:i}=this._getSliderIndexRange(this.scaleRanges.length-1);this.sliderViewModel.max=i,this.sliderViewModel.min=0,this.notifyChange("maxScaleLimit"),this.notifyChange("minScaleLimit")}_getSliderIndexRange(e){const i=Math.floor(e);return{min:i,max:i+.99999}}_mapToRange(e,i,t,a,l){return a+(e-i)*(l-a)/(t-i)}_getSliderValue(e){const{min:i,max:t,values:a}=this.sliderViewModel,[l,n]=a;switch(this.mode){case"max-scale-only":return"min"===e?i:l;case"min-scale-only":return"min"===e?l:t;default:return"min"===e?l??i:n??t}}_getScale(e){const i=this.mapSliderToScale(this._getSliderValue(e));return this._normalizeScale(e,i)}_setMaxScaleOnSlider(e){const{scaleRanges:i,sliderViewModel:t}=this;if(void 0!==e){const a=this.mapScaleToSlider(this._constrainMaxScaleToLayer(i.clampMaxScale(e)));switch(this.mode){case"range":t.values=[t.values[0],a];break;case"max-scale-only":t.values=[a]}}}_setMinScaleOnSlider(e){const{scaleRanges:i,sliderViewModel:t}=this;if(void 0!==e){const a=this.mapScaleToSlider(this._constrainMinScaleToLayer(i.clampMinScale(e)));switch(this.mode){case"range":t.values=[a,t.values[1]];break;case"min-scale-only":t.values=[a]}}}_constrainMinScaleToLayer(e){const{scaleRanges:i}=this;if(this._hasTiledLayer()){const{firstRange:t}=i,a=this._getTiledLayerMinScale(),l=.85;e=this._mapToRange(e,t.maxScale,t.minScale,0,1)>l||e>a?a:e}return e}_constrainMaxScaleToLayer(e){if(this._hasTiledLayer()&&!this._getLayerResampling()){const i=this._getTiledLayerMaxScale();e=e<i?i:e}return e}_normalizeScale(e,i){const t="max"===e?"maxScale":"minScale",a=this._hasTiledLayer()?"min"===e?this._getTiledLayerMinScale():this._getTiledLayerMaxScale():this.scaleRanges[t],l=this._hasTiledLayer()?"min"===e?this._getTiledLayerRealMinScale():this._getTiledLayerRealMaxScale():a,n=0===i||l===i||Math.abs(l-i)<=1e-6;return Number((n?0:i).toFixed(6))}_getLayerLODS(){const{layer:e}=this;return e?.loaded&&"tileInfo"in e?"wcs"===e.type||"imagery-tile"===e.type&&"Raster"===e.raster?.tileType?null:e.tileInfo?.lods:null}_getLayerResampling(){return!!this.layer?.loaded&&(!("resampling"in this.layer)||this.layer.resampling)}_getTiledLayerMinScale(){const e=this._getLayerLODS();return this.scaleRanges.clampMinScale(e[0].scale)}_getTiledLayerMaxScale(){const e=this._getLayerLODS();return e[e.length-1].scale}_getTiledLayerRealMinScale(){const e=this._getLayerLODS(),i=this.layer,t=i&&"sourceJSON"in i?i.sourceJSON?.tileInfo?.lods??e:e;return this.scaleRanges.clampMinScale(t[0].scale)}_getTiledLayerRealMaxScale(){const e=this._getLayerLODS(),i=this.layer,t=i&&"sourceJSON"in i?i.sourceJSON?.tileInfo?.lods??e:e;return t[t.length-1].scale}_hasTiledLayer(){return!!this._getLayerLODS()}};(0,a._)([(0,s.MZ)({readOnly:!0})],d.prototype,"effectiveMaxScale",null),(0,a._)([(0,s.MZ)({readOnly:!0})],d.prototype,"effectiveMinScale",null),(0,a._)([(0,s.MZ)()],d.prototype,"effectiveMaxScaleLimit",null),(0,a._)([(0,s.MZ)()],d.prototype,"effectiveMinScaleLimit",null),(0,a._)([(0,s.MZ)()],d.prototype,"layer",void 0),(0,a._)([(0,s.MZ)()],d.prototype,"maxScale",null),(0,a._)([(0,s.MZ)()],d.prototype,"maxScaleLimit",null),(0,a._)([(0,s.MZ)()],d.prototype,"mode",void 0),(0,a._)([(0,s.MZ)()],d.prototype,"minScale",null),(0,a._)([(0,s.MZ)()],d.prototype,"minScaleLimit",null),(0,a._)([(0,s.MZ)()],d.prototype,"scaleRanges",void 0),(0,a._)([(0,s.MZ)({type:o.default})],d.prototype,"sliderViewModel",void 0),(0,a._)([(0,s.MZ)({readOnly:!0})],d.prototype,"state",null),(0,a._)([(0,s.MZ)()],d.prototype,"view",null),d=(0,a._)([(0,r.$)("esri.widgets.ScaleRangeSlider.ScaleRangeSliderViewModel")],d);const m=d},81813:(e,i,t)=>{t.r(i),t.d(i,{default:()=>P});var a=t(93800),l=(t(88677),t(63160)),n=t(17741),s=t(79953),r=t(48602),c=t(32980),o=(t(21265),t(14746),t(75269)),d=t(35255),m=t(27811);const u="esri-scale-range-slider",h=`${u}__scale-menu`,S={base:u,segmentElementActive:`${u}__segment-active`,scaleIndicatorWrapper:`${u}__scale-indicator-wrapper`,scaleIndicator:`${u}__scale-indicator`,scaleIndicatorIcon:`${u}__scale-indicator-icon`,scaleIndicatorContainer:`${u}__scale-indicator-container`,scaleMenuContainer:`${h}-container`,scaleMenuSeparator:`${h}-separator`,scaleMenuToggle:`${h}-toggle`,scaleMenuSubLabel:`${h}-sublabel`,scalePreview:`${u}__scale-preview`,scalePreviewThumbnail:`${u}__scale-preview-thumbnail`};var g=t(21772),p=t(12711);const v=(0,p.JK)().slice(0,2);var M;!function(e){e.ar="ar",e.bg="bg",e.cs="cs",e.da="da",e.de="de",e.el="el",e.en="en",e.es="es",e.et="et",e.fi="fi",e.fr="fr",e.is="is",e.it="it",e.ja="ja",e.ko="ko",e.lt="lt",e.lv="lv",e.nl="nl",e.nn="nn",e.pl="pl",e.pt="pt",e.ro="ro",e.ru="ru",e.sk="sk",e.sv="sv",e.th="th",e.zh="zh"}(M||(M={}));const _={ae:M.en,ar:M.es,at:M.de,au:M.en,be:M.nl,bg:M.bg,bo:M.es,br:M.pt,ca:M.en,ch:M.de,ci:M.fr,cl:M.es,cn:M.zh,co:M.es,cr:M.es,cz:M.cs,de:M.de,dk:M.da,ee:M.et,eg:M.en,es:M.es,fi:M.fi,fr:M.fr,gb:M.en,gl:M.da,gr:M.el,gt:M.es,hk:M.en,id:M.en,ie:M.en,il:M.en,in:M.en,iq:M.ar,is:M.is,it:M.it,jp:M.ja,ke:M.en,kr:M.ko,kw:M.ar,li:M.de,lt:M.lt,lu:M.en,lv:M.lv,ma:M.fr,mg:M.fr,ml:M.fr,mo:M.en,mx:M.es,my:M.en,ni:M.es,nl:M.nl,no:M.nn,nz:M.en,pe:M.es,pl:M.pl,pr:M.es,pt:M.pt,ro:M.ro,ru:M.ru,rw:M.en,se:M.sv,sg:M.en,sk:M.sk,sr:M.nl,sv:M.es,th:M.th,tn:M.fr,tw:M.zh,us:M.en,ve:M.es,vi:M.en,wo:M.en,za:M.en},f=new Set(["ar-iq","ar-kw","bg-bg","cs-cz","da-dk","da-gl","de-at","de-ch","de-de","de-li","el-gr","en-ae","en-au","en-ca","en-eg","en-gb","en-hk","en-id","en-ie","en-il","en-in","en-iq","en-ke","en-lu","en-mo","en-my","en-nz","en-rw","en-sg","en-us","en-vi","en-wo","en-za","es-ar","es-bo","es-cl","es-co","es-cr","es-es","es-gt","es-mx","es-ni","es-pe","es-pr","es-sv","es-ve","et-ee","fi-fi","fr-ci","fr-fr","fr-ma","fr-mg","fr-ml","fr-tn","is-is","it-it","ja-jp","ko-kr","lt-lt","lv-lv","nl-be","nl-nl","nl-sr","nn-no","pl-pl","pt-br","pt-pt","ro-ro","ru-ru","sk-sk","sv-se","th-th","zh-cn","zh-tw"]);function y(e){e=function(e){return e.toLowerCase()}(e);const i=`${v}-${e}`,t=`${_[e]}-${e}`;return function(e){return`url(${(0,g.s)(`esri/widgets/ScaleRangeSlider/images/scalePreview/${e}.jpg`)})`}(f.has(i)?i:f.has(t)?t:"en-wo")}function w(e){if(!(e<0||e>=25))return`-${e%5*128}px -${128*Math.floor(e/5)}px`}var x=t(13730),b=t(81774),L=t(49403),R=t(50821),T=t(17745),I=t(76697),Z=t(87118),V=t(23224),C=t(99961);const k={preview:!0,scaleMenus:{maxScaleMenu:!0,minScaleMenu:!0}},O={maximumFractionDigits:0};let $=class extends m.default{constructor(e,i){super(e,i),this._activeMenu=null,this._activeThumb=null,this._customInput=null,this._maxThumbNode=null,this._minThumbNode=null,this._previewAutoCloseTimeoutId=void 0,this._previewPopover=null,this._slider=new d.default({thumbCreatedFunction:(e,i,t)=>{0===e?this._minThumbNode=t:1===e&&(this._maxThumbNode=t),this.addHandles([(0,l.on)(t,"mouseenter",(()=>{this._activeThumb=e,this.scheduleRender()})),(0,l.on)(t,"mouseleave",(()=>{this._previewAutoCloseTimeoutId||(this._activeThumb=null,this.scheduleRender())}))])}}),this.disabled=!1,this.messages=null,this.region="US",this.viewModel=new b.default,this.visibleElements=k,this._afterInputNumberCreate=e=>{"value"in e&&null!=e.value&&"setNumberValue"in e&&e.setNumberValue({committing:!1,value:e.value,origin:"direct"}),this._customInput=e},this._handleCustomScaleInputChange=(e,i)=>{const{viewModel:{scaleRanges:t}}=this,a=Number.parseFloat(i.value);Number.isNaN(a)?i.value=e:this._setScale(t.clampScale(a))}}loadDependencies(){return(0,L.W)({button:()=>Promise.resolve().then(t.bind(t,20423)),dropdown:()=>t.e(41631).then(t.bind(t,41631)),"dropdown-group":()=>t.e(90553).then(t.bind(t,90553)),"dropdown-item":()=>t.e(54055).then(t.bind(t,54055)),icon:()=>Promise.resolve().then(t.bind(t,92439)),"input-number":()=>Promise.all([t.e(9982),t.e(86634)]).then(t.bind(t,9982)),label:()=>t.e(60216).then(t.bind(t,60216)),popover:()=>Promise.all([t.e(86290),t.e(74597)]).then(t.bind(t,74597))})}initialize(){this.addHandles([(0,s.watch)((()=>this.viewModel),(e=>this._slider.viewModel=e?.sliderViewModel??null),s.initial),(0,s.watch)((()=>this._interactive),(e=>{this._slider.disabled=!e,e||this._setActiveMenu(null)}),s.initial),this._slider.on("thumb-drag",(e=>{let{index:i}=e;this._activeThumb=i,clearTimeout(this._previewAutoCloseTimeoutId);this._previewAutoCloseTimeoutId=setTimeout((()=>{this._previewAutoCloseTimeoutId=void 0,this._activeThumb=null}),250)})),(0,s.when)((()=>!0===this.view?.stationary),(()=>this.scheduleRender()))])}destroy(){this._slider=(0,n.pR)(this._slider)}get _maxScaleMenuEnabled(){const{scaleMenus:e}=this.visibleElements;return!0===e||"boolean"!=typeof e&&e.maxScaleMenu}get _minScaleMenuEnabled(){const{scaleMenus:e}=this.visibleElements;return!0===e||"boolean"!=typeof e&&e.minScaleMenu}get _interactive(){return"disabled"!==this.viewModel?.state&&!this.disabled}get effectiveMaxScale(){return this.viewModel.effectiveMaxScale}get effectiveMinScale(){return this.viewModel.effectiveMinScale}get effectiveMaxScaleLimit(){return this.viewModel.effectiveMaxScaleLimit}get effectiveMinScaleLimit(){return this.viewModel.effectiveMinScaleLimit}get icon(){return"actual-size"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get layer(){return this.viewModel.layer}set layer(e){this.viewModel.layer=e}get maxScale(){return this.viewModel.maxScale}set maxScale(e){this.viewModel.maxScale=e}get maxScaleLimit(){return this.viewModel.maxScaleLimit}set maxScaleLimit(e){this.viewModel.maxScaleLimit=e}get mode(){return this.viewModel.mode}set mode(e){this.viewModel.mode=e}get minScale(){return this.viewModel.minScale}set minScale(e){this.viewModel.minScale=e}get minScaleLimit(){return this.viewModel.minScaleLimit}set minScaleLimit(e){this.viewModel.minScaleLimit=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}castVisibleElements(e){return{...k,...e,scaleMenus:"boolean"==typeof e?.scaleMenus?e.scaleMenus:{...k.scaleMenus,...e?.scaleMenus}}}formatScale(e){return`1:${(0,V.ZV)(e,O)}`}render(){const{_interactive:e,_slider:i,label:t,view:a,viewModel:{state:l}}=this,n=this._getLabel("min"),s=this._getLabel("max"),{segmentElements:r}=i,c=r.at("min-scale-only"===this.mode?-1:-2);return c&&c.classList.add(S.segmentElementActive),(0,Z.K)("div",{"aria-label":t,class:this.classes(S.base,R.D.widget,e?null:R.D.disabled)},(0,Z.K)("div",{class:S.scaleIndicatorWrapper,dir:"ltr"},"ready"===l&&a?this._renderCurrentScaleIndicator():null,i.render(),this._renderPreviewPopover()),(0,Z.K)("div",{class:S.scaleMenuContainer},this._minScaleMenuEnabled&&n?this._renderScaleMenuToggle("min",n):null,(0,Z.K)("div",{class:S.scaleMenuSeparator}),this._maxScaleMenuEnabled&&s?this._renderScaleMenuToggle("max",s):null))}_renderPreviewPopover(){const{_activeThumb:e}=this,i=null!=e&&this.visibleElements.preview,t=i?0===e?this._minThumbNode:this._maxThumbNode:"";return(0,Z.K)("calcite-popover",{afterCreate:T.cA,afterUpdate:()=>this._previewPopover?.reposition(),bind:this,"data-node-ref":"_previewPopover",label:this.messages.preview,offsetDistance:16,open:i,overlayPositioning:"fixed",placement:"top",referenceElement:t,triggerDisabled:!0},this._renderScalePreview())}_renderScalePreview(){const{_activeThumb:e,_slider:i,region:t,viewModel:{scaleRanges:a}}=this,l=0===e||"range"!==this.mode?i.values[0]:i.values[1],n=Object.keys(x.default.RecommendedScales).indexOf(a.findScaleRangeByIndex(l).id),s={backgroundImage:y(t),backgroundPosition:w(n)};return(0,Z.K)("div",{class:S.scalePreview},(0,Z.K)("div",{class:S.scalePreviewThumbnail,styles:s}))}_getLabel(e){const{_slider:i,messages:t,mode:a,viewModel:{scaleRanges:l}}=this,[n,s]=i.values,r="min"===e||"range"!==a?n:s,c=t.scaleRangeLabels[l.findScaleRangeByIndex(r).id];switch(a){case"range":return c;case"max-scale-only":return"min"===e?null:c;case"min-scale-only":return"min"===e?c:null}}_renderScaleMenuToggle(e,i){const{_activeMenu:t,_interactive:a}=this,l=t===e;return[(0,Z.K)("calcite-dropdown",{closeOnSelectDisabled:!0,"data-type":e,open:l,overlayPositioning:"fixed",placement:"max"===e?"bottom-end":"bottom-start",scale:"s",onCalciteDropdownClose:i=>{let{currentTarget:t}=i;this._activeMenu===e&&this._setActiveMenu(null),(0,T.Z6)(t.querySelector("calcite-button"))},onCalciteDropdownOpen:()=>this._setActiveMenu(e)},(0,Z.K)("calcite-button",{appearance:l?"outline":"transparent","aria-pressed":l.toString(),class:S.scaleMenuToggle,disabled:!a,iconEnd:"chevron-down",scale:"s",slot:"trigger"},i),l&&"max"===e?this._renderMaxScaleMenu():null,l&&"min"===e?this._renderMinScaleMenu():null)]}_renderMinScaleMenu(){const{effectiveMaxScale:e,effectiveMinScaleLimit:i,view:t,viewModel:{scaleRanges:a}}=this,l=t?t.scale:void 0;return this._renderScaleMenu({type:"min",min:i,max:a.findScaleRange(e).minScale,viewScale:l})}_renderMaxScaleMenu(){const{effectiveMinScale:e,effectiveMaxScaleLimit:i,view:t,viewModel:{scaleRanges:a}}=this,l=t?t.scale:void 0;return this._renderScaleMenu({type:"max",min:a.findScaleRange(e).maxScale,max:i,viewScale:l})}_renderScaleMenu(e){let{viewScale:i,min:t,max:a,type:l}=e;const{effectiveMaxScale:n,effectiveMinScale:s,messages:r}=this,c="max"===l?n:s,o=x.default.fromScaleRange({minScale:t,maxScale:a}),d=this.messages.featuredScaleLabels,m=x.default.RecommendedScales,u=Object.keys(m).filter((e=>o.contains(m[e]))).map((e=>this._renderScaleMenuItem({scaleLabel:d[e],scaleValue:m[e],isSelected:c===m[e],valueVisible:"world"!==e})));return(0,Z.K)("calcite-dropdown-group",{key:`${this.id}__scale-menu--${l}`},this._renderCustomScaleValue({currentScale:c}),null!=i?this._renderScaleMenuItem({scaleValue:i,scaleLabel:r.featuredScaleLabels.current,isSelected:c===i,valueVisible:!0}):null,u)}_renderCustomScaleValue(e){let{currentScale:i}=e;const{messages:t}=this,a=Math.round(i).toString();return(0,Z.K)("calcite-dropdown-item",{afterCreate:e=>{(0,T.Z6)(e)},key:"custom-scale",label:t.featuredScaleLabels.custom,onCalciteDropdownItemSelect:()=>{(0,T.Z6)(this._customInput)}},(0,Z.K)("calcite-label",{scale:"s"},(0,Z.K)("span",null,t.featuredScaleLabels.custom),(0,Z.K)("calcite-input-number",{afterCreate:this._afterInputNumberCreate,groupSeparator:!0,inputMode:"numeric",max:x.default.RecommendedScales.world,min:0,numberButtonType:"none",placeholder:t.customScaleInputTooltip,prefixText:"1:",scale:"s",step:1,value:a,onCalciteInputNumberChange:e=>{let{currentTarget:i}=e;return this._handleCustomScaleInputChange(a,i)}})))}_renderScaleMenuItem(e){const{scaleValue:i,scaleLabel:t,valueVisible:a,isSelected:l}=e;return(0,Z.K)("calcite-dropdown-item",{key:t,label:t,selected:l,onCalciteDropdownItemSelect:this._setScale.bind(this,i)},t,a?(0,Z.K)("div",{class:S.scaleMenuSubLabel},this.formatScale(i)):void 0)}_renderCurrentScaleIndicator(){const{_slider:e,messages:i,view:t,viewModel:{scaleRanges:a}}=this,l=a.clampScale(t.scale),n=this.viewModel.mapScaleToSlider(l),s=n/e.max,r=i.scaleRangeLabels[a.findScaleRangeByIndex(n).id],c=(0,C.V)(i.currentScaleTooltip,{scaleLabel:r});return(0,Z.K)("div",{class:S.scaleIndicatorContainer,key:"scale-indicator"},(0,Z.K)("div",{"aria-label":c,class:S.scaleIndicator,styles:{left:100*s+"%"},title:c},this.renderCurrentScaleIndicatorIcon()))}renderCurrentScaleIndicatorIcon(){return(0,Z.K)("calcite-icon",{class:S.scaleIndicatorIcon,icon:"caret-up",scale:"s"})}_setScale(e){"max"===this._activeMenu?this.maxScale=Math.min(e,this.effectiveMinScale-1):this.minScale=Math.max(e,this.effectiveMaxScale+1),this._setActiveMenu(null)}_setActiveMenu(e){this._activeMenu=e}};(0,a._)([(0,r.MZ)()],$.prototype,"_activeMenu",void 0),(0,a._)([(0,r.MZ)()],$.prototype,"_activeThumb",void 0),(0,a._)([(0,r.MZ)()],$.prototype,"_customInput",void 0),(0,a._)([(0,r.MZ)()],$.prototype,"_maxScaleMenuEnabled",null),(0,a._)([(0,r.MZ)()],$.prototype,"_minScaleMenuEnabled",null),(0,a._)([(0,r.MZ)()],$.prototype,"_slider",void 0),(0,a._)([(0,r.MZ)({readOnly:!0})],$.prototype,"_interactive",null),(0,a._)([(0,r.MZ)()],$.prototype,"disabled",void 0),(0,a._)([(0,r.MZ)()],$.prototype,"effectiveMaxScale",null),(0,a._)([(0,r.MZ)()],$.prototype,"effectiveMinScale",null),(0,a._)([(0,r.MZ)()],$.prototype,"effectiveMaxScaleLimit",null),(0,a._)([(0,r.MZ)()],$.prototype,"effectiveMinScaleLimit",null),(0,a._)([(0,r.MZ)()],$.prototype,"icon",null),(0,a._)([(0,r.MZ)()],$.prototype,"label",null),(0,a._)([(0,r.MZ)()],$.prototype,"layer",null),(0,a._)([(0,r.MZ)()],$.prototype,"maxScale",null),(0,a._)([(0,r.MZ)()],$.prototype,"maxScaleLimit",null),(0,a._)([(0,r.MZ)(),(0,I.G)("esri/widgets/ScaleRangeSlider/t9n/ScaleRangeSlider")],$.prototype,"messages",void 0),(0,a._)([(0,r.MZ)()],$.prototype,"mode",null),(0,a._)([(0,r.MZ)()],$.prototype,"minScale",null),(0,a._)([(0,r.MZ)()],$.prototype,"minScaleLimit",null),(0,a._)([(0,r.MZ)()],$.prototype,"region",void 0),(0,a._)([(0,r.MZ)()],$.prototype,"view",null),(0,a._)([(0,r.MZ)()],$.prototype,"viewModel",void 0),(0,a._)([(0,r.MZ)()],$.prototype,"visibleElements",void 0),(0,a._)([(0,c.w)("visibleElements")],$.prototype,"castVisibleElements",null),$=(0,a._)([(0,o.$)("esri.widgets.ScaleRangeSlider")],$);const P=$}}]);