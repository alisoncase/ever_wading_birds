"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[13858],{13858:(e,t,n)=>{n.r(t),n.d(t,{execute:()=>p,isAsync:()=>f});var s=n(64030),r=n(29124),a=n(72512),i=n(60757),o=n(76493),l=n(93688),h=n(2862);function p(e){if(function(e){return null!=e.parentTemplate&&(0,i.Rg)(e.shape)}(e)&&"digitizing"!==e.mode)return async function(e){let{templatePart:t,parentTemplate:n,shape:o,edits:p,relationships:f,mode:g}=e;const{builderConfig:u}=t,m=(0,s.V2)(u),d=(0,s.YI)(u),y=(0,s.RT)(u),B=(0,s.Gr)(u,d),P=y||0===m?o:(0,r.cY)(o,m);if(null===P)return;const R=n.layer.createQuery();R.geometry=P,R.spatialRelationship="intersects",R.returnM=!0,R.returnZ=!0,R.outSpatialReference=P.spatialReference,R.cacheHint=!1,R.returnGeometry=!0,R.historicMoment=n.layer.historicMoment,R.gdbVersion=n.layer.gdbVersion;const S=2*((0,h.fromSpatialReference)(P.spatialReference)?.getTolerance()??.001);R.distance=S;const{features:A}=await n.layer.queryFeatures(R);if(0===A.length)return;const v=[];for(const s of A)v.push(c(s.geometry));const T=(0,s.TR)(P);let b=0,w=0;for(let r=0;r<P.paths.length&&!(p.length>i.Cg);r++){const e=P.paths[r].length;for(let n=0;n<e;n++){let i=P.getPoint(r,n);if(null!=i){for(const o of v)if((0,l.e)(i,o)){if(n>0&&0!==B&&(b+=P.hasZ?(0,a.Py)(P.paths[r][n-1],P.paths[r][n],T):(0,a.eS)(P.paths[r][n-1],P.paths[r][n])),0!==B){let t=1;if(d){const s=B<0?n-1:n+1;if(s>=e||s<0)return;t=P.hasZ?(0,a.Py)(P.paths[r][n],P.paths[r][s],T):(0,a.eS)(P.paths[r][n],P.paths[r][s])}const s=b+t*B;i=P.hasZ?(0,a.mw)(P,s,m,T):(0,a.a1)(P,s,m)}else 0!==m&&(i=(0,a.LB)(i,n===e-1?[P.paths[r][n-1],P.paths[r][n]]:[P.paths[r][n],P.paths[r][n+1]],m));i&&(0,s.fS)({templatePart:t,shape:i,edits:p,relationships:f,mode:g},`V${w.toString()}`);break}w++}}}}(e)}function c(e){const t=[];for(const n of e.paths)for(const e of n)t.push([...e]);return new o.default({spatialReference:e.spatialReference,points:t})}const f=!0},19504:(e,t,n)=>{n.d(t,{O:()=>r});var s=n(75646);class r extends s.d{getOperatorType(){return 4}execute(e,t,n,r){return!(0,s.r)(e,t,n,4,r)}}},29124:(e,t,n)=>{n.d(t,{Ii:()=>s,LT:()=>u,cY:()=>f,nI:()=>r,tr:()=>c});var s,r,a,i=n(64030),o=n(72512),l=n(60757),h=n(93449),p=n(78629);function c(e){let{templatePart:t,edits:n,relationships:r,shape:a,distance:h,isProportional:c,offsetDistance:g,vertexBeforeOffset:u,vertexPlacement:m,mode:d}=e;const y=u||0===g?a:f(a,g);if(null===y||!(0,p.isPolyline)(y))return;const B=(0,i.TR)(y);g=u?g:0;let P=0,R=null,S=0;for(let p=0;p<y.paths.length;p++){if(n.length>l.Cg&&"digitizing"===d)return;const e=y.paths[p].length,a=p===y.paths.length-1;for(let f=0;f<e;f++){if(n.length>l.Cg&&"digitizing"===d)return;if(f>0&&0!==h&&(P+=y.hasZ?(0,o.Py)(y.paths[p][f-1],y.paths[p][f],B):(0,o.eS)(y.paths[p][f-1],y.paths[p][f])),(0!==f||m!==s.NotBeginning)&&!(f===e-1&&m===s.NotEnd&&a||(0===f||f===e-1&&a)&&m===s.Interior||0===f&&h<0&&c||f===e-1&&h>0&&c)){if(0!==h){let t=1;if(c){const n=h<0?f-1:f+1;if(n>=e||n<0)continue;t=y.hasZ?(0,o.Py)(y.paths[p][f],y.paths[p][n],B):(0,o.eS)(y.paths[p][f],y.paths[p][n])}const n=P+t*h;R=y.hasZ?(0,o.mw)(y,n,g,B):(0,o.a1)(y,n,0)}else R=(0,o.RT)(y,p,f),0!==g&&(R=(0,o.LB)(R,f===e-1?[y.paths[p][f-1],y.paths[p][f]]:[y.paths[p][f],y.paths[p][f+1]],g));R&&(0,i.fS)({templatePart:t,shape:R,edits:n,relationships:r,mode:d},`V${(S+f).toString()}`)}}S+=e}}function f(e,t){return(0,h.e)(e,t,{unit:"meters",joins:"miter",miterLimit:2})}function g(e){let t=0;for(const n of e.paths)t+=n.length;return t}function u(e){let{templatePart:t,edits:n,relationships:s,shape:a,distance:l,isProportional:h,offsetDistance:c,vertexBeforeOffset:u,vertexPlacement:m,mode:d}=e;const y=u||0===c?a:f(a,c);if(null===y||!(0,p.isPolyline)(y))return;const B=(0,i.TR)(y);c=u?c:0;let P=null,R="";if(0!==l){const e=m===r.AtBeginning?0:y.paths.length-1,t=m===r.AtBeginning?0:y.paths[y.paths.length-1].length-1,n=m===r.AtBeginning?0:(0,o.Ex)(y),s=m===r.AtBeginning?y.paths[0].length:y.paths[y.paths.length-1].length;let a=1;if(h){const n=l<0?t-1:t+1;if(n>=s||n<0)return;a=y.hasZ?(0,o.Py)(y.paths[e][t],y.paths[e][n],B):(0,o.eS)(y.paths[e][t],y.paths[e][n])}const i=n+a*l;P=y.hasZ?(0,o.mw)(y,i,c,B):(0,o.a1)(y,i,c),R=m===r.AtBeginning?"V0":`V${(g(y)-1).toString()}`}else{if(P=m===r.AtBeginning?(0,o.RT)(y,0,0):(0,o.RT)(y,y.paths.length-1,y.paths[y.paths.length-1].length-1),0!==c)if(m===r.AtBeginning)P=(0,o.LB)(P,[y.paths[0][0],y.paths[0][1]],c);else{const e=y.paths[y.paths.length-1];P=(0,o.LB)(P,[e[e.length-2],e[e.length-1]],c)}R=m===r.AtBeginning?"V0":`V${(g(y)-1).toString()}`}P&&(0,i.fS)({templatePart:t,shape:P,edits:n,relationships:s,mode:d},R)}(a=s||(s={}))[a.All=0]="All",a[a.NotBeginning=1]="NotBeginning",a[a.NotEnd=2]="NotEnd",a[a.Interior=3]="Interior",function(e){e[e.AtBeginning=4]="AtBeginning",e[e.AtEnd=5]="AtEnd"}(r||(r={}))},93688:(e,t,n)=>{n.d(t,{a:()=>i,e:()=>o,i:()=>h,s:()=>l});var s=n(19504),r=n(2862);const a=new s.O;function i(e){const t=(0,r.getSpatialReference)(e);return a.accelerateGeometry((0,r.fromGeometry)(e),(0,r.fromSpatialReference)(t),1)}function o(e,t){return a.execute((0,r.fromGeometry)(e),(0,r.fromGeometry)(t),(0,r.fromSpatialReference)(e.spatialReference),null)}const l=a.supportsCurves(),h=Object.freeze(Object.defineProperty({__proto__:null,accelerateGeometry:i,execute:o,supportsCurves:l},Symbol.toStringTag,{value:"Module"}))}}]);