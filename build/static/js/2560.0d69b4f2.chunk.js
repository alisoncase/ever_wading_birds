"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[2560],{2560:(e,o,t)=>{t.r(o),t.d(o,{hideAllVisibleElements:()=>v,showTooltipAndFocusField:()=>c});var n=t(58828),i=t(63160),a=t(42198),l=t(49959),s=t(79953),r=t(7187),p=t(16804),d=t(5572);async function c(e,o){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const d=u.get(e);d&&(d.abort(),await d.promise);const c=(0,n.UT)((async function(n){const d=function(e){const{activeComponent:o}=e;return o&&"tooltip"in o&&"activeTooltipInfo"in o&&"destroyed"in o?o:null}(e),{tooltipOptions:c}=e;if("coordinates"===o?(o="x",c.xyMode="coordinates"):"direction"!==o&&"distance"!==o||(c.xyMode="direction-distance"),await(0,r.waitAnimationFrame)(),(0,l.isAborted)(t)||(0,l.isAborted)(n))return;const u=d?.tooltip;if(!u||!d.activeTooltipInfo?.editableFields?.find((e=>e.name===o)))return;const{handle:h,promise:v}=function(e,o){let{hideOnBlur:t=!0}=o;const n=(0,l.createResolver)();if(!t)return{promise:n.promise,handle:(0,a.hA)()};const{outerContainer:s}=e,r=(0,i.on)(s,"focusout",(e=>{let{relatedTarget:o}=e;o instanceof HTMLElement&&s.contains(o)||n.resolve()}));return{promise:n.promise,handle:r}}(u,t),y=(0,l.createResolver)(),b=(0,l.onAbort)(t.signal,y.resolve),f=(0,l.onAbort)(n,y.resolve),m=c.offset,M=u.position;try{if(c.forceEnabled=!0,await(0,l.waitTick)(),t.position&&(c.offset=0,u.position=(0,p.tc)(t.position[0],t.position[1])),await u.enterInputMode(o),(0,l.isAborted)(t)||(0,l.isAborted)(n))return;t.onOpen?.(),await Promise.race([(0,s.whenOnce)((()=>d.destroyed||"feedback"===u.content?.mode),t),v,y.promise])}finally{b?.remove(),f?.remove(),h.remove();const o=u.outerContainer.contains(document.activeElement);c.enabled?await u.exitInputMode({focusOnView:o}):o&&e.view?.focus(),t.onClose?.(),u.position=M,c.offset=m,c.forceEnabled=!1}}));return u.set(e,c),c.promise.catch(l.ignoreAbortErrors).finally((()=>{u.get(e)===c&&u.delete(e)}))}const u=new Map,h={area:!1,distance:!1,direction:!1,elevation:!1,orientation:!1,radius:!1,rotation:!1,scale:!1,size:!1,totalLength:!1,coordinates:!1,helpMessage:!1,header:!1};function v(e){e.tooltipOptions.visibleElements=new d.A(h)}},5572:(e,o,t)=>{t.d(o,{A:()=>r});var n=t(93800),i=t(6946),a=t(48602),l=(t(21265),t(50925),t(14746),t(75269));let s=class extends i.default{constructor(e){super(e),this.area=!0,this.coordinates=!0,this.direction=!0,this.distance=!0,this.elevation=!0,this.header=!0,this.helpMessage=!1,this.orientation=!0,this.radius=!0,this.rotation=!0,this.scale=!0,this.size=!0,this.totalLength=!0}};(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"area",void 0),(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"coordinates",void 0),(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"direction",void 0),(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"distance",void 0),(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"elevation",void 0),(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"header",void 0),(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"helpMessage",void 0),(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"orientation",void 0),(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"radius",void 0),(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"rotation",void 0),(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"scale",void 0),(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"size",void 0),(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"totalLength",void 0),s=(0,n._)([(0,l.$)("esri.views.interactive.sketch.SketchTooltipVisibleElements")],s);const r=s}}]);