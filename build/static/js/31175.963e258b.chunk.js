"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[31175],{31175:(e,t,s)=>{s.d(t,{default:()=>y});var a=s(93800),n=s(84190),r=s(48602),i=(s(21265),s(50925),s(14746),s(75269)),c=s(27811),u=s(88473),l=(s(88677),s(36338)),m=s(99961);const o=e=>{let t=class extends e{constructor(){super(...arguments),this.messages=null,this.pixelMeasurementUnit="meters",this.pixelAreaMeasurementUnit="square-meters"}copyMeasurementResult(e){let t,s;switch(e){case"area":t={measurement:this.getConvertedAreaString("measurement"),accuracy:this.getConvertedAreaString("accuracy")},s="{measurement} \xb1 {accuracy}";break;case"distance":t={measurement:this.getConvertedDistanceString("measurement"),accuracy:this.getConvertedDistanceString("accuracy")},s="{measurement} \xb1 {accuracy}";break;case"height":t={measurement:this.getConvertedHeightString("measurement"),accuracy:this.getConvertedHeightString("accuracy")},s="{measurement} \xb1 {accuracy}"}const a=(0,m.V)(s,t);(0,l.lW)(a)}getConvertedAreaString(e){const{oiViewModel:t,measurementUnitMessages:s,pixelAreaMeasurementUnit:a,messages:n}=this,{areaMeasurementResult:r,areaMeasurementAccuracy:i}=t;return(0,l.uH)(e,r,i,s,a)??n.startMeasurement}getConvertedDistanceString(e){const{oiViewModel:t,measurementUnitMessages:s,pixelMeasurementUnit:a,messages:n}=this,{distanceAccuracyArray:r,distanceMeasurementResult:i}=t;return(0,l.EH)(e,i,r,s,a)??n.startMeasurement}getAccuracy(e){let t,s;switch(e){case"area":return t={accuracy:this.getConvertedAreaString("accuracy")},s="\xb1 {accuracy}",(0,m.V)(s,t);case"distance":return t={accuracy:this.getConvertedDistanceString("accuracy")},s="\xb1 {accuracy}",(0,m.V)(s,t);case"height":return t={accuracy:this.getConvertedHeightString("accuracy")},s="\xb1 {accuracy}",(0,m.V)(s,t)}}getConvertedHeightString(e){const{oiViewModel:t,measurementUnitMessages:s,pixelMeasurementUnit:a,messages:n}=this,{heightMeasurementAccuracy:r,heightMeasurementResult:i}=t;return(0,l.wv)(e,i,r,s,a)??n.startMeasurement}handleLengthMeasurementUnitChange(e){this.pixelMeasurementUnit=e}handleAreaMeasurementUnitChange(e){this.pixelAreaMeasurementUnit=e}};return(0,a._)([(0,r.MZ)()],t.prototype,"messages",void 0),(0,a._)([(0,r.MZ)()],t.prototype,"measurementUnitMessages",void 0),(0,a._)([(0,r.MZ)()],t.prototype,"measurementType",void 0),(0,a._)([(0,r.MZ)()],t.prototype,"pixelMeasurementUnit",void 0),(0,a._)([(0,r.MZ)()],t.prototype,"pixelAreaMeasurementUnit",void 0),(0,a._)([(0,r.MZ)()],t.prototype,"oiViewModel",void 0),t=(0,a._)([(0,i.$)("esri.widgets.OrientedImageryViewer.mixins.ImageMeasurementMixin")],t),t};var h=s(49403),d=s(87118),g=s(33209);let p=class extends(o(c.default)){constructor(e){super(e)}loadDependencies(){return(0,h.W)({action:()=>s.e(88342).then(s.bind(s,88342)),panel:()=>Promise.all([s.e(86290),s.e(74597),s.e(99776)]).then(s.bind(s,99776)),button:()=>Promise.resolve().then(s.bind(s,20423)),table:()=>Promise.all([s.e(60382),s.e(78652),s.e(86510)]).then(s.bind(s,86510)),icon:()=>Promise.resolve().then(s.bind(s,92439)),"table-row":()=>s.e(76709).then(s.bind(s,76709)),"table-header":()=>s.e(34878).then(s.bind(s,34878)),"table-cell":()=>s.e(95305).then(s.bind(s,95305))})}get _measurementResult(){const{measurementType:e,oiViewModel:t}=this,{areaMeasurementResult:s,heightMeasurementResult:a,distanceMeasurementResult:n}=t;switch(e){case"area":return s;case"height":return a;case"distance":return n}}get _measurementAccuracy(){const{measurementType:e,oiViewModel:t}=this,{areaMeasurementAccuracy:s,heightMeasurementAccuracy:a,distanceAccuracyArray:n}=t;switch(e){case"area":return s;case"height":return a;case"distance":return n}}get _measurementUnit(){const{measurementType:e,pixelAreaMeasurementUnit:t,pixelMeasurementUnit:s}=this;return"area"===e?t:s}get _measurementUnitOptions(){const{measurementType:e}=this;return"area"===e?n.z3:n.GB}_convertedMeasurement(){const{measurementType:e}=this;switch(e){case"area":return this.getConvertedAreaString("measurement");case"height":return this.getConvertedHeightString("measurement");case"distance":return this.getConvertedDistanceString("measurement")}}_measurementUnitChangeHandler(e){const{measurementType:t}=this;"area"===t?this.pixelAreaMeasurementUnit=e:this.pixelMeasurementUnit=e}_renderUnitSelect(){const{_measurementUnit:e,_measurementResult:t,_measurementUnitOptions:s}=this;return t?(0,d.K)("div",{class:u.AH.measurementsBar},(0,d.K)(g.t,{options:s,selectLabel:"",value:e,onChange:e=>this._measurementUnitChangeHandler(e)}),t?(0,d.K)("calcite-action",{bind:this,icon:"copy-to-clipboard",label:"copy",onclick:()=>this.copyMeasurementResult(this.measurementType),scale:"s",text:""}):null):null}_renderMeasurementResults(){const{_measurementResult:e,_measurementAccuracy:t,messages:s,measurementType:a}=this;return e?(0,d.K)("calcite-table",{bordered:!0,caption:s.measurementTable,class:u.AH.measurementsTable,scale:"s"},(0,d.K)("calcite-table-row",{slot:"table-header"},(0,d.K)("calcite-table-header",{alignment:"center",heading:s.value}),(0,d.K)("calcite-table-header",{alignment:"center",heading:s.accuracy})),(0,d.K)("calcite-table-row",null,(0,d.K)("calcite-table-cell",{alignment:"center"},this._convertedMeasurement()),(0,d.K)("calcite-table-cell",{alignment:"center"},"distance"===a&&Array.isArray(t)&&t?.length||"area"===a&&t||"height"===a&&t?this.getAccuracy(this.measurementType):(0,d.K)("calcite-icon",{icon:"hourglass-active",scale:"s"})))):null}_renderNewMeasurementButton(){const{messages:e,measurementType:t}=this;return(0,d.K)("calcite-button",{class:u.AH.measurementsButton,onclick:()=>this.oiViewModel.initializeMeasurement(t)},e.newMeasurement)}_renderStartMeasurementMessage(){const{oiViewModel:{displayNewMeasurementButton:e},messages:t,_measurementResult:s}=this;return!e&&!s&&(0,d.K)("div",{class:u.AH.measurementDisplay,key:`start-measurement-${this.measurementType}`},t.startMeasurement)}render(){return(0,d.K)("calcite-panel",{class:u.AH.measurementResults,key:`measurement-result-container-${this.measurementType}`},this._renderStartMeasurementMessage(),this._renderNewMeasurementButton(),this._renderUnitSelect(),this._renderMeasurementResults())}};(0,a._)([(0,r.MZ)()],p.prototype,"_measurementResult",null),(0,a._)([(0,r.MZ)()],p.prototype,"_measurementAccuracy",null),(0,a._)([(0,r.MZ)()],p.prototype,"_measurementUnit",null),(0,a._)([(0,r.MZ)()],p.prototype,"_measurementUnitOptions",null),p=(0,a._)([(0,i.$)("esri.widgets.OrientedImageryViewer.components.ImageMeasurementWidget")],p);const y=p},33209:(e,t,s)=>{s.d(t,{t:()=>d});var a=s(93800),n=s(84190),r=s(48602),i=(s(21265),s(50925),s(14746),s(75269)),c=s(27811),u=s(49403),l=(s(17745),s(76697)),m=s(87118);const o="esri-unit-select",h={base:o,label:`${o}__label`,select:`${o}__select`};let d=class extends c.default{constructor(e,t){super(e,t),this._onSelectChange=e=>{this.onChange(e.currentTarget.value)}}loadDependencies(){return(0,u.W)({label:()=>s.e(60216).then(s.bind(s,60216)),option:()=>s.e(99163).then(s.bind(s,99163)),select:()=>s.e(34280).then(s.bind(s,34280))})}render(){const{messages:e,options:t,selectLabel:s,value:a,_onSelectChange:r}=this;return(0,m.K)("div",{class:h.base,key:"units"},(0,m.K)("calcite-label",{class:h.label},s,(0,m.K)("calcite-select",{class:h.select,label:s,onCalciteSelectChange:r},t.map((t=>(0,m.K)("calcite-option",{key:t,selected:t===a,value:t},(0,n.GT)(t)?e.systems[t]:e.units[t]?.pluralCapitalized))))))}};(0,a._)([(0,r.MZ)()],d.prototype,"options",void 0),(0,a._)([(0,r.MZ)()],d.prototype,"onChange",void 0),(0,a._)([(0,r.MZ)()],d.prototype,"selectLabel",void 0),(0,a._)([(0,r.MZ)()],d.prototype,"value",void 0),(0,a._)([(0,r.MZ)(),(0,l.G)("esri/core/t9n/Units")],d.prototype,"messages",void 0),d=(0,a._)([(0,i.$)("esri.widgets.support.UnitSelect")],d)}}]);