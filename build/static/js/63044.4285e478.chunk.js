"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[40663,63044],{40663:(e,n,r)=>{r.d(n,{AC:()=>t,DW:()=>o,Hj:()=>b,Ih:()=>z,Jy:()=>f,OW:()=>h,Rv:()=>l,UJ:()=>u,_i:()=>c,d8:()=>d,fs:()=>p,kc:()=>y,ke:()=>w,mE:()=>a,wx:()=>s});var i=r(74719);async function t(e,n){const{layer:r,view:t,forBinning:a,filter:s}=e;if(!r||!t)throw new i.default(`${n}:missing-parameters`,"'layer' and 'view' parameters are required");await r.load();const u="featureReduction"in r?r.featureReduction:null;if(a){if("binning"!==u?.type)throw new i.default(`${n}:invalid-parameters`,"'layer' must have 'featureReduction' property defined with 'binning' type when 'forBinning' parameter is true");if(s)throw new i.default(`${n}:invalid-parameters`,"'filter' parameter is not supported when 'forBinning' parameter is true")}return e}async function a(e){const{layer:n,forBinning:r,renderer:t}=e;await n.load();const a="featureReduction"in n?n.featureReduction:null,s=t?.clone()??(r&&"binning"===a?.type?a?.renderer?.clone():"renderer"in n?n.renderer?.clone():null);if(!s)throw new i.default("get-renderer-to-update:invalid-parameters","renderer not available");return s}function s(e,n,r){const i=e?.authoringInfo?.visualVariables;return i?.find((e=>"reference-size"===r?e.type===n&&"reference-size"===e.theme:e.type===n))}function u(e){if(!e)return null;const n=e.type,r="visualVariables"in e?e.visualVariables:null,i=r?.find(z),t=r?.find(h),a=e.authoringInfo,u=s(e,"color"),o=s(e,"size"),l=s(e,"size","reference-size");if("class-breaks"===n){if("univariate-color-size"===a?.type)return"univariate-color-size";if(i)return t?o?.units?"color-size-age":u?.units?"color-age-size":"color-size":u?.units?"color-age":l?"color-size":"color-continuous";if(t)return o?.units?"size-age":"size-continuous";if(e.classBreakInfos.length>1)return"class-breaks-color"===a?.type?"color-class-breaks":"class-breaks-size"===a?.type?"size-class-breaks":null;if(l)return"size-continuous"}return"unique-value"===n?e.valueExpression?"predominance"===a?.type?"predominance":"relationship"===a?.type?t||l?"relationship-size":"relationship":t||l?"type-size":"type":t?o?.units?"type-size-age":"type-size":l?"type-size":"type":"pie-chart"===n?"pie-chart":"dot-density"===n?"dot-density":null}function o(e){return!!e.visualVariables?.some(g)}function l(e){return!!e.visualVariables?.some(m)}function c(e){return e?.findIndex(g)??-1}function f(e){return e?.findIndex(h)??-1}function p(e){return e?.findIndex(z)??-1}function d(e){return e?.findIndex(v)??-1}function y(e){return e?.findIndex(m)??-1}function z(e){return"color"===e.type}function v(e){return"opacity"===e.type}function h(e){return"size"===e.type&&"outline"!==e.target&&"$view.scale"!==e.valueExpression}function g(e){return"size"===e.type&&"outline"===e.target}function m(e){return"size"===e.type&&"$view.scale"===e.valueExpression&&"outline"!==e.target&&Array.isArray(e.stops)}function w(e,n,r){const i=e.visualVariables,t=r(i);if(!n||Array.isArray(n)&&!n.length)return;Array.isArray(n)||(n=[n]);const a=n.map((e=>e.clone()));i?t>-1?i.splice(t,1,...a):i.push(...a):e.visualVariables=a}function b(e,n,r){const i=n?.visualVariables.find((e=>e.type===r)),t=s(e,r);t&&i&&(t.minSliderValue=i.minSliderValue,t.maxSliderValue=i.maxSliderValue,"size"===r&&"reference-size"===t.theme&&(t.sizeStops=i.sizeStops?.map((e=>e.clone())),t.referenceSizeScale=i.referenceSizeScale))}}}]);