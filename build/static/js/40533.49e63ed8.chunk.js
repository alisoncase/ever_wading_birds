"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[13938,40533],{2925:(e,t,n)=>{n.d(t,{$:()=>x,IB:()=>u,Iy:()=>H,KV:()=>V,N2:()=>M,QP:()=>J,RH:()=>T,Vl:()=>O,Ws:()=>B,ZD:()=>z,_L:()=>q,bJ:()=>D,e$:()=>N,f6:()=>G,hw:()=>$,pW:()=>E,pf:()=>R,rs:()=>k,sn:()=>_,we:()=>P});var a=n(88102),i=n(62631),s=n(82301),r=n(64682),l=n(60548),o=n(24646);function u(e){return"r"in e&&"g"in e&&"b"in e}function c(e){return"h"in e&&"s"in e&&"v"in e}function f(e){return"l"in e&&"a"in e&&"b"in e}function p(e){return"l"in e&&"c"in e&&"h"in e}const m=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],h=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function g(e,t){const n=[];let a,i;if(e[0].length!==t.length)throw new Error("dimensions do not match");const s=e.length,r=e[0].length;let l=0;for(a=0;a<s;a++){for(l=0,i=0;i<r;i++)l+=e[a][i]*t[i];n.push(l)}return n}function d(e){const t=[e.r/255,e.g/255,e.b/255].map((e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4)),n=g(m,t);return{x:100*n[0],y:100*n[1],z:100*n[2]}}function w(e){const t=g(h,[e.x/100,e.y/100,e.z/100]).map((e=>{const t=e<=.0031308?12.92*e:1.055*e**(1/2.4)-.055;return Math.min(1,Math.max(t,0))}));return{r:Math.round(255*t[0]),g:Math.round(255*t[1]),b:Math.round(255*t[2])}}function v(e){const t=[e.x/95.047,e.y/100,e.z/108.883].map((e=>e>(6/29)**3?e**(1/3):1/3*(29/6)**2*e+4/29));return{l:116*t[1]-16,a:500*(t[0]-t[1]),b:200*(t[1]-t[2])}}function y(e){const t=e.l,n=[(t+16)/116+e.a/500,(t+16)/116,(t+16)/116-e.b/200].map((e=>e>6/29?e**3:3*(6/29)**2*(e-4/29)));return{x:95.047*n[0],y:100*n[1],z:108.883*n[2]}}function b(e){return function(e){const t=e.l,n=e.a,a=e.b,i=Math.sqrt(n*n+a*a);let s=Math.atan2(a,n);return s=s>0?s:s+2*Math.PI,{l:t,c:i,h:s}}(v(d(e)))}function S(e){return w(y(function(e){const t=e.l,n=e.c,a=e.h;return{l:t,a:n*Math.cos(a),b:n*Math.sin(a)}}(e)))}function x(e){return u(e)?e:p(e)?S(e):f(e)?function(e){return w(y(e))}(e):function(e){return"x"in e&&"y"in e&&"z"in e}(e)?w(e):c(e)?function(e){const t=(e.h+360)%360/60,n=e.s/100,a=e.v/100*255,i=a*n,s=i*(1-Math.abs(t%2-1));let r;switch(Math.floor(t)){case 0:r={r:i,g:s,b:0};break;case 1:r={r:s,g:i,b:0};break;case 2:r={r:0,g:i,b:s};break;case 3:r={r:0,g:s,b:i};break;case 4:r={r:s,g:0,b:i};break;case 5:case 6:r={r:i,g:0,b:s};break;default:r={r:0,g:0,b:0}}return r.r=Math.round(r.r+a-i),r.g=Math.round(r.g+a-i),r.b=Math.round(r.b+a-i),r}(e):e}function M(e){return c(e)?e:function(e){const t=e.r,n=e.g,a=e.b,i=Math.max(t,n,a),s=i-Math.min(t,n,a);let r=i,l=0===s?0:i===t?(n-a)/s%6:i===n?(a-t)/s+2:(t-n)/s+4,o=0===s?0:s/r;return l<0&&(l+=6),l*=60,o*=100,r*=100/255,{h:l,s:o,v:r}}(x(e))}function z(e){return f(e)?e:function(e){return v(d(e))}(x(e))}function T(e){return p(e)?e:b(x(e))}function k(e){return A(e).isBright?"light":"dark"}function A(e){let{r:t,g:n,b:i,a:s}=e;return s<1&&(t=Math.round(s*t+255*(1-s)),n=Math.round(s*n+255*(1-s)),i=Math.round(s*i+255*(1-s))),new a.default({r:t,g:n,b:i})}function B(e,t){const{r:n,g:a,b:i}=t?.ignoreAlpha?e:A(e);return.2126*n+.7152*a+.0722*i}var E,L;function D(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E.High;return B(e,{ignoreAlpha:!0})>t?new a.default([0,0,0,e.a]):new a.default([255,255,255,e.a])}function N(e,t){const n=z(e);n.l*=1-t;const a=x(n),i=e.clone();return i.setColor(a),i.a=e.a,i}function q(e,t){const n=e.clone();return n.a*=t,n}function O(e,t){const n=M(e);n.s*=t;const a=x(n),i=e.clone();return i.setColor(a),i.a=e.a,i}function J(e){return a.default.toUnitRGBA(e)}function $(e,t){return e===t||null!=e&&e.equals(t)}function P(e,t){return e===t||null!=e&&null!=t&&(0,l.e)(e,t)}function R(e){return(0,o.fA)(e[0],e[1],e[2],e.length>3?e[3]:1)}function V(e){return e[0]??=0,e[1]??=0,e[2]??=0,e}function _(e){return e.length=4,V(e),e[3]??=1,(0,r.qE)(e[3],0,1),e}function G(e,t){const n=a.default.toUnitRGBA(e);return n[3]*=t,n}function H(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(0===e.length||t<=0)return[];if(1===(e=e.map((e=>"string"==typeof e?new a.default(e):e))).length||1===t){const n=[],a=e[0];for(let e=0;e<t;e++)n.push(a.clone());return n}if(n.shuffle&&(e=(0,i.k4)((0,s.clone)(e),n.seed)),e.length>=t){const n=[],a=(e.length-1)/(t-1);for(let i=0;i<t;i++){const t=Math.round(i*a);n.push(e[t].clone())}return n}return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=[],s=e.length-1,r=Math.ceil((t-e.length)/s);e:for(let i=0;i<s;i++){const s=e[i],l=e[i+1];for(let i=1;i<=r;i++){const o=i/(r+1);if(a.push(j(s,l,o,n)),a.length+e.length===t)break e}}return[...e.map((e=>e.clone())),...(0,i.k4)(a,n.seed??1)]}(e,t,n)}(L=E||(E={}))[L.Low=160]="Low",L[L.High=225]="High";const I=(e,t)=>{const n=Math.floor(10*t())-5;return Math.min(255,Math.max(0,e+n))};function j(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=e.r,l=e.g,o=e.b,u=t.r,c=t.g,f=t.b,p=Math.round(r+(u-r)*n),m=Math.round(l+(c-l)*n),h=Math.round(o+(f-o)*n);if(!s.offset)return new a.default([p,m,h]);const g=(0,i.Mo)(s.seed);return new a.default([I(p,g),I(m,g),I(h,g)])}},28245:(e,t,n)=>{n.d(t,{bG:()=>r,Ty:()=>o,YJ:()=>u,Fq:()=>c,vt:()=>l});var a=n(82301),i=n(79538);class s{constructor(e){const{name:t,label:n,description:a,schemes:s}=e;this.name=t,this.label=n,this.description=a,this.schemes=s;const r=e.basemapGroups||i.Np;let l=[];Object.keys(r).forEach((e=>{l=l.concat(r[e])})),this.supportedBasemaps=l,this.basemapGroups=r}isBasemapSupported(e){const t=(0,i.T1)(e,this.supportedBasemaps);return!(!t||!this.supportedBasemaps.includes(t))}getRawSchemes(e){const{basemapId:t,basemapTheme:n}=function(e,t,n){let a=null,s=null;if(t&&(a=(0,i.T1)(t,e,!1),a)){const e=(0,i.BV)(a);null!=e&&(s=e)}return!a&&n&&(a="dark"===n?"dark-gray":"gray",s=n),a||s||(a="gray",s="light"),{basemapId:a,basemapTheme:s}}(this.supportedBasemaps,e.basemap,e.basemapTheme);let s=n;if(t){const e=(0,i.BV)(t,this.basemapGroups);null!=e&&(s=e)}let r=e.geometryType;"multipoint"===r?r="point":"mesh"===r&&(r="polygon");const l=this.schemes[r]||this.schemes.default;return{schemesInfo:(0,a.clone)(l[s]),basemapId:t,basemapTheme:n}}}function r(e){const t=e.themeDictionary,n=new Map;for(const a in t){const e=t[a];n.set(a,new s(e))}return n}function l(e,t){const n=[];return e.forEach((e=>{e.isBasemapSupported(t)&&n.push({name:e.name,label:e.label,description:e.description,basemaps:[...e.supportedBasemaps]})})),n}function o(e,t){if(!e)return;if(!t)return;let n=null;const a=[t.primaryScheme,...t.secondarySchemes];for(const i of a)if(i.name?.toLowerCase()===e.toLowerCase()){n=i;break}return n}function u(e,t,n){if(!e&&!t)return[];if(!n)return[];const a=!e?.length,i=!t?.length,s=[n.primaryScheme,...n.secondarySchemes],r=[];for(const l of s){const n=!!a||e.some((e=>l.tags.includes(e))),s=!i&&t.some((e=>l.tags.includes(e)));n&&!s&&r.push(l)}return r}function c(e){const t=e.theme;if(t)return t.getRawSchemes({basemap:e.basemap,geometryType:e.geometryType,basemapTheme:e.basemapTheme})}},30178:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var a=n(74719),i=n(11099),s=n(46176),r=n(85151),l=n(2938);const o=500,u=1e8,c=1280,f=12,p=30,m=15;async function h(e){const{view:t,sampleSize:n}=e;if(!e||!e.layer)throw new a.default("scale-range:missing-parameters","'layer' parameter is required");if(e.snapToLOD&&!t)throw new a.default("scale-range:missing-parameters","'view' parameter is required when 'snapToLOD' is true");e.forBinning&&(0,r.p)(e,"scale-range");const{layer:i,...s}=e,u=e.forBinning?l.Mi:l.J4,c=(0,l.Jg)(i,u,e.forBinning);if(!c)throw new a.default("scale-range:invalid-parameters","'layer' must be one of these types: "+(0,l.Ho)(u).join(", "));const f={layerAdapter:c,...s};f.sampleSize=n||o,await(t?.when());const p=null!=f.signal?{signal:f.signal}:null;return await c.load(p),f}function g(e,t,n){const a=function(e,t){const n=f,a=c/4,i=p,s=c/4,r=m,l=c/2;let o=0,u=0,h=0,g=0;switch(e){case"point":case"multipoint":{const e=t;o=e.avgMinDistance??0,u=n,h=e.minDistance??0,g=a;break}case"polyline":{const e=t;o=e.avgLength??0,u=i,h=e.minLength??0,g=s;break}case"polygon":{const e=t;o=e.avgSize??0,u=r,h=e.minSize??0,g=l;break}}return{resolutionForMinScale:o>0?o/u:null,resolutionForMaxScale:h>0?h/g:null}}(e.geometryType,t),s=n?.spatialReference||e.layer.spatialReference;return{minScale:(0,i.gB)(a.resolutionForMinScale??0,s),maxScale:(0,i.gB)(a.resolutionForMaxScale??0,s)}}function d(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e.constraints&&"effectiveLODs"in e.constraints){const a=e.constraints.effectiveLODs,i=n?a:a.slice().reverse();let s=null;for(const e of i)if(!(n?e.scale>t:e.scale<t)){s=e;break}return s}}function w(e,t,n,i){const{view:s,snapToLOD:r,layerAdapter:l}=e;if(r&&s){const e=d(s,t),a=d(s,n,!1);t=e?e.scale:t,n=a?a.scale:n}if(t<n)throw new a.default("scale-range:invalid","calculated minScale is less than maxScale.");return n>t/2&&(n=Math.floor(n/2)),t>u&&(t=0),"polygon"!==l.geometryType&&(n=0),{minScale:Math.ceil(t),maxScale:Math.floor(n),spatialStatistics:i}}async function v(e){const t=await h(e),{view:n,sampleSize:i,layerAdapter:r,signal:l,filter:o}=t,u=await r.getSampleFeatures({view:n,sampleSize:i,returnGeometry:!0,filter:o,signal:l},"json");if(!u?.length)throw new a.default("scale-range:insufficient-info","No features are available to calculate statistics");const c=await(0,s.A)({features:u,geometryType:r.geometryType}),{minScale:f,maxScale:p}=g(r,c,n);return w(t,f,p,c)}},30333:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var a=n(74719),i=n(65104),s=n(17675),r=n(2938);async function l(e){const{layerAdapter:t,...n}=await async function(e){if(!(e&&e.layer&&e.startTime&&e.endTime&&e.unit))throw new a.default("summary-statistics-for-age:missing-parameters","'layer', 'startTime', 'endTime' and 'unit' parameters are required");const{layer:t,...n}=e,i=(0,r.Jg)(t,r.J4);if(!i)throw new a.default("summary-statistics-for-age:invalid-parameters","'layer' must be one of these types: "+(0,r.Ho)(r.J4).join(", "));const l={layerAdapter:i,...n},o=l.view,u=null!=l.signal?{signal:l.signal}:null;await Promise.all([o?.when(),i.load(u)]);const c=(0,s.verifyDates)(i,l.startTime,l.endTime,"summary-statistics-for-age:invalid-parameters");if(c)throw c;if(!l.unit||!s.supportedAgeUnits.includes(l.unit))throw new a.default("summary-statistics-for-age:invalid-parameters",`Supported units are: ${s.supportedAgeUnits.join(", ")}`);return l}(e),{view:l,startTime:o,endTime:u,unit:c,minValue:f,maxValue:p,signal:m,filter:h,outStatisticTypes:g}=n,{valueExpression:d,statisticsQuery:w}=(0,s.getAgeExpressions)({layer:t,startTime:o,endTime:u,unit:c}),v={layer:t,valueExpression:d,...w,minValue:f,maxValue:p,outStatisticTypes:g,view:l,filter:h,signal:m};return(0,i.default)(v)}},42648:(e,t,n)=>{n.d(t,{_J:()=>u,_t:()=>o});var a=n(16804),i=n(79538);const s=i.Np.light,r=i.Np.dark;function l(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b}function o(e,t){let n=0;if(e.length===t.length){let a=e.every(((e,n)=>l(e,t[n])));a?n=1:(a=e.slice().reverse().every(((e,n)=>l(e,t[n]))),a&&(n=-1))}return n}function u(e,t){return Math.ceil(function(e){const t=e.width,n=e.height;let i=e.pixelSizeAt(e.toMap((0,a.tc)(.5*t,.5*n),{exclude:[]}));if(i<=0&&(i=e.pixelSizeAt(e.toMap((0,a.tc)(.5*t,.95*n),{exclude:[]})),i<=0&&"camera"in e)){const t=e.camera.position.clone();t.z=0,i=2*e.pixelSizeAt(t)}return i}(t)*(0,a.Lz)((0,a.cr)(e)))}},57488:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(74719),i=n(30333),s=n(17675),r=n(79538);async function l(e){const t="days",n={...e,outStatisticTypes:r.XR,unit:t},l=await(0,i.default)(n);if(null==l.avg)throw new a.default("age-unit:insufficient-info","'avg' statistics is invalid");const o=function(e){const t=Math.abs(e.avg);let n=null;return s.supportedAgeUnits.some((e=>{const a=r.SO[e];return t>2*a&&(n=e),!!n})),n}({...l,avg:l.avg});if(o===t)return{unit:o,statistics:l};n.unit=o;const u=await(0,i.default)(n);if(null==u.avg)throw new a.default("age-unit:insufficient-info","'avg' statistics is invalid");return{unit:o,statistics:u}}},66787:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});n(21265);var a=n(74719),i=n(16804),s=n(11099),r=n(56563),l=n(81467),o=n(30178),u=n(85151),c=n(2938);const f=1e8,p=1128.497176,m=591657527.591555,h=[10,8,4,2],g=[100,100,60,30],d=[2,1,.75,.5],w=[32,18,12,6],v=[{level:0,resolution:156543.03392800014,scale:591657527.591555},{level:1,resolution:78271.51696399994,scale:295828763.795777},{level:2,resolution:39135.75848200009,scale:147914381.897889},{level:3,resolution:19567.87924099992,scale:73957190.948944},{level:4,resolution:9783.93962049996,scale:36978595.474472},{level:5,resolution:4891.96981024998,scale:18489297.737236},{level:6,resolution:2445.98490512499,scale:9244648.868618},{level:7,resolution:1222.992452562495,scale:4622324.434309},{level:8,resolution:611.4962262813797,scale:2311162.217155},{level:9,resolution:305.74811314055756,scale:1155581.108577},{level:10,resolution:152.87405657041106,scale:577790.554289},{level:11,resolution:76.43702828507324,scale:288895.277144},{level:12,resolution:38.21851414253662,scale:144447.638572},{level:13,resolution:19.10925707126831,scale:72223.819286},{level:14,resolution:9.554628535634155,scale:36111.909643},{level:15,resolution:4.77731426794937,scale:18055.954822},{level:16,resolution:2.388657133974685,scale:9027.977411},{level:17,resolution:1.1943285668550503,scale:4513.988705},{level:18,resolution:.5971642835598172,scale:2256.994353},{level:19,resolution:.29858214164761665,scale:1128.497176}];function y(e,t){const{view:n}=e;if(!n)throw new a.default("scale-range:invalid-parameters","'view' is required");const i=t.minScale||f,s=n.constraints&&"effectiveLODs"in n.constraints&&n.constraints.effectiveLODs||v,r=[];for(let a=0;a<s.length;a++){if(s[a].scale>i)continue;const e=Number(a),t=[e-3,e,e+3,e+6];for(const n of t)n>-1&&n<s.length&&r.push(s[n].scale);break}return r.sort(((e,t)=>e-t))}function b(e,t){const{view:n,layerAdapter:i}=e;if(!n)throw new a.default("scale-range:invalid-parameters","'view' is required");const r=i.fullExtent,l=i.minScale||p,o=i.maxScale||m,u=t.minScale||0,c=t.maxScale||0;let f=null!=r?(0,s.X_)(n,r):0;return f=f<l&&f>o?f:0,{scales:[l,o,u,c,f].map(Math.round).sort(((e,t)=>e-t)).filter(((e,t,n)=>!!e&&n.indexOf(e)===t)).filter(((e,t,n)=>!t||Math.abs(e-n[t-1])>5)),fullExtentScale:f}}function S(e,t){const{spatialStatistics:n,minScale:s,maxScale:o}=t;if(!("avgSize"in n)||!n.avgSize)throw new a.default("size-range:insufficient-info","average polygon size is invalid");const u=n.avgSize,{view:c}=e;if(!c)throw new a.default("scale-range:invalid-parameters","'view' is required");const{resolution:f,scale:p}=c,m=f/p,{scales:h,fullExtentScale:g}=b(e,{minScale:s,maxScale:o}),d=[],w=[];return h.forEach(((e,t)=>{const{min:n,max:a}=function(e,t){const n=Math.ceil(e/t);let a=Math.ceil(n/4);a<4?a=4:a>16&&(a=16);const i=5*a;return{min:a,max:i<50?50:i}}(u,m*e),s=h.indexOf(g),r=s>-1&&t>s?2:1;d.push(new l.default({value:e,size:(0,i.PN)(n/r)})),w.push(new l.default({value:e,size:(0,i.PN)(a/r)}))})),{minSize:new r.default({valueExpression:"$view.scale",stops:d}),maxSize:new r.default({valueExpression:"$view.scale",stops:w})}}async function x(e){const t=await async function(e){const{view:t}=e;if(!(e&&t&&e.layer))throw new a.default("size-range:missing-parameters","'view' and 'layer' parameters are required");e.forBinning&&(0,u.p)(e,"size-range");const{layer:n,...i}=e,s=e.forBinning?c.Mi:c.J4,r=(0,c.Jg)(n,s,e.forBinning);if(!r)throw new a.default("size-range:invalid-parameters","'layer' must be one of these types: "+(0,c.Ho)(s).join(", "));const l={layerAdapter:r,...i,view:t};await t.when();const o=null!=l.signal?{signal:l.signal}:null;await r.load(o);const f=r.geometryType;if("point"!==f&&"multipoint"!==f&&"polyline"!==f&&"polygon"!==f)throw new a.default("size-range:not-supported",`sizeRange is not supported for geometryType: ${f}`);return l}(e),{view:n,layerAdapter:s,signal:f,filter:p}=t,m=await(0,o.default)({layer:s,view:n,signal:f,filter:p});switch(s.geometryType){case"point":case"multipoint":return function(e,t){const{minScale:n,maxScale:s}=t,o=y(e,{minScale:n,maxScale:s});if(!o.length)throw new a.default("scale-range:insufficient-info","not enough scale values");return{minSize:new r.default({valueExpression:"$view.scale",stops:o.map(((e,t)=>new l.default({value:e,size:(0,i.PN)(h[t])})))}),maxSize:new r.default({valueExpression:"$view.scale",stops:o.map(((e,t)=>new l.default({value:e,size:(0,i.PN)(g[t])})))})}}(t,m);case"polyline":return function(e,t){const{minScale:n,maxScale:s}=t,o=y(e,{minScale:n,maxScale:s});if(!o.length)throw new a.default("scale-range:insufficient-info","not enough scale values");return{minSize:new r.default({valueExpression:"$view.scale",stops:o.map(((e,t)=>new l.default({value:e,size:(0,i.PN)(d[t])})))}),maxSize:new r.default({valueExpression:"$view.scale",stops:o.map(((e,t)=>new l.default({value:e,size:(0,i.PN)(w[t])})))})}}(t,m);case"polygon":return S(t,m);case"mesh":case"multipatch":return null}return null}}}]);