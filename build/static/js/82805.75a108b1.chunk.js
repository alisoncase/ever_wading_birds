"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[82805],{41572:(e,r,s)=>{s.d(r,{t:()=>n});var t=s(23060);async function n(e,r){let s=null;const n="string"==typeof r?r:r.path;if(!e.has(n)){const o=await(0,t.default)(n.replace(/\/VersionManagementServer/i,"/FeatureServer"),{query:{f:"json"}});s={serverVersion:Number(o.data.currentVersion),featureServerUrl:n.replace(/\/VersionManagementServer/i,"/FeatureServer")},e.set(r,s)}}},82805:(e,r,s)=>{s.r(r),s.d(r,{post:()=>f,serverVersionCacheMap:()=>d});var t=s(23060),n=s(74719),o=s(10193),i=s(41572),a=s(93800),u=s(19455),c=s(48602),p=(s(21265),s(50925),s(14746),s(75269));let l=class extends u.A{constructor(e){super(e),this.moment=null,this.success=!1}};(0,a._)([(0,c.MZ)({type:Date,json:{type:Number,write:{writer:(e,r)=>{r.moment=e?e.getTime():null}}}})],l.prototype,"moment",void 0),(0,a._)([(0,c.MZ)({type:Boolean,json:{write:!0}})],l.prototype,"success",void 0),l=(0,a._)([(0,p.$)("esri.rest.versionManagement.gdbVersion.support.PostResult")],l);const v=l,d=new Map;async function f(e,r,s,a){d.has(e)||await(0,i.t)(d,e);const u=d.get(e);if((u?.serverVersion??0)<=11.1)throw new n.default("post:enterprise-version","versioning API requires ArcGIS Enterprise version 11.2 or higher");if(!r)throw new n.default("post:missing-guid","guid for version is missing");const c=(0,o.Dl)(e),p=s.toJSON();s.rows&&(p.rows=JSON.stringify(s.rows));const l=(0,o.jV)(c.query,{query:(0,o.lF)({...p,f:"json"}),...a,method:"post"});r.startsWith("{")&&(r=r.slice(1,-1));const f=`${c.path}/versions/${r}/post`,{data:w}=await(0,t.default)(f,l);return v.fromJSON(w)}}}]);