"use strict";(self.webpackChunkever_wading_birds=self.webpackChunkever_wading_birds||[]).push([[51413],{51413:(e,a,t)=>{t.d(a,{K:()=>f,Q:()=>s});var r=t(91706);const n=new Set(["Catalog Layer","Feature Layer","Oriented Imagery Layer"]);async function s(e,a){const{loadContext:t,...n}=a||{},s=t?await t.fetchServiceMetadata(e,n):await(0,r.V)(e,n);l(s),u(s);const c={serviceJSON:s};if((s.currentVersion??0)<10.5)return c;const i=`${e}/layers`,y=t?await t.fetchServiceMetadata(i,n):await(0,r.V)(i,n);return l(y),u(y),c.layersJSON={layers:y.layers,tables:y.tables},c}function c(e){const{type:a}=e;return!!a&&n.has(a)}function i(e){return"Table"===e.type}function u(e){e.layers=e.layers?.filter(c),e.tables=e.tables?.filter(i)}function y(e){e.type||="Feature Layer"}function o(e){e.type||="Table"}function l(e){e.layers?.forEach(y),e.tables?.forEach(o)}function f(e){switch(e){case"Feature Layer":case"Table":return"FeatureLayer";case"Oriented Imagery Layer":return"OrientedImageryLayer";case"Catalog Layer":return"CatalogLayer"}return"FeatureLayer"}},91706:(e,a,t)=>{t.d(a,{V:()=>n});var r=t(23060);async function n(e,a){const{data:t}=await(0,r.default)(e,{responseType:"json",query:{f:"json",...a?.customParameters,token:a?.apiKey}});return t}}}]);